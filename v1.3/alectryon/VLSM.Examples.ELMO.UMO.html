<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>UMO.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk0"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Itauto.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FunctionalExtensionality.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble StdppExtras StdppListSet.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM VLSMProjections Composition Equivocation ProjectionTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1"><span class="kn">From</span> VLSM.Examples <span class="kn">Require Import</span> BaseELMO.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file extraction_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file equations_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">ELMO: Protocol Definitions and Properties for UMO</h1>
<div class="paragraph"> </div>

  This module contains definitions and properties of UMO components and
  the UMO protocol.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_UMO</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">Address</span> : <span class="kt">Type</span>}
  `{EqDecision Address}
  (State := @State Address)
  (Observation := @Observation Address)
  (Message := @Message Address).</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Component definition</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
The initial state has no observations and the same address as the component. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_component_initial_state_prop</span> (<span class="nv">i</span> : Address) (<span class="nv">st</span> : State) : <span class="kt">Prop</span> :=
  obs st = [] /\ adr st = i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_component_initial_state_type</span> (<span class="nv">i</span> : Address) : <span class="kt">Type</span> :=
  {st : State | UMO_component_initial_state_prop i st}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Program Definition</span> <span class="nf">UMO_component_initial_state</span>
  (<span class="nv">i</span> : Address) : UMO_component_initial_state_type i := MkState [] i.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_initial_state_prop i (MkState [] i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_initial_state_prop i (MkState [] i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">compute</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Inhabited_UMO_component_initial_state_type</span> (<span class="nv">i</span> : Address) :
  Inhabited (UMO_component_initial_state_type i) :=
    populate (UMO_component_initial_state i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_component_transition</span>
  (<span class="nv">l</span> : Label) (<span class="nv">s</span> : State) (<span class="nv">om</span> : option Message)
  : State * option Message :=
  <span class="kr">match</span> l, om <span class="kr">with</span>
  | Send, Some m =&gt; (s, om)
  | Send, None   =&gt;
      <span class="kr">let</span> <span class="nv">ob</span> := MkObservation Send (MkMessage s) <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">st</span> := s &lt;+&gt; ob <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">msg</span> := Some (MkMessage s) <span class="kr">in</span>
        (st, msg)
  | Receive, None =&gt; (s, None)
  | Receive, Some m =&gt;
      <span class="kr">let</span> <span class="nv">ob</span> := MkObservation Receive m <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">st</span> := s &lt;+&gt; ob <span class="kr">in</span>
      <span class="kr">let</span> <span class="nv">msg</span> := None <span class="kr">in</span>
        (st, msg)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">UMO_component_valid</span> : Label -&gt; State -&gt; option Message -&gt; <span class="kt">Prop</span> :=
| OCV_Send    : <span class="kr">forall</span> <span class="nv">st</span> : State, UMO_component_valid Send st None
| OCV_Receive : <span class="kr">forall</span> (<span class="nv">st</span> : State) (<span class="nv">msg</span> : Message), UMO_component_valid Receive st (Some msg).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">invert_UMO_component_valid</span> :=
<span class="kp">repeat</span> <span class="kr">match goal with</span>
| H : UMO_component_valid Receive _ None  |- _ =&gt; <span class="nb">inversion</span> H; <span class="nb">subst</span>; <span class="nb">clear</span> H
| H : UMO_component_valid Send _ (Some _) |- _ =&gt; <span class="nb">inversion</span> H; <span class="nb">subst</span>; <span class="nb">clear</span> H
<span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_component_machine</span> (<span class="nv">i</span> : Address) : VLSMMachine ELMO_component_type :=
{|
  initial_state_prop := UMO_component_initial_state_prop i;
  initial_message_prop := const <span class="kt">False</span>;
  s0 := Inhabited_UMO_component_initial_state_type i;
  transition := <span class="kr">fun</span> <span class="nv">l</span> &#39;(st, om) =&gt; UMO_component_transition l st om;
  valid := <span class="kr">fun</span> <span class="nv">l</span> &#39;(st, om) =&gt; UMO_component_valid l st om;
|}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_component</span> (<span class="nv">i</span> : Address) : VLSM Message :=
{|
  vlsm_type := ELMO_component_type;
  vlsm_machine := UMO_component_machine i;
|}.</span></span></pre><div class="doc">
UMO components have a unique initial state. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk4"><span class="kn">Lemma</span> <span class="nf">UMO_component_initial_state_unique</span> :
  <span class="kr">forall</span> {<span class="nv">i</span> : Address} {<span class="nv">s1</span> <span class="nv">s2</span> : State},
    UMO_component_initial_state_prop i s1 -&gt;
    UMO_component_initial_state_prop i s2 -&gt;
      s1 = s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">s1</span> <span class="nv">s2</span> : State),
  UMO_component_initial_state_prop i s1
  ‚Üí UMO_component_initial_state_prop i s2 ‚Üí s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">s1</span> <span class="nv">s2</span> : State),
  UMO_component_initial_state_prop i s1
  ‚Üí UMO_component_initial_state_prop i s2 ‚Üí s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">do</span> <span class="mi">2</span> <span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">destruct</span> s1, s2; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6"><span class="kn">Lemma</span> <span class="nf">UMO_component_initial_state_spec</span> :
  <span class="kr">forall</span> {<span class="nv">i</span> : Address} {<span class="nv">s</span> : State},
    UMO_component_initial_state_prop i s -&gt; s = MkState [] i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">s</span> : State),
  UMO_component_initial_state_prop i s
  ‚Üí s = MkState [] i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">s</span> : State),
  UMO_component_initial_state_prop i s
  ‚Üí s = MkState [] i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">destruct</span> s; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk8">#[export] <span class="kn">Instance</span> <span class="nf">HasBeenSentCapability_UMO_component</span>
  (<span class="nv">i</span> : Address) : HasBeenSentCapability (UMO_component i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenSentCapability (UMO_component i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenSentCapability (UMO_component i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka"><span class="nb">apply</span> Build_HasBeenSentCapability <span class="kr">with</span> (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">m</span> =&gt; m ‚àà sentMessages s)
  ; [<span class="bp">by</span> <span class="nb">intros</span> s m; <span class="nb">typeclasses eauto</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent_stepwise_prop
  (<span class="kr">Œª</span> (<span class="nv">s</span> : BaseELMO.State) (<span class="nv">m</span> : Message),
     m ‚àà sentMessages s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : VLSM.state (UMO_component i),
  initial_state_prop s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : Message, m ‚àâ sentMessages s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><label class="goal-separator" for="UMO-v-chkc"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label
         (preloaded_with_all_messages_vlsm
            (UMO_component i))) 
  (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            (UMO_component i))) 
  (<span class="nv">im</span> : option Message) 
  (<span class="nv">s&#39;</span> : VLSM.state
          (preloaded_with_all_messages_vlsm
             (UMO_component i))) 
  (<span class="nv">om</span> : option Message),
  input_constrained_transition 
    (UMO_component i) l (
    s, im) (s&#39;, om)
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">msg</span> : Message,
      msg ‚àà sentMessages s&#39;
      ‚Üî field_selector output msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |} ‚à® msg ‚àà sentMessages s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : VLSM.state (UMO_component i),
  initial_state_prop s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : Message, m ‚àâ sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [] []; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; <span class="nb">cbn</span>; <span class="nb">apply</span> not_elem_of_nil.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label
         (preloaded_with_all_messages_vlsm
            (UMO_component i))) (<span class="nv">s</span> : VLSM.state
                                       (preloaded_with_all_messages_vlsm
                                          (UMO_component
                                             i))) 
  (<span class="nv">im</span> : option Message) (<span class="nv">s&#39;</span> : VLSM.state
                                (preloaded_with_all_messages_vlsm
                                   (UMO_component i))) 
  (<span class="nv">om</span> : option Message),
  input_constrained_transition (UMO_component i) l
    (s, im) (s&#39;, om)
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">msg</span> : Message,
      msg ‚àà sentMessages s&#39;
      ‚Üî field_selector output msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |} ‚à® msg ‚àà sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf"><span class="nb">intros</span> l s im s&#39; om [(Hvsp &amp; Hovmp &amp; Hv) Ht] m; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) im</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid l s im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition l s im = (s&#39;, om)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages s&#39; ‚Üî om = Some m ‚à® m ‚àà sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk10"><span class="nb">destruct</span> l, im; <span class="nb">cbn</span> <span class="kr">in</span> *; invert_UMO_component_valid
    ; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) 
  (Some m0)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s (Some m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">False</span>
     <span class="kr">then</span>
      MkObservation Receive m0
      :: filter isSend (obs s)
     <span class="kr">else</span> filter isSend (obs s))
‚Üî None = Some m ‚à® m ‚àà sentMessages s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk11" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) None</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s None</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk11"><hr></label><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">True</span>
     <span class="kr">then</span>
      MkObservation Send (MkMessage s)
      :: filter isSend (obs s)
     <span class="kr">else</span> filter isSend (obs s))
‚Üî Some (MkMessage s) = Some m ‚à® m ‚àà sentMessages s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) 
  (Some m0)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s (Some m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">False</span>
     <span class="kr">then</span>
      MkObservation Receive m0
      :: filter isSend (obs s)
     <span class="kr">else</span> filter isSend (obs s))
‚Üî None = Some m ‚à® m ‚àà sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_False; <span class="nb">cbn</span>; <span class="nb">firstorder</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk13">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) None</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s None</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">True</span>
     <span class="kr">then</span>
      MkObservation Send (MkMessage s)
      :: filter isSend (obs s)
     <span class="kr">else</span> filter isSend (obs s))
‚Üî Some (MkMessage s) = Some m ‚à® m ‚àà sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14"><span class="nb">rewrite</span> decide_True <span class="bp">by</span> <span class="bp">done</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) None</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s None</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà MkMessage s :: map message (filter isSend (obs s))
‚Üî Some (MkMessage s) = Some m ‚à® m ‚àà sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk15"><span class="nb">unfold</span> Message; <span class="nb">rewrite</span> elem_of_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) None</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s None</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = MkMessage s
‚à® m ‚àà map message (filter isSend (obs s))
‚Üî Some (MkMessage s) = Some m ‚à® m ‚àà sentMessages s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">firstorder</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16">#[export] <span class="kn">Instance</span> <span class="nf">HasBeenReceivedCapability_UMO_component</span>
  (<span class="nv">i</span> : Address) : HasBeenReceivedCapability (UMO_component i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenReceivedCapability (UMO_component i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HasBeenReceivedCapability (UMO_component i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18"><span class="nb">eapply</span> Build_HasBeenReceivedCapability <span class="kr">with</span> (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">m</span> =&gt; m ‚àà receivedMessages s)
  ; [<span class="nb">intros</span> s m; <span class="nb">typeclasses eauto</span> | <span class="nb">split</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : VLSM.state (UMO_component i),
  initial_state_prop s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : Message, m ‚àâ receivedMessages s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk19" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk19"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label
         (preloaded_with_all_messages_vlsm
            (UMO_component i))) 
  (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            (UMO_component i))) 
  (<span class="nv">im</span> : option Message) 
  (<span class="nv">s&#39;</span> : VLSM.state
          (preloaded_with_all_messages_vlsm
             (UMO_component i))) 
  (<span class="nv">om</span> : option Message),
  input_constrained_transition 
    (UMO_component i) l (
    s, im) (s&#39;, om)
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">msg</span> : Message,
      msg ‚àà receivedMessages s&#39;
      ‚Üî field_selector input msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |} ‚à® msg ‚àà receivedMessages s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : VLSM.state (UMO_component i),
  initial_state_prop s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">m</span> : Message, m ‚àâ receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [] []; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; <span class="nb">cbn</span>; <span class="nb">apply</span> not_elem_of_nil.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label
         (preloaded_with_all_messages_vlsm
            (UMO_component i))) (<span class="nv">s</span> : VLSM.state
                                       (preloaded_with_all_messages_vlsm
                                          (UMO_component
                                             i))) 
  (<span class="nv">im</span> : option Message) (<span class="nv">s&#39;</span> : VLSM.state
                                (preloaded_with_all_messages_vlsm
                                   (UMO_component i))) 
  (<span class="nv">om</span> : option Message),
  input_constrained_transition (UMO_component i) l
    (s, im) (s&#39;, om)
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">msg</span> : Message,
      msg ‚àà receivedMessages s&#39;
      ‚Üî field_selector input msg
          {|
            l := l;
            input := im;
            destination := s&#39;;
            output := om
          |} ‚à® msg ‚àà receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c"><span class="nb">intros</span> l s im s&#39; om [(Hvsp &amp; Hovmp &amp; Hv) Ht] m; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) im</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid l s im</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition l s im = (s&#39;, om)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà receivedMessages s&#39;
‚Üî im = Some m ‚à® m ‚àà receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d"><span class="nb">destruct</span> l, im; <span class="nb">cbn</span> <span class="kr">in</span> *; invert_UMO_component_valid
    ; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) 
  (Some m0)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s (Some m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">True</span>
     <span class="kr">then</span>
      MkObservation Receive m0
      :: filter isReceive (obs s)
     <span class="kr">else</span> filter isReceive (obs s))
‚Üî Some m0 = Some m ‚à® m ‚àà receivedMessages s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) None</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s None</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1e"><hr></label><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">False</span>
     <span class="kr">then</span>
      MkObservation Send (MkMessage s)
      :: filter isReceive (obs s)
     <span class="kr">else</span> filter isReceive (obs s))
‚Üî None = Some m ‚à® m ‚àà receivedMessages s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) 
  (Some m0)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s (Some m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">True</span>
     <span class="kr">then</span>
      MkObservation Receive m0
      :: filter isReceive (obs s)
     <span class="kr">else</span> filter isReceive (obs s))
‚Üî Some m0 = Some m ‚à® m ‚àà receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk20"><span class="nb">rewrite</span> decide_True <span class="bp">by</span> <span class="bp">done</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) 
  (Some m0)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s (Some m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà m0 :: map message (filter isReceive (obs s))
‚Üî Some m0 = Some m ‚à® m ‚àà receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk21"><span class="nb">unfold</span> Message; <span class="nb">rewrite</span> elem_of_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) 
  (Some m0)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s (Some m0)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = m0 ‚à® m ‚àà map message (filter isReceive (obs s))
‚Üî Some m0 = Some m ‚à® m ‚àà receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">firstorder</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk22">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) s</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) None</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s None</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà map message
    (<span class="kr">if</span> decide <span class="kt">False</span>
     <span class="kr">then</span>
      MkObservation Send (MkMessage s)
      :: filter isReceive (obs s)
     <span class="kr">else</span> filter isReceive (obs s))
‚Üî None = Some m ‚à® m ‚àà receivedMessages s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_False; <span class="nb">cbn</span>; <span class="nb">firstorder</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">HasBeenDirectlyObservedCapability_UMO_component</span>
  (<span class="nv">i</span> : Address) : HasBeenDirectlyObservedCapability (UMO_component i) :=
    HasBeenDirectlyObservedCapability_from_sent_received (UMO_component i).</span></span></pre><div class="doc">
  A reachability predicate specialized for VLSMs refining UMO.
  <span class="inlinecode"><span class="id" title="var">UMO_reachable</span></span> <span class="inlinecode"><span class="id" title="var">C</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> is equivalent to <span class="inlinecode"><span class="id" title="var">constrained_state_prop</span></span> <span class="inlinecode"><span class="id" title="var">V</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> if
  the valid transitions of VLSM <code>V</code> follow <span class="inlinecode"><span class="id" title="var">UMO_component_transition</span></span>
  and the validity predicate is a refinement of <span class="inlinecode"><span class="id" title="var">UMO_component_valid</span></span>
  which does not further restrict the <span class="inlinecode"><span class="id" title="var">Send</span></span> case.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">UMO_reachable</span> (<span class="nv">C</span> : State -&gt; Message -&gt; <span class="kt">Prop</span>) : State -&gt; <span class="kt">Prop</span> :=
| reach_init :
    <span class="kr">forall</span> <span class="nv">a</span>, UMO_reachable C (MkState [] a)
| reach_send :
    <span class="kr">forall</span> <span class="nv">s</span>, UMO_reachable C s -&gt; UMO_reachable C (s &lt;+&gt; MkObservation Send (MkMessage s))
| reach_recv :
    <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">msg</span>, C s msg -&gt; UMO_reachable C s -&gt;
      UMO_reachable C (s &lt;+&gt; MkObservation Receive msg).</span></span></pre><div class="doc">
  An alternative induction principle for <span class="inlinecode"><span class="id" title="var">UMO_reachable</span></span>
  which has a single case for <span class="inlinecode"><span class="id" title="var">addObservation</span></span> that covers
  both <span class="inlinecode"><span class="id" title="var">Send</span></span> and <span class="inlinecode"><span class="id" title="var">Receive</span></span>. The hypotheses available in that
  case use a <span class="inlinecode"><span class="id" title="keyword">match</span></span> on the label to cover the differences between
  the cases. This is useful for proofs where the <span class="inlinecode"><span class="id" title="var">Send</span></span> and <span class="inlinecode"><span class="id" title="var">Receive</span></span>
  cases share some reasoning.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk23"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_ind&#39;</span>
  (<span class="nv">C</span> : State -&gt; Message -&gt; <span class="kt">Prop</span>) (<span class="nv">P</span> : State -&gt; <span class="kt">Prop</span>)
  (<span class="nv">Hinit</span> : <span class="kr">forall</span> <span class="nv">a</span>, P (MkState [] a))
  (<span class="nv">Hextend</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">l</span> <span class="nv">msg</span>,
      UMO_reachable C s -&gt;
      <span class="kr">match</span> l <span class="kr">with</span>
      | Send =&gt; msg = MkMessage s
      | Receive =&gt; C s msg
      <span class="kr">end</span> -&gt;
      P s -&gt; P (s &lt;+&gt; MkObservation l msg)) :
  <span class="kr">forall</span> <span class="nv">s</span>, UMO_reachable C s -&gt; P s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, UMO_reachable C s ‚Üí P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, UMO_reachable C s ‚Üí P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25"><span class="nb">intros</span> s Hs; <span class="nb">induction</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (MkState [] a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk26" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>P s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk26"><hr></label><div class="goal-conclusion">P (s &lt;+&gt; MkObservation Send (MkMessage s))</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk27" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>C s msg</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>P s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk27"><hr></label><div class="goal-conclusion">P (s &lt;+&gt; MkObservation Receive msg)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk28">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (MkState [] a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hinit.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk29">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (s &lt;+&gt; MkObservation Send (MkMessage s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hextend.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">a</span> : Address, P (MkState [] a)</span></span></span><br><span><var>Hextend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">l</span> : Label) (<span class="nv">msg</span> : Message),
  UMO_reachable C s
  ‚Üí <span class="kr">match</span> l <span class="kr">with</span>
    | Receive =&gt; C s msg
    | Send =&gt; msg = MkMessage s
    <span class="kr">end</span>
    ‚Üí P s ‚Üí P (s &lt;+&gt; MkObservation l msg)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>C s msg</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (s &lt;+&gt; MkObservation Receive msg)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hextend.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A specialized induction principle for <span class="inlinecode"><span class="id" title="var">UMO_reachable</span></span>
  when the conclusion begins with <span class="inlinecode"><span class="id" title="keyword">‚àÄ</span></span> <span class="inlinecode"><span class="id" title="var">m</span>,</span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">‚àà</span> <span class="inlinecode"><span class="id" title="var">messages</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> <span class="inlinecode">‚Üí</span> <span class="inlinecode">...</span>.
  This handles splitting <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">‚àà</span> <span class="inlinecode"><span class="id" title="var">messages</span></span> <span class="inlinecode">(<span class="id" title="var">s</span></span> <span class="inlinecode">&lt;+&gt;</span> <span class="inlinecode"><span class="id" title="var">ob</span>)</span> into
  cases for <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">‚àà</span> <span class="inlinecode"><span class="id" title="var">messages</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span> and for the new observation,
  and uses a new case <span class="inlinecode"><span class="id" title="var">HPrev</span></span> to handle the <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">‚àà</span> <span class="inlinecode"><span class="id" title="var">messages</span></span> <span class="inlinecode"><span class="id" title="var">s</span></span>
  parts for both <span class="inlinecode"><span class="id" title="var">Send</span></span> and <span class="inlinecode"><span class="id" title="var">Receive</span></span>.
  Unfortunately the <code>induction _ using _</code> variant of the
  <span class="inlinecode"><span class="id" title="tactic">induction</span></span> tactic cannot recognize this lemma as an induction
  principle, so it must be used with <span class="inlinecode"><span class="id" title="tactic">refine</span></span> or <span class="inlinecode"><span class="id" title="tactic">apply</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_elem_of_messages_ind</span>
  (<span class="nv">C</span> : State -&gt; Message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">P</span> : State -&gt; Message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">HPrev</span> : <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">Hs</span> : UMO_reachable C s) <span class="nv">m</span> <span class="nv">ob</span>,
    m ‚àà messages s -&gt;
    P s m -&gt; P (s &lt;+&gt; ob) m)
  (<span class="nv">HSend</span> : <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">Hs</span> : UMO_reachable C s),
    (<span class="kr">forall</span> <span class="nv">m&#39;</span>, m&#39; ‚àà messages s -&gt; P s m&#39;) -&gt;
    P (s &lt;+&gt; MkObservation Send (MkMessage s)) (MkMessage s))
  (<span class="nv">HRecv</span> : <span class="kr">forall</span> <span class="nv">s</span> (<span class="nv">Hs</span> : UMO_reachable C s) <span class="nv">mr</span>,
    C s mr -&gt;
    (<span class="kr">forall</span> <span class="nv">m&#39;</span>, m&#39; ‚àà messages s -&gt; P s m&#39;) -&gt;
    P (s &lt;+&gt; MkObservation Receive mr) mr) :
  <span class="kr">forall</span> <span class="nv">s</span>, UMO_reachable C s -&gt;
    <span class="kr">forall</span> <span class="nv">m&#39;</span>, m&#39; ‚àà messages s -&gt; P s m&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d"><span class="nb">intros</span> s Hs; <span class="nb">induction</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
  m&#39; ‚àà messages (MkState [] a) ‚Üí P (MkState [] a) m&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2e"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
  m&#39;
  ‚àà messages (s &lt;+&gt; MkObservation Send (MkMessage s))
  ‚Üí P (s &lt;+&gt; MkObservation Send (MkMessage s)) m&#39;</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>C s msg</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2f"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
  m&#39; ‚àà messages (s &lt;+&gt; MkObservation Receive msg)
  ‚Üí P (s &lt;+&gt; MkObservation Receive msg) m&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk30">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
  m&#39; ‚àà messages (MkState [] a) ‚Üí P (MkState [] a) m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk31">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
  m&#39;
  ‚àà messages (s &lt;+&gt; MkObservation Send (MkMessage s))
  ‚Üí P (s &lt;+&gt; MkObservation Send (MkMessage s)) m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> m&#39; [-&gt; | Hm&#39;]%elem_of_messages_addObservation; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk32">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>C, P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPrev</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">ob</span> : BaseELMO.Observation),
      m ‚àà messages s ‚Üí P s m ‚Üí P (s &lt;+&gt; ob) m</span></span></span><br><span><var>HSend</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;)
    ‚Üí P
        (s &lt;+&gt;
         MkObservation Send (MkMessage s))
        (MkMessage s)</span></span></span><br><span><var>HRecv</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable C s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">mr</span> : Message,
      C s mr
      ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
           m&#39; ‚àà messages s ‚Üí P s m&#39;)
        ‚Üí P (s &lt;+&gt; MkObservation Receive mr)
            mr</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>C s msg</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable C s</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message, m&#39; ‚àà messages s ‚Üí P s m&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m&#39;</span> : Message,
  m&#39; ‚àà messages (s &lt;+&gt; MkObservation Receive msg)
  ‚Üí P (s &lt;+&gt; MkObservation Receive msg) m&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> m&#39; [-&gt; | Hm&#39;]%elem_of_messages_addObservation; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk33"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_impl</span> (<span class="nv">P</span> <span class="nv">Q</span> : State -&gt; Message -&gt; <span class="kt">Prop</span>) (<span class="nv">HPQ</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">m</span>, P s m -&gt; Q s m) :
  <span class="kr">forall</span> <span class="nv">s</span>, UMO_reachable P s -&gt; UMO_reachable Q s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message), P s m ‚Üí Q s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, UMO_reachable P s ‚Üí UMO_reachable Q s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk34"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>P, Q</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>HPQ</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message), P s m ‚Üí Q s m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, UMO_reachable P s ‚Üí UMO_reachable Q s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">constructor</span>; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">Send</span></span> transitions in a constrained state are ok. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk35"><span class="kn">Lemma</span> <span class="nf">input_constrained_transition_Send</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : Address) (<span class="nv">m</span> : Message),
    constrained_state_prop (UMO_component i) (state m) -&gt;
      input_constrained_transition (UMO_component i)
        Send (state m, None) (state m &lt;+&gt; MkObservation Send m, Some m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">m</span> : Message),
  constrained_state_prop (UMO_component i) (state m)
  ‚Üí input_constrained_transition (UMO_component i)
      Send (state m, None)
      (state m &lt;+&gt; MkObservation Send m, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk36"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">m</span> : Message),
  constrained_state_prop (UMO_component i) (state m)
  ‚Üí input_constrained_transition (UMO_component i)
      Send (state m, None)
      (state m &lt;+&gt; MkObservation Send m, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk37"><span class="nb">intros</span>; <span class="kp">do</span> <span class="mi">2</span> (<span class="nb">red</span>; <span class="nb">cbn</span>); split_and!.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (state m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk38"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  None</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk39" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk39"><hr></label><div class="goal-conclusion">UMO_component_valid Send (state m) None</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk3a"><hr></label><div class="goal-conclusion">(state m &lt;+&gt; MkObservation Send (MkMessage (state m)),
 Some (MkMessage (state m))) =
(state m &lt;+&gt; MkObservation Send m, Some m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk3b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (state m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk3c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> option_valid_message_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk3d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_valid Send (state m) None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk3e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state m &lt;+&gt; MkObservation Send (MkMessage (state m)),
 Some (MkMessage (state m))) =
(state m &lt;+&gt; MkObservation Send m, Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">do</span> <span class="mi">3</span> <span class="nb">f_equal</span>; <span class="nb">apply</span> eq_Message.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">Receive</span></span> transitions in a constrained state are ok. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk3f"><span class="kn">Lemma</span> <span class="nf">input_constrained_transition_Receive</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : Address) (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    constrained_state_prop (UMO_component i) s -&gt;
    input_constrained_transition (UMO_component i)
      Receive (s, Some m) (s &lt;+&gt; MkObservation Receive m, None).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  constrained_state_prop (UMO_component i) s
  ‚Üí input_constrained_transition (UMO_component i)
      Receive (s, Some m)
      (s &lt;+&gt; MkObservation Receive m, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk40"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : Address) (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  constrained_state_prop (UMO_component i) s
  ‚Üí input_constrained_transition (UMO_component i)
      Receive (s, Some m)
      (s &lt;+&gt; MkObservation Receive m, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk41"><span class="nb">intros</span>; <span class="kp">do</span> <span class="mi">2</span> (<span class="nb">red</span>; <span class="nb">cbn</span>); split_and!; [<span class="bp">done</span> | | | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (Some m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk42" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk42"><hr></label><div class="goal-conclusion">UMO_component_valid Receive s (Some m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk43">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk44">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (UMO_component i) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_valid Receive s (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  This lemma shows that for a VLSM based on UMO
  reachability in the VLSM according to <span class="inlinecode"><span class="id" title="var">constrained_state_prop</span></span>
  is equivalent to <span class="inlinecode"><span class="id" title="var">UMO_reachable</span></span> with a predicate
  based on the VLSM's <span class="inlinecode"><span class="id" title="var">valid</span></span> predicate, plus
  a condition on the address.

<div class="paragraph"> </div>

  In particular the VLSM must work over the same
  <span class="inlinecode"><span class="id" title="var">VLSMType</span></span> as UMO, of <span class="inlinecode"><span class="id" title="var">Message</span></span>, <span class="inlinecode"><span class="id" title="var">State</span></span>, and <span class="inlinecode"><span class="id" title="var">Label</span></span>,
  the transition function must be <span class="inlinecode"><span class="id" title="var">UMO_component_transition</span></span>,
  and the <span class="inlinecode"><span class="id" title="var">valid</span></span> and <span class="inlinecode"><span class="id" title="var">initial_state_prop</span></span> must be
  restrictions of UMO's predicates.

<div class="paragraph"> </div>

  This lemma usually should not be used directly, but
  instead used to prove a  "view" lemma for a
  specific VLSM, such as <span class="inlinecode"><span class="id" title="var">ELMO_reachable_view</span></span>
  in the <span class="inlinecode"><span class="id" title="var">VLSM.ELMO.ELMO</span></span> module.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk45"><span class="kn">Lemma</span> <span class="nf">UMO_based_valid_reachable</span>
  (<span class="nv">VM</span> : VLSMMachine (Build_VLSMType Message State Label))
  (<span class="nv">V</span> := mk_vlsm VM)
  (<span class="nv">Hinit_empty</span> : <span class="kr">forall</span> <span class="nv">si</span>, initial_state_prop V si -&gt; obs si = [])
  (<span class="nv">Hsend_spec</span> : <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">om</span>, constrained_state_prop V s -&gt; valid V Send (s, om) &lt;-&gt; om = None)
  (<span class="nv">Htransition</span> : <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span>, transition V l (s, om) = UMO_component_transition l s om) :
  <span class="kr">forall</span> (<span class="nv">s</span> : State),
    constrained_state_prop V s
      &lt;-&gt;
    UMO_reachable (<span class="kr">fun</span> <span class="nv">s</span> <span class="nv">m</span> =&gt; VM.(valid) Receive (s, Some m)) s
      /\ initial_state_prop V (MkState [] (adr s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop V s
  ‚Üî UMO_reachable
      (<span class="kr">Œª</span> (<span class="nv">s0</span> : State) (<span class="nv">m</span> : Message),
         valid Receive (s0, Some m)) s
    ‚àß initial_state_prop (MkState [] (adr s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk46"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop V s
  ‚Üî UMO_reachable
      (<span class="kr">Œª</span> (<span class="nv">s0</span> : State) (<span class="nv">m</span> : Message),
         valid Receive (s0, Some m)) s
    ‚àß initial_state_prop (MkState [] (adr s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk47"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V s
‚Üí UMO_reachable
    (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
       valid Receive (s, Some m)) s
  ‚àß initial_state_prop (MkState [] (adr s))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk48" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk48"><hr></label><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk49">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V s
‚Üí UMO_reachable
    (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
       valid Receive (s, Some m)) s
  ‚àß initial_state_prop (MkState [] (adr s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk4a"><span class="nb">intros</span> Hs; <span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk4b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm V) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk4b"><hr></label><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s&#39;
‚àß initial_state_prop (MkState [] (adr s&#39;))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk4c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk4d"><span class="nb">destruct</span> s <span class="kr">as</span> [ol a].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>ol</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState ol a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) (MkState ol a)
‚àß initial_state_prop (MkState [] (adr (MkState ol a)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk4e"><span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">replace</span> ol <span class="kr">with</span> (@nil Observation) <span class="kr">in</span> * <span class="bp">by</span> (<span class="nb">specialize</span> (Hinit_empty _ Hs); <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : State,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : Label) (<span class="nv">s</span> : State) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>ol</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] a)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) (MkState [] a)
‚àß initial_state_prop (MkState [] a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; [<span class="nb">apply</span> reach_init |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk4f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm V) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s&#39;
‚àß initial_state_prop (MkState [] (adr s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk50"><span class="nb">destruct</span> Ht <span class="kr">as</span> [(_ &amp; _ &amp; Hvalid) Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s&#39;
‚àß initial_state_prop (MkState [] (adr s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk51"><span class="nb">cbn</span> <span class="kr">in</span> Ht; <span class="nb">rewrite</span> Htransition <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition l s om = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s&#39;
‚àß initial_state_prop (MkState [] (adr s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk52"><span class="nb">destruct</span> IHHs <span class="kr">as</span> [IH Hadr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm V)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition l s om = (s&#39;, om&#39;)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s&#39;
‚àß initial_state_prop (MkState [] (adr s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l, om; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">auto using</span> @UMO_reachable.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk53">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s
‚àß initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk54"><span class="nb">intros</span> [Hs Hadr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk55"><span class="nb">induction</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState [] (adr (MkState [] a)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V (MkState [] a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk56" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk56"><hr></label><div class="goal-conclusion">constrained_state_prop V
  (s &lt;+&gt; MkObservation Send (MkMessage s))</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk57"><hr></label><div class="goal-conclusion">constrained_state_prop V
  (s &lt;+&gt; MkObservation Receive msg)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk58">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState [] (adr (MkState [] a)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V (MkState [] a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk59">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V
  (s &lt;+&gt; MkObservation Send (MkMessage s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk5a"><span class="nb">apply</span> input_valid_transition_destination
        <span class="kr">with</span> (l := Send) (s := s) (om := None) (om&#39; := Some (MkMessage s)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (preloaded_with_all_messages_vlsm V) Send (s, None)
  (s &lt;+&gt; MkObservation Send (MkMessage s),
   Some (MkMessage s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk5b"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_with_all_messages_vlsm V)
  s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk5c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk5c"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm V) None</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk5d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk5d"><hr></label><div class="goal-conclusion">valid Send (s, None)</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk5e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk5e"><hr></label><div class="goal-conclusion">transition Send (s, None) =
(s &lt;+&gt; MkObservation Send (MkMessage s),
 Some (MkMessage s))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk5f">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_with_all_messages_vlsm V)
  s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> IHHs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk60">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm V) None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> option_valid_message_None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk61">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid Send (s, None)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hsend_spec; [<span class="nb">apply</span> IHHs |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk62">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr
        (s &lt;+&gt; MkObservation Send (MkMessage s))))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition Send (s, None) =
(s &lt;+&gt; MkObservation Send (MkMessage s),
 Some (MkMessage s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">rewrite</span> Htransition.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk63">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop V
  (s &lt;+&gt; MkObservation Receive msg)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk64"><span class="nb">apply</span> input_valid_transition_destination
        <span class="kr">with</span> (l := Receive) (s := s) (om := Some msg) (om&#39; := None).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (preloaded_with_all_messages_vlsm V) Receive
  (s, Some msg)
  (s &lt;+&gt; MkObservation Receive msg, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk65"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_with_all_messages_vlsm V)
  s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk66" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk66"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm V) 
  (Some msg)</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk67"><hr></label><div class="goal-conclusion">transition Receive (s, Some msg) =
(s &lt;+&gt; MkObservation Receive msg, None)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk68">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_with_all_messages_vlsm V)
  s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> IHHs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk69">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm V) (Some msg)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>VM</var><span class="hyp-type"><b>: </b><span>VLSMMachine
  {| VLSM.state := State; VLSM.label := Label |}</span></span></span><br><span><var>V</var><span><span class="hyp-body"><b>:= </b><span>{|
  vlsm_type :=
    {| VLSM.state := State; VLSM.label := Label |};
  vlsm_machine := VM
|}</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hinit_empty</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si</span> : VLSM.state V,
  initial_state_prop si ‚Üí obs si = []</span></span></span><br><span><var>Hsend_spec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s</span> : VLSM.state
         (preloaded_with_all_messages_vlsm
            V)) (<span class="nv">om</span> : option Message),
  constrained_state_prop V s
  ‚Üí valid Send (s, om) ‚Üî om = None</span></span></span><br><span><var>Htransition</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : VLSM.label V) (<span class="nv">s</span> : VLSM.state V) 
  (<span class="nv">om</span> : option Message),
  transition l (s, om) =
  UMO_component_transition l s om</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid Receive (s, Some msg)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
     valid Receive (s, Some m)) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (MkState []
     (adr (s &lt;+&gt; MkObservation Receive msg)))</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (adr s))
‚Üí constrained_state_prop V s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition Receive (s, Some msg) =
(s &lt;+&gt; MkObservation Receive msg, None)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">rewrite</span> Htransition.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">Every valid state contains a unique valid trace leading to it</h2>
<div class="paragraph"> </div>

  To prove this, we will need some basic properties of UMO components.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_UMO_component_lemmas</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">Ui</span></span> is a notation for an <span class="inlinecode"><span class="id" title="var">UMO_component</span></span> of address <span class="inlinecode"><span class="id" title="var">i</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">i</span> : Address}
  (<span class="nv">Ui</span> : VLSM Message := UMO_component i)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6b"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_valid_state_prop</span> :
  <span class="kr">forall</span> <span class="nv">s</span>, valid_state_prop Ui s -&gt;
  UMO_reachable (const (const <span class="kt">True</span>)) s /\ adr s = i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : VLSM.state Ui,
  valid_state_prop Ui s
  ‚Üí UMO_reachable (const (const <span class="kt">True</span>)) s ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : VLSM.state Ui,
  valid_state_prop Ui s
  ‚Üí UMO_reachable (const (const <span class="kt">True</span>)) s ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6d"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> valid_state_prop_ind;
    [<span class="bp">by</span> <span class="nb">destruct</span> s, Hs <span class="kr">as</span> [Hobs Hadr]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; <span class="nb">split</span>; [<span class="nb">constructor</span> <span class="mi">1</span> |] |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (const (const <span class="kt">True</span>)) s
‚àß adr s = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (const (const <span class="kt">True</span>)) s&#39; ‚àß adr s&#39; = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Ht <span class="kr">as</span> [(_ &amp; _ &amp; Hv) Ht]; <span class="nb">inversion</span> Hv; <span class="nb">subst</span>; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>;
    destruct_and!; (<span class="nb">split</span>; [<span class="nb">constructor</span> |]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6e"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_constrained_state_prop</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State),
    constrained_state_prop (UMO_component i) s
      &lt;-&gt;
    UMO_reachable (<span class="kr">fun</span> <span class="nv">_</span> <span class="nv">_</span> =&gt; <span class="kt">True</span>) s /\ adr s = i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop (UMO_component i) s
  ‚Üî UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
      s ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk6f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop (UMO_component i) s
  ‚Üî UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
      s ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk70"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (UMO_component i) s
‚Üí UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s
  ‚àß adr s = i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk71" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk71"><hr></label><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s
‚àß adr s = i
‚Üí constrained_state_prop (UMO_component i) s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk72">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (UMO_component i) s
‚Üí UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s
  ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk73"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> valid_state_prop_ind;
      [<span class="bp">by</span> <span class="nb">destruct</span> s, Hs <span class="kr">as</span> [Hobs Hadr]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; <span class="nb">split</span>; [<span class="nb">constructor</span> <span class="mi">1</span> |] |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm
     (UMO_component i))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label
  (preloaded_with_all_messages_vlsm
     (UMO_component i))</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm
     (UMO_component i))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (UMO_component i)) l (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message),
     <span class="kt">True</span>) s ‚àß adr s = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s&#39;
‚àß adr s&#39; = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Ht <span class="kr">as</span> [(_ &amp; _ &amp; Hv) Ht]; <span class="nb">inversion</span> Hv; <span class="nb">subst</span>; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>;
      destruct_and!; (<span class="nb">split</span>; [<span class="nb">constructor</span> |]).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk74">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s
‚àß adr s = i
‚Üí constrained_state_prop (UMO_component i) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk75"><span class="nb">intros</span> [Hur Hadr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (UMO_component i) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk76"><span class="nb">induction</span> Hur; <span class="nb">red</span>; <span class="nb">cbn</span> <span class="kr">in</span> Hadr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (MkState [] a)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk77" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br><span><var>IHHur</var><span class="hyp-type"><b>: </b><span>adr s = i
‚Üí constrained_state_prop (UMO_component i) s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk77"><hr></label><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (s &lt;+&gt; MkObservation Send (MkMessage s))</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk78" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br><span><var>IHHur</var><span class="hyp-type"><b>: </b><span>adr s = i
‚Üí constrained_state_prop (UMO_component i) s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk78"><hr></label><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (s &lt;+&gt; MkObservation Receive msg)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk79">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (MkState [] a)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br><span><var>IHHur</var><span class="hyp-type"><b>: </b><span>adr s = i
‚Üí constrained_state_prop (UMO_component i) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (s &lt;+&gt; MkObservation Send (MkMessage s))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_destination, input_constrained_transition_Send, IHHur.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br><span><var>IHHur</var><span class="hyp-type"><b>: </b><span>adr s = i
‚Üí constrained_state_prop (UMO_component i) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (UMO_component i))
  (s &lt;+&gt; MkObservation Receive msg)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_destination, input_constrained_transition_Receive, IHHur.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The initial state of <span class="inlinecode"><span class="id" title="var">Ui</span></span> is unique. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7c"><span class="kn">Lemma</span> <span class="nf">vs0_uniqueness</span> :
  <span class="kr">forall</span> <span class="nv">is</span> : State,
    UMO_component_initial_state_prop i <span class="kr">is</span> -&gt;
      <span class="kr">is</span> = ``(vs0 Ui).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">is</span> : State,
  UMO_component_initial_state_prop i <span class="kr">is</span>
  ‚Üí <span class="kr">is</span> = `(vs0 Ui)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">is</span> : State,
  UMO_component_initial_state_prop i <span class="kr">is</span>
  ‚Üí <span class="kr">is</span> = `(vs0 Ui)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> []; <span class="nb">inversion</span> <span class="mi">1</span>; <span class="nb">cbv</span> <span class="kr">in</span> *; <span class="bp">by</span> <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Transitions of an UMO component preserve the address of the component. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7e"><span class="kn">Lemma</span> <span class="nf">UMO_component_transition_adr</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
    UMO_component_transition lbl s1 iom = (s2, oom) -&gt;
      adr s2 = adr s1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  UMO_component_transition lbl s1 iom = (s2, oom)
  ‚Üí adr s2 = adr s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk7f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  UMO_component_transition lbl s1 iom = (s2, oom)
  ‚Üí adr s2 = adr s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> s1 s2 [im |] oom []; <span class="nb">inversion_clear</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
For every trace segment, the initial and final state have the same address. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk80"><span class="kn">Lemma</span> <span class="nf">adr_of_states_within_constrained_trace</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_from_to Ui <span class="kr">is</span> s tr -&gt;
      adr s = adr <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui <span class="kr">is</span> s tr
  ‚Üí adr s = adr <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk81"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui <span class="kr">is</span> s tr
  ‚Üí adr s = adr <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk82"><span class="nb">induction</span> <span class="mi">1</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>adr f = adr s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr f = adr s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk83"><span class="nb">transitivity</span> (adr s); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>adr f = adr s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = adr s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk84"><span class="nb">eapply</span> UMO_component_transition_adr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>adr f = adr s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_transition <span class="nl">?lbl</span> s&#39; <span class="nl">?iom</span> = (s, <span class="nl">?oom</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Ht <span class="kr">as</span> [_ Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk85"><span class="kn">Lemma</span> <span class="nf">adr_of_states_within_valid_trace</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_valid_trace_from_to Ui <span class="kr">is</span> s tr -&gt;
      adr s = adr <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_from_to Ui <span class="kr">is</span> s tr
  ‚Üí adr s = adr <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk86"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_from_to Ui <span class="kr">is</span> s tr
  ‚Üí adr s = adr <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk87"><span class="nb">induction</span> <span class="mi">1</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>adr f = adr s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr f = adr s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk88"><span class="nb">transitivity</span> (adr s); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>adr f = adr s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = adr s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk89"><span class="nb">eapply</span> UMO_component_transition_adr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>adr f = adr s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_transition <span class="nl">?lbl</span> s&#39; <span class="nl">?iom</span> = (s, <span class="nl">?oom</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Ht <span class="kr">as</span> [_ Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If a state is reachable, its address is the same as the address of the component. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk8a"><span class="kn">Lemma</span> <span class="nf">adr_of_constrained_trace</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr -&gt;
      adr s = i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk8b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk8c"><span class="nb">intros</span> <span class="kr">is</span> s tr [Hfvt Hinit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk8d"><span class="nb">transitivity</span> (adr <span class="kr">is</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = adr <span class="kr">is</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk8e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><label class="goal-separator" for="UMO-v-chk8e"><hr></label><div class="goal-conclusion">adr <span class="kr">is</span> = i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk8f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = adr <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> adr_of_states_within_constrained_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk90">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr <span class="kr">is</span> = i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Hinit, <span class="kr">is</span>; <span class="nb">cbn</span> <span class="kr">in</span> *.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk91"><span class="kn">Lemma</span> <span class="nf">adr_of_valid_trace</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_valid_trace_init_to Ui <span class="kr">is</span> s tr -&gt;
      adr s = i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to Ui <span class="kr">is</span> s tr ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk92"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to Ui <span class="kr">is</span> s tr ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk93"><span class="nb">intros</span> <span class="kr">is</span> s tr [Hfvt Hinit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk94"><span class="nb">transitivity</span> (adr <span class="kr">is</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = adr <span class="kr">is</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk95" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><label class="goal-separator" for="UMO-v-chk95"><hr></label><div class="goal-conclusion">adr <span class="kr">is</span> = i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk96">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = adr <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> adr_of_states_within_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk97">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui <span class="kr">is</span> s tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr <span class="kr">is</span> = i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Hinit, <span class="kr">is</span>; <span class="nb">cbn</span> <span class="kr">in</span> *.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The address of a valid state is the same as the address of the component. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk98"><span class="kn">Lemma</span> <span class="nf">adr_of_constrained_state</span> :
  <span class="kr">forall</span> <span class="nv">s</span> : State,
    constrained_state_prop Ui s -&gt; adr s = i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, constrained_state_prop Ui s ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk99"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, constrained_state_prop Ui s ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9a"><span class="nb">intros</span> s Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9b"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hvsp <span class="kr">as</span> (<span class="kr">is</span> &amp; tr &amp; Hfvti).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvti</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s
  tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> adr_of_constrained_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9c"><span class="kn">Lemma</span> <span class="nf">adr_of_valid_state</span> :
  <span class="kr">forall</span> <span class="nv">s</span> : State,
    valid_state_prop Ui s -&gt; adr s = i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, valid_state_prop Ui s ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State, valid_state_prop Ui s ‚Üí adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9e"><span class="nb">intros</span> s Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk9f"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hvsp <span class="kr">as</span> (<span class="kr">is</span> &amp; tr &amp; Hfvti).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvti</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> adr_of_valid_trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Valid transitions lead to bigger states. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka0"><span class="kn">Lemma</span> <span class="nf">UMO_component_valid_transition_size</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
    UMO_component_valid lbl s1 iom -&gt;
    UMO_component_transition lbl s1 iom = (s2, oom) -&gt;
      sizeState s1 &lt; sizeState s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  UMO_component_valid lbl s1 iom
  ‚Üí UMO_component_transition lbl s1 iom = (s2, oom)
    ‚Üí sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  UMO_component_valid lbl s1 iom
  ‚Üí UMO_component_transition lbl s1 iom = (s2, oom)
    ‚Üí sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [] s2 [im |] oom []; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">inversion_clear</span> <span class="mi">1</span>; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka2"><span class="kn">Lemma</span> <span class="nf">input_constrained_transition_size</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
    input_constrained_transition Ui lbl (s1, iom) (s2, oom) -&gt;
      sizeState s1 &lt; sizeState s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  input_constrained_transition Ui lbl (s1, iom)
    (s2, oom) ‚Üí sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  input_constrained_transition Ui lbl (s1, iom)
    (s2, oom) ‚Üí sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka4"><span class="nb">intros</span> s1 s2 iom oom lbl [(_ &amp; _ &amp; Hvalid) Ht]; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid lbl s1 iom</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s1 iom = (s2, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_component_valid_transition_size.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A <span class="inlinecode"><span class="id" title="var">finite_valid_trace</span></span> is either empty or its final state is bigger than
  its initial state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka5"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_from_to_size</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_from_to Ui s1 s2 tr -&gt;
      s1 = s2 /\ tr = []
        \/
      sizeState s1 &lt; sizeState s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚àß tr = [] ‚à® sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚àß tr = [] ‚à® sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka7"><span class="nb">induction</span> <span class="mi">1</span>; [<span class="bp">by</span> <span class="nb">left</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>s = f ‚àß tl = []
‚à® sizeState s &lt;
  sizeState f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = f
‚àß {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} :: tl = [] ‚à® sizeState s&#39; &lt; sizeState f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka8"><span class="nb">assert</span> (sizeState s&#39; &lt; sizeState s)
      <span class="bp">by</span> (<span class="nb">eapply</span> input_constrained_transition_size; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>s = f ‚àß tl = []
‚à® sizeState s &lt;
  sizeState f</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>sizeState s&#39; &lt; sizeState s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = f
‚àß {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} :: tl = [] ‚à® sizeState s&#39; &lt; sizeState f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> IHfinite_valid_trace_from_to; [itauto <span class="bp">congruence</span> | itauto <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If a trace leads from a state to itself, then it is empty. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chka9"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_from_to_inv</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_from_to Ui s s tr -&gt; tr = [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui s s tr ‚Üí tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkaa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui s s tr ‚Üí tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> s tr Hfvt; <span class="nb">apply</span> finite_constrained_trace_from_to_size <span class="kr">in</span> Hfvt; itauto <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The same lemmas as above, but for the component <span class="inlinecode"><span class="id" title="var">Ui</span></span>. They follow from the
  above lemmas because there is a VLSM inclusion from <span class="inlinecode"><span class="id" title="var">Ui</span></span> to <span class="inlinecode"><span class="id" title="var">Ui</span></span> preloaded
  with all messages.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkab"><span class="kn">Lemma</span> <span class="nf">input_valid_transition_size</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
    input_valid_transition Ui lbl (s1, iom) (s2, oom) -&gt;
      sizeState s1 &lt; sizeState s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  input_valid_transition Ui lbl (s1, iom) (s2, oom)
  ‚Üí sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">lbl</span> : Label),
  input_valid_transition Ui lbl (s1, iom) (s2, oom)
  ‚Üí sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkad"><span class="nb">intros</span> s1 s2 iom oom lbl Hivt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui lbl (
  s1, iom) (s2, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkae"><span class="nb">eapply</span> input_constrained_transition_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui lbl (
  s1, iom) (s2, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Ui <span class="nl">?lbl</span> (s1, <span class="nl">?iom</span>)
  (s2, <span class="nl">?oom</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkaf"><span class="nb">apply</span> (@VLSM_incl_input_valid_transition _ Ui Ui); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui lbl (
  s1, iom) (s2, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part Ui
  (preloaded_vlsm_machine Ui (<span class="kr">Œª</span> <span class="nv">_</span> : Message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb0"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_from_to_size</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_valid_trace_from_to Ui s1 s2 tr -&gt;
      s1 = s2 /\ tr = []
        \/
      sizeState s1 &lt; sizeState s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_from_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚àß tr = [] ‚à® sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_from_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚àß tr = [] ‚à® sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb2"><span class="nb">intros</span> s1 s2 tr Hfvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2 ‚àß tr = [] ‚à® sizeState s1 &lt; sizeState s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb3"><span class="nb">eapply</span> finite_constrained_trace_from_to_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to Ui s1 s2 tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb4"><span class="nb">apply</span> (@VLSM_incl_finite_valid_trace_from_to _ Ui Ui); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part Ui
  (preloaded_vlsm_machine Ui (<span class="kr">Œª</span> <span class="nv">_</span> : Message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb5"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_from_to_inv</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_valid_trace_from_to Ui s s tr -&gt; tr = [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_from_to Ui s s tr ‚Üí tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_from_to Ui s s tr ‚Üí tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb7"><span class="nb">intros</span> s tr Hfvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb8"><span class="nb">eapply</span> finite_constrained_trace_from_to_inv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to Ui <span class="nl">?s</span> <span class="nl">?s</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkb9"><span class="nb">apply</span> (@VLSM_incl_finite_valid_trace_from_to _ Ui Ui); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui s s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part Ui
  (preloaded_vlsm_machine Ui (<span class="kr">Œª</span> <span class="nv">_</span> : Message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">transition</span></span>s in any VLSM are deterministic, i.e., the final state and output
  message are determined by the label, initial state and input message.

<div class="paragraph"> </div>

  For UMO components, an extremely strong converse property also holds: the
  label, initial state, input message and output message are all determined
  by the final state of a valid transition. Basically, this is true because
  every state contains the whole trace/history.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkba"><span class="kn">Lemma</span> <span class="nf">input_constrained_transition_deterministic_conv</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">f</span> : State) (<span class="nv">iom1</span> <span class="nv">iom2</span> <span class="nv">oom1</span> <span class="nv">oom2</span> : option Message) (<span class="nv">lbl1</span> <span class="nv">lbl2</span> : Label),
    input_constrained_transition Ui lbl1 (s1, iom1) (f, oom1) -&gt;
    input_constrained_transition Ui lbl2 (s2, iom2) (f, oom2) -&gt;
      lbl1 = lbl2 /\ s1 = s2 /\ iom1 = iom2 /\ oom1 = oom2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">f</span> : State) (<span class="nv">iom1</span> <span class="nv">iom2</span> <span class="nv">oom1</span>
                     <span class="nv">oom2</span> : option Message) (<span class="nv">lbl1</span>
                                             <span class="nv">lbl2</span> : Label),
  input_constrained_transition Ui lbl1 (s1, iom1)
    (f, oom1)
  ‚Üí input_constrained_transition Ui lbl2 (s2, iom2)
      (f, oom2)
    ‚Üí lbl1 = lbl2
      ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkbb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">f</span> : State) (<span class="nv">iom1</span> <span class="nv">iom2</span> <span class="nv">oom1</span>
                     <span class="nv">oom2</span> : option Message) (<span class="nv">lbl1</span>
                                             <span class="nv">lbl2</span> : Label),
  input_constrained_transition Ui lbl1 (s1, iom1)
    (f, oom1)
  ‚Üí input_constrained_transition Ui lbl2 (s2, iom2)
      (f, oom2)
    ‚Üí lbl1 = lbl2
      ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkbc"><span class="nb">intros</span> s1 s2 f iom1 iom2 oom1 oom2 lbl1 lbl2 Hivt1 Hivt2
  ; <span class="nb">inversion</span> Hivt1 <span class="kr">as</span> [(_ &amp; _ &amp; Hvalid1) Ht1]; <span class="nb">subst</span>
  ; <span class="nb">inversion</span> Hivt2 <span class="kr">as</span> [(_ &amp; _ &amp; Hvalid2) Ht2]; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2, f</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom1, iom2, oom1, oom2</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>lbl1, lbl2</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>Hivt1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Ui lbl1
  (s1, iom1) (f, oom1)</span></span></span><br><span><var>Hivt2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Ui lbl2
  (s2, iom2) (f, oom2)</span></span></span><br><span><var>Hvalid1</var><span class="hyp-type"><b>: </b><span>valid lbl1 (s1, iom1)</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>transition lbl1 (s1, iom1) = (f, oom1)</span></span></span><br><span><var>Hvalid2</var><span class="hyp-type"><b>: </b><span>valid lbl2 (s2, iom2)</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>transition lbl2 (s2, iom2) = (f, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lbl1 = lbl2 ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkbd"><span class="nb">destruct</span> lbl1, lbl2, iom1, iom2; <span class="nb">cbn</span> <span class="kr">in</span> *
  ; <span class="nb">inversion</span> Ht1; <span class="nb">subst</span>; <span class="nb">clear</span> Ht1
  ; <span class="nb">inversion</span> Ht2; <span class="nb">subst</span>; <span class="nb">clear</span> Ht2
  ; invert_UMO_component_valid; <span class="nb">auto</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hivt2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Ui Receive
  (s2, Some m)
  (s1 &lt;+&gt; MkObservation Receive m, None)</span></span></span><br><span><var>Hivt1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Ui Receive
  (s1, Some m)
  (s1 &lt;+&gt; MkObservation Receive m, None)</span></span></span><br><span><var>Hvalid1</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s1 (Some m)</span></span></span><br><span><var>Hvalid2</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s2 (Some m)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs s2 = obs s1</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>adr s2 = adr s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Receive = Receive
‚àß s1 = s2 ‚àß Some m = Some m ‚àß None = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> s1, s2; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkbe"><span class="kn">Lemma</span> <span class="nf">input_valid_transition_deterministic_conv</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">f</span> : State) (<span class="nv">iom1</span> <span class="nv">iom2</span> <span class="nv">oom1</span> <span class="nv">oom2</span> : option Message) (<span class="nv">lbl1</span> <span class="nv">lbl2</span> : Label),
    input_valid_transition Ui lbl1 (s1, iom1) (f, oom1) -&gt;
    input_valid_transition Ui lbl2 (s2, iom2) (f, oom2) -&gt;
      lbl1 = lbl2 /\ s1 = s2 /\ iom1 = iom2 /\ oom1 = oom2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">f</span> : State) (<span class="nv">iom1</span> <span class="nv">iom2</span> <span class="nv">oom1</span>
                     <span class="nv">oom2</span> : option Message) (<span class="nv">lbl1</span>
                                             <span class="nv">lbl2</span> : Label),
  input_valid_transition Ui lbl1 (s1, iom1) (f, oom1)
  ‚Üí input_valid_transition Ui lbl2 (s2, iom2)
      (f, oom2)
    ‚Üí lbl1 = lbl2
      ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkbf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> <span class="nv">f</span> : State) (<span class="nv">iom1</span> <span class="nv">iom2</span> <span class="nv">oom1</span>
                     <span class="nv">oom2</span> : option Message) (<span class="nv">lbl1</span>
                                             <span class="nv">lbl2</span> : Label),
  input_valid_transition Ui lbl1 (s1, iom1) (f, oom1)
  ‚Üí input_valid_transition Ui lbl2 (s2, iom2)
      (f, oom2)
    ‚Üí lbl1 = lbl2
      ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc0"><span class="nb">intros</span> s1 s2 f iom1 iom2 oom1 oom2 lbl1 lbl2 Hivt1 Hivt2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2, f</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom1, iom2, oom1, oom2</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>lbl1, lbl2</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>Hivt1</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui lbl1 (
  s1, iom1) (f, oom1)</span></span></span><br><span><var>Hivt2</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui lbl2 (
  s2, iom2) (f, oom2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lbl1 = lbl2 ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_constrained_transition_deterministic_conv;
    <span class="nb">apply</span> (@VLSM_incl_input_valid_transition _ Ui Ui); [| <span class="bp">done</span> | | <span class="bp">done</span>];
    <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Every trace segment is fully determined by its initial and final state. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc1"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_from_to_unique</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
    finite_constrained_trace_from_to Ui s1 s2 l1 -&gt;
    finite_constrained_trace_from_to Ui s1 s2 l2 -&gt;
      l1 = l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_constrained_trace_from_to Ui s1 s2 l1
  ‚Üí finite_constrained_trace_from_to Ui s1 s2 l2
    ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_constrained_trace_from_to Ui s1 s2 l1
  ‚Üí finite_constrained_trace_from_to Ui s1 s2 l2
    ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc3"><span class="nb">intros</span> s1 s2 l1 l2 Hfvt1 Hfvt2; <span class="nb">revert</span> l2 Hfvt2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to Ui s1 s2 l1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui s1 s2 l2
  ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc4"><span class="nb">induction</span> Hfvt1 <span class="nb">using</span> finite_valid_trace_from_to_rev_ind; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to Ui si si l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = l2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chkc5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to Ui si sf l2</span></span></span><br></div><label class="goal-separator" for="UMO-v-chkc5"><hr></label><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := sf;
   output := oom
 |}] = l2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to Ui si si l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">[] = l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> finite_constrained_trace_from_to_size <span class="kr">in</span> Hfvt2; itauto (<span class="bp">congruence</span> + <span class="bp">lia</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to Ui si sf l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := sf;
   output := oom
 |}] = l2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkc8"><span class="nb">destruct</span> Hfvt2 <span class="nb">using</span> finite_valid_trace_from_to_rev_ind; [| <span class="nb">clear</span> IHHfvt2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (si, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := si;
   output := oom
 |}] = []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chkc9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s0
  tr0</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l0
  (s0, iom0) (sf, oom0)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chkc9"><hr></label><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := sf;
   output := oom
 |}] =
tr0 ++
[{|
   l := l0;
   input := iom0;
   destination := sf;
   output := oom0
 |}]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkca">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (si, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := si;
   output := oom
 |}] = []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkcb"><span class="nb">apply</span> finite_constrained_trace_from_to_size <span class="kr">in</span> Hfvt1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>si = s ‚àß tr = [] ‚à® sizeState si &lt; sizeState s</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (si, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := si;
   output := oom
 |}] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkcc"><span class="nb">apply</span> input_constrained_transition_size <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>si = s ‚àß tr = [] ‚à® sizeState si &lt; sizeState s</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>sizeState s &lt; sizeState si</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := si;
   output := oom
 |}] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">decompose</span> [<span class="kn">and</span> or] Hfvt1; <span class="nb">subst</span>; <span class="nb">clear</span> Hfvt1; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkcd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s0
  tr0</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l0
  (s0, iom0) (sf, oom0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := sf;
   output := oom
 |}] =
tr0 ++
[{|
   l := l0;
   input := iom0;
   destination := sf;
   output := oom0
 |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkce"><span class="nb">assert</span> (l = l0 /\ s = s0 /\ iom = iom0 /\ oom = oom0)
          <span class="bp">by</span> (<span class="nb">eapply</span> input_constrained_transition_deterministic_conv; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s
  tr</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s
    l2 ‚Üí tr = l2</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s0
  tr0</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l0
  (s0, iom0) (sf, oom0)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>l = l0 ‚àß s = s0 ‚àß iom = iom0 ‚àß oom = oom0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l;
   input := iom;
   destination := sf;
   output := oom
 |}] =
tr0 ++
[{|
   l := l0;
   input := iom0;
   destination := sf;
   output := oom0
 |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkcf"><span class="nb">decompose</span> [<span class="kn">and</span>] H; <span class="nb">subst</span>; <span class="nb">clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>si, s0</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hfvt1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s0
  tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>IHHfvt1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">l2</span> : list transition_item,
  finite_constrained_trace_from_to Ui si s0
    l2 ‚Üí tr = l2</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l0
  (s0, iom0) (sf, oom0)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s0
  tr0</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l0
  (s0, iom0) (sf, oom0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr ++
[{|
   l := l0;
   input := iom0;
   destination := sf;
   output := oom0
 |}] =
tr0 ++
[{|
   l := l0;
   input := iom0;
   destination := sf;
   output := oom0
 |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">apply</span> IHHfvt1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd0"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_from_to_unique</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
    finite_valid_trace_from_to Ui s1 s2 l1 -&gt;
    finite_valid_trace_from_to Ui s1 s2 l2 -&gt;
      l1 = l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_valid_trace_from_to Ui s1 s2 l1
  ‚Üí finite_valid_trace_from_to Ui s1 s2 l2 ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_valid_trace_from_to Ui s1 s2 l1
  ‚Üí finite_valid_trace_from_to Ui s1 s2 l2 ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> s1 s2 l1 l2 Hfvt1 Hfvt2;
    <span class="nb">eapply</span> finite_constrained_trace_from_to_unique;
    <span class="nb">apply</span> VLSM_incl_finite_valid_trace_from_to; [| <span class="bp">done</span> | | <span class="bp">done</span>];
    <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Every trace is determined by its final state. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
Uniqueness 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd2"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_init_to_unique</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">f</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
    finite_constrained_trace_init_to Ui s f l1 -&gt;
    finite_constrained_trace_init_to Ui s f l2 -&gt;
      l1 = l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> <span class="nv">f</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_constrained_trace_init_to Ui s f l1
  ‚Üí finite_constrained_trace_init_to Ui s f l2
    ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> <span class="nv">f</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_constrained_trace_init_to Ui s f l1
  ‚Üí finite_constrained_trace_init_to Ui s f l2
    ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd4"><span class="nb">intros</span> s f l1 l2 [Ht1 _] [Ht2 _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>l1, l2</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f l1</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f l2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_constrained_trace_from_to_unique.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd5"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_init_to_unique</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> <span class="nv">f</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
    finite_valid_trace_init_to Ui s f l1 -&gt;
    finite_valid_trace_init_to Ui s f l2 -&gt;
      l1 = l2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> <span class="nv">f</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_valid_trace_init_to Ui s f l1
  ‚Üí finite_valid_trace_init_to Ui s f l2 ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> <span class="nv">f</span> : State) (<span class="nv">l1</span> <span class="nv">l2</span> : list transition_item),
  finite_valid_trace_init_to Ui s f l1
  ‚Üí finite_valid_trace_init_to Ui s f l2 ‚Üí l1 = l2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> s f l1 l2 Hfvit1 Hfvit2;
    <span class="nb">eapply</span> finite_constrained_trace_init_to_unique;
    <span class="nb">apply</span> VLSM_incl_finite_valid_trace_init_to; [| <span class="bp">done</span> | | <span class="bp">done</span>];
    <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If a valid trace leads to state s, the trace extracted from s also leads to s. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd7"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_init_to_state2trace</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr -&gt;
      finite_constrained_trace_init_to Ui <span class="kr">is</span> s (state2trace s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí finite_constrained_trace_init_to Ui <span class="kr">is</span> s
      (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí finite_constrained_trace_init_to Ui <span class="kr">is</span> s
      (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkd9"><span class="nb">intros</span> <span class="kr">is</span> s tr [Hfv Hinit]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">revert</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_initial_state_prop i <span class="kr">is</span>
‚Üí finite_constrained_trace_init_to Ui <span class="kr">is</span> s
    (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkda"><span class="nb">induction</span> Hfv <span class="nb">using</span> finite_valid_trace_from_to_rev_ind; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si si
  (state2trace si)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chkdb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si
‚Üí finite_constrained_trace_init_to Ui si s
    (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><label class="goal-separator" for="UMO-v-chkdb"><hr></label><div class="goal-conclusion">finite_constrained_trace_init_to Ui si sf
  (state2trace sf)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkdc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si si
  (state2trace si)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkdd"><span class="nb">inversion</span> Hinit; <span class="nb">clear</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) si</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs si = []</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>adr si = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si si
  (state2trace si)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkde"><span class="nb">destruct</span> si; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState [] i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui (MkState [] i)
  (MkState [] i) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkdf"><span class="kp">repeat</span> <span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState [] i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_with_all_messages_vlsm Ui)
  (MkState [] i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke0"><span class="kr">exists</span> <span class="nv">None</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState [] i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop
  (preloaded_with_all_messages_vlsm Ui) (MkState [] i)
  None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si
‚Üí finite_constrained_trace_init_to Ui si s
    (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si sf
  (state2trace sf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke2"><span class="nb">specialize</span> (IHHfv Hinit).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si s
  (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si sf
  (state2trace sf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke3"><span class="nb">destruct</span> Ht <span class="kr">as</span> [Hvalid Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid
  (preloaded_with_all_messages_vlsm Ui) l
  (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition l s iom = (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si s
  (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si sf
  (state2trace sf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke4"><span class="nb">destruct</span> s <span class="kr">as</span> [obs adr], l, iom <span class="kr">as</span> [im |]
    ; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht; <span class="nb">cbn</span> <span class="kr">in</span> *
    ; <span class="nb">cycle</span> <span class="mi">1</span>; [<span class="bp">done</span> | <span class="bp">done</span> | |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr) tr</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState obs adr)
‚àß option_valid_message_prop
    (preloaded_with_all_messages_vlsm Ui)
    None
  ‚àß UMO_component_valid Send
      (MkState obs adr) None</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si
  (MkState obs adr &lt;+&gt;
   MkObservation Send (MkMessage (MkState obs adr)))
  (observations2trace obs adr ++
   [{|
      l := Send;
      input := None;
      destination :=
        MkState
          (addObservation&#39;
             (MkObservation Send
                (MkMessage (MkState obs adr))) obs)
          adr;
      output := Some (MkMessage (MkState obs adr))
    |}])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chke5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr) tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState obs adr)
‚àß option_valid_message_prop
    (preloaded_with_all_messages_vlsm Ui)
    (Some im)
  ‚àß UMO_component_valid Receive
      (MkState obs adr) 
      (Some im)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><label class="goal-separator" for="UMO-v-chke5"><hr></label><div class="goal-conclusion">finite_constrained_trace_init_to Ui si
  (MkState obs adr &lt;+&gt; MkObservation Receive im)
  (observations2trace obs adr ++
   [{|
      l := Receive;
      input := Some im;
      destination :=
        MkState (MkObservation Receive im :: obs) adr;
      output := None
    |}])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr) tr</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState obs adr)
‚àß option_valid_message_prop
    (preloaded_with_all_messages_vlsm Ui)
    None
  ‚àß UMO_component_valid Send
      (MkState obs adr) None</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si
  (MkState obs adr &lt;+&gt;
   MkObservation Send (MkMessage (MkState obs adr)))
  (observations2trace obs adr ++
   [{|
      l := Send;
      input := None;
      destination :=
        MkState
          (addObservation&#39;
             (MkObservation Send
                (MkMessage (MkState obs adr))) obs)
          adr;
      output := Some (MkMessage (MkState obs adr))
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke7"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr) tr</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState obs adr)
‚àß option_valid_message_prop
    (preloaded_with_all_messages_vlsm Ui)
    None
  ‚àß UMO_component_valid Send
      (MkState obs adr) None</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr &lt;+&gt;
   MkObservation Send (MkMessage (MkState obs adr)))
  (observations2trace obs adr ++
   [{|
      l := Send;
      input := None;
      destination :=
        MkState
          (addObservation&#39;
             (MkObservation Send
                (MkMessage (MkState obs adr))) obs)
          adr;
      output := Some (MkMessage (MkState obs adr))
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> extend_right_finite_trace_from_to; [<span class="nb">apply</span> IHHfv |]; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr) tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState obs adr)
‚àß option_valid_message_prop
    (preloaded_with_all_messages_vlsm Ui)
    (Some im)
  ‚àß UMO_component_valid Receive
      (MkState obs adr) 
      (Some im)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui si
  (MkState obs adr &lt;+&gt; MkObservation Receive im)
  (observations2trace obs adr ++
   [{|
      l := Receive;
      input := Some im;
      destination :=
        MkState (MkObservation Receive im :: obs) adr;
      output := None
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chke9"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr) tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui)
  (MkState obs adr)
‚àß option_valid_message_prop
    (preloaded_with_all_messages_vlsm Ui)
    (Some im)
  ‚àß UMO_component_valid Receive
      (MkState obs adr) 
      (Some im)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) si
  (MkState obs adr &lt;+&gt; MkObservation Receive im)
  (observations2trace obs adr ++
   [{|
      l := Receive;
      input := Some im;
      destination :=
        MkState (MkObservation Receive im :: obs) adr;
      output := None
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> extend_right_finite_trace_from_to; [<span class="nb">apply</span> IHHfv |]; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkea"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_init_to_state2trace</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_valid_trace_init_to Ui <span class="kr">is</span> s tr -&gt;
      finite_valid_trace_init_to Ui <span class="kr">is</span> s (state2trace s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí finite_valid_trace_init_to Ui <span class="kr">is</span> s (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkeb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí finite_valid_trace_init_to Ui <span class="kr">is</span> s (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkec"><span class="nb">intros</span> <span class="kr">is</span> s tr [Hfv Hinit]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">revert</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_component_initial_state_prop i <span class="kr">is</span>
‚Üí finite_valid_trace_init_to Ui <span class="kr">is</span> s (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chked"><span class="nb">induction</span> Hfv <span class="nb">using</span> finite_valid_trace_from_to_rev_ind; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui si</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si si (state2trace si)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chkee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si
‚Üí finite_valid_trace_init_to Ui si s
    (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><label class="goal-separator" for="UMO-v-chkee"><hr></label><div class="goal-conclusion">finite_valid_trace_init_to Ui si sf (state2trace sf)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkef">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui si</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si si (state2trace si)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf0"><span class="nb">inversion</span> Hinit; <span class="nb">clear</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui si</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs si = []</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>adr si = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si si (state2trace si)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf1"><span class="nb">destruct</span> si; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState [] i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui (MkState [] i)
  (MkState [] i) []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf2"><span class="kp">repeat</span> <span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState [] i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Ui (MkState [] i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf3"><span class="kr">exists</span> <span class="nv">None</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState [] i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop Ui (MkState [] i) None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si
‚Üí finite_valid_trace_init_to Ui si s
    (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si sf (state2trace sf)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf5"><span class="nb">specialize</span> (IHHfv Hinit).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition Ui l (s, iom) (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si s
  (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si sf (state2trace sf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf6"><span class="nb">destruct</span> Ht <span class="kr">as</span> [Hvalid Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label Ui</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>input_valid Ui l (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition l s iom = (sf, oom)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si s
  (state2trace s)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si sf (state2trace sf)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf7"><span class="nb">destruct</span> s <span class="kr">as</span> [obs adr], l, iom <span class="kr">as</span> [im |]
    ; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht; <span class="nb">cbn</span> <span class="kr">in</span> *
    ; <span class="nb">cycle</span> <span class="mi">1</span>; [<span class="bp">done</span> | <span class="bp">done</span> | |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si
  (MkState obs adr) tr</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState obs adr)
‚àß option_valid_message_prop Ui None
  ‚àß UMO_component_valid Send
      (MkState obs adr) None</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si
  (MkState obs adr &lt;+&gt;
   MkObservation Send (MkMessage (MkState obs adr)))
  (observations2trace obs adr ++
   [{|
      l := Send;
      input := None;
      destination :=
        MkState
          (addObservation&#39;
             (MkObservation Send
                (MkMessage (MkState obs adr))) obs)
          adr;
      output := Some (MkMessage (MkState obs adr))
    |}])</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chkf8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si
  (MkState obs adr) tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState obs adr)
‚àß option_valid_message_prop Ui (Some im)
  ‚àß UMO_component_valid Receive
      (MkState obs adr) 
      (Some im)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><label class="goal-separator" for="UMO-v-chkf8"><hr></label><div class="goal-conclusion">finite_valid_trace_init_to Ui si
  (MkState obs adr &lt;+&gt; MkObservation Receive im)
  (observations2trace obs adr ++
   [{|
      l := Receive;
      input := Some im;
      destination :=
        MkState (MkObservation Receive im :: obs) adr;
      output := None
    |}])</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkf9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si
  (MkState obs adr) tr</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState obs adr)
‚àß option_valid_message_prop Ui None
  ‚àß UMO_component_valid Send
      (MkState obs adr) None</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si
  (MkState obs adr &lt;+&gt;
   MkObservation Send (MkMessage (MkState obs adr)))
  (observations2trace obs adr ++
   [{|
      l := Send;
      input := None;
      destination :=
        MkState
          (addObservation&#39;
             (MkObservation Send
                (MkMessage (MkState obs adr))) obs)
          adr;
      output := Some (MkMessage (MkState obs adr))
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkfa"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si
  (MkState obs adr) tr</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState obs adr)
‚àß option_valid_message_prop Ui None
  ‚àß UMO_component_valid Send
      (MkState obs adr) None</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Ui si
  (MkState obs adr &lt;+&gt;
   MkObservation Send (MkMessage (MkState obs adr)))
  (observations2trace obs adr ++
   [{|
      l := Send;
      input := None;
      destination :=
        MkState
          (addObservation&#39;
             (MkObservation Send
                (MkMessage (MkState obs adr))) obs)
          adr;
      output := Some (MkMessage (MkState obs adr))
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> extend_right_finite_trace_from_to; [<span class="nb">apply</span> IHHfv |]; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkfb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si
  (MkState obs adr) tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState obs adr)
‚àß option_valid_message_prop Ui (Some im)
  ‚àß UMO_component_valid Receive
      (MkState obs adr) 
      (Some im)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui si
  (MkState obs adr &lt;+&gt; MkObservation Receive im)
  (observations2trace obs adr ++
   [{|
      l := Receive;
      input := Some im;
      destination :=
        MkState (MkObservation Receive im :: obs) adr;
      output := None
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkfc"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>adr</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to Ui si
  (MkState obs adr) tr</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui (MkState obs adr)
‚àß option_valid_message_prop Ui (Some im)
  ‚àß UMO_component_valid Receive
      (MkState obs adr) 
      (Some im)</span></span></span><br><span><var>IHHfv</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui si
  (MkState obs adr)
  (observations2trace obs adr)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>UMO_component_initial_state_prop i si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to Ui si
  (MkState obs adr &lt;+&gt; MkObservation Receive im)
  (observations2trace obs adr ++
   [{|
      l := Receive;
      input := Some im;
      destination :=
        MkState (MkObservation Receive im :: obs) adr;
      output := None
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> extend_right_finite_trace_from_to; [<span class="nb">apply</span> IHHfv |]; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The trace extracted from the final state of another trace is equal to that trace. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkfd"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_init_to_state2trace_inv</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr -&gt;
      state2trace s = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí state2trace s = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkfe"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí state2trace s = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chkff"><span class="nb">intros</span> <span class="kr">is</span> s tr Hfvti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvti</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state2trace s = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk100"><span class="nb">assert</span> (Hfvti&#39; : finite_constrained_trace_init_to Ui <span class="kr">is</span> s (state2trace s))
      <span class="bp">by</span> (<span class="nb">eapply</span> finite_constrained_trace_init_to_state2trace; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>is, s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvti</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui <span class="kr">is</span> s tr</span></span></span><br><span><var>Hfvti'</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui <span class="kr">is</span> s
  (state2trace s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state2trace s = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_constrained_trace_init_to_unique.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk101"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_init_to_state2trace_inv</span> :
  <span class="kr">forall</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_valid_trace_init_to Ui <span class="kr">is</span> s tr -&gt;
      state2trace s = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí state2trace s = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk102"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_valid_trace_init_to Ui <span class="kr">is</span> s tr
  ‚Üí state2trace s = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> <span class="kr">is</span> s tr Hfvti;
    <span class="nb">eapply</span> finite_constrained_trace_init_to_state2trace_inv;
    <span class="nb">apply</span> VLSM_incl_finite_valid_trace_init_to; [| <span class="bp">done</span>];
    <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The trace extracted from a reachable state <span class="inlinecode"><span class="id" title="var">s</span></span> leads to <span class="inlinecode"><span class="id" title="var">s</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
Existence 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk103"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_init_to_state2trace&#39;</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State),
    constrained_state_prop Ui s -&gt;
      finite_constrained_trace_init_to Ui (``(vs0 Ui)) s (state2trace s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop Ui s
  ‚Üí finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
      (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk104"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop Ui s
  ‚Üí finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
      (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk105"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk106"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> (<span class="kr">is</span> &amp; tr &amp; Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk107"><span class="nb">apply</span> finite_constrained_trace_init_to_state2trace_inv <span class="kr">in</span> Htr <span class="kr">as</span> Heqtr; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s
  (state2trace s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk108"><span class="nb">replace</span> (``(vs0 Ui)) <span class="kr">with</span> <span class="kr">is</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm Ui) <span class="kr">is</span> s
  (state2trace s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">is</span> = `(vs0 Ui)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vs0_uniqueness, Htr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk109"><span class="kn">Lemma</span> <span class="nf">constrained_state_contains_unique_constrained_trace</span> :
  <span class="kr">forall</span> <span class="nv">s</span> : State,
    constrained_state_prop Ui s -&gt;
      <span class="kr">exists</span> <span class="nv">tr</span> : list transition_item,
        finite_constrained_trace_init_to Ui (``(vs0 Ui)) s tr
          /\
        <span class="kr">forall</span> <span class="nv">tr&#39;</span> : list transition_item,
          finite_constrained_trace_init_to Ui (``(vs0 Ui)) s tr&#39; -&gt; tr&#39; = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop Ui s
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      finite_constrained_trace_init_to Ui (`(vs0 Ui))
        s tr
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
           finite_constrained_trace_init_to Ui
             (`(vs0 Ui)) s tr&#39; ‚Üí tr&#39; = tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk10a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  constrained_state_prop Ui s
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      finite_constrained_trace_init_to Ui (`(vs0 Ui))
        s tr
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
           finite_constrained_trace_init_to Ui
             (`(vs0 Ui)) s tr&#39; ‚Üí tr&#39; = tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk10b"><span class="nb">intros</span> s Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  finite_constrained_trace_init_to Ui (`(vs0 Ui)) s tr
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
       finite_constrained_trace_init_to Ui (`(vs0 Ui))
         s tr&#39; ‚Üí tr&#39; = tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk10c"><span class="kr">exists</span> (<span class="nv">state2trace</span> <span class="nv">s</span>); <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk10d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk10d"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
  finite_constrained_trace_init_to Ui 
    (`(vs0 Ui)) s tr&#39; ‚Üí 
  tr&#39; = state2trace s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk10e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_constrained_trace_init_to_state2trace&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk10f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
  finite_constrained_trace_init_to Ui (`(vs0 Ui)) s
    tr&#39; ‚Üí tr&#39; = state2trace s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk110"><span class="nb">intros</span> tr&#39; Hfvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui 
  (`(vs0 Ui)) s tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr&#39; = state2trace s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk111"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Ui s</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_init_to Ui 
  (`(vs0 Ui)) s tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state2trace s = tr&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_constrained_trace_init_to_state2trace_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Existence 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk112"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_init_to_state2trace&#39;</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State),
    valid_state_prop Ui s -&gt;
      finite_valid_trace_init_to Ui (``(vs0 Ui)) s (state2trace s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  valid_state_prop Ui s
  ‚Üí finite_valid_trace_init_to Ui (`(vs0 Ui)) s
      (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk113"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  valid_state_prop Ui s
  ‚Üí finite_valid_trace_init_to Ui (`(vs0 Ui)) s
      (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk114"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk115"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> (<span class="kr">is</span> &amp; tr &amp; Htr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui <span class="kr">is</span> s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk116"><span class="nb">apply</span> finite_valid_trace_init_to_state2trace_inv <span class="kr">in</span> Htr <span class="kr">as</span> Heqtr; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui <span class="kr">is</span> s
  (state2trace s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk117"><span class="nb">replace</span> (``(vs0 Ui)) <span class="kr">with</span> <span class="kr">is</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>VLSM.state Ui</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui <span class="kr">is</span> s
  (state2trace s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">is</span> = `(vs0 Ui)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vs0_uniqueness, Htr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk118"><span class="kn">Lemma</span> <span class="nf">valid_state_contains_unique_valid_trace</span> :
  <span class="kr">forall</span> <span class="nv">s</span> : State,
    valid_state_prop Ui s -&gt;
      <span class="kr">exists</span> <span class="nv">tr</span> : list transition_item,
        finite_valid_trace_init_to Ui (``(vs0 Ui)) s tr
          /\
        <span class="kr">forall</span> <span class="nv">tr&#39;</span> : list transition_item,
          finite_valid_trace_init_to Ui (``(vs0 Ui)) s tr&#39; -&gt; tr&#39; = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  valid_state_prop Ui s
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
           finite_valid_trace_init_to Ui (`(vs0 Ui)) s
             tr&#39; ‚Üí tr&#39; = tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk119"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  valid_state_prop Ui s
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
           finite_valid_trace_init_to Ui (`(vs0 Ui)) s
             tr&#39; ‚Üí tr&#39; = tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk11a"><span class="nb">intros</span> s Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
       finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr&#39;
       ‚Üí tr&#39; = tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk11b"><span class="kr">exists</span> (<span class="nv">state2trace</span> <span class="nv">s</span>); <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk11c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk11c"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
  finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr&#39;
  ‚Üí tr&#39; = state2trace s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk11d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to Ui (`(vs0 Ui)) s
  (state2trace s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_valid_trace_init_to_state2trace&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk11e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">tr&#39;</span> : list transition_item,
  finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr&#39;
  ‚Üí tr&#39; = state2trace s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk11f"><span class="nb">intros</span> tr&#39; Hfvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr&#39; = state2trace s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk120"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to Ui (`(vs0 Ui)) s tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state2trace s = tr&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_valid_trace_init_to_state2trace_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab4"></a><h2 class="section">The suffix ordering on states is a strict total order</h2>
<div class="paragraph"> </div>
<code>s1</code> is a state-suffix of <code>s2</code> if they have the same address and
  <code>s1</code>'s observations are a strict suffix of <code>s2</code>'s observations.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">state_suffix</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) : <span class="kt">Prop</span> :=
{
  adrs_eq    : adr s1 = adr s2;
  obs_prefix : strict suffix (obs s1) (obs s2);
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">state_suffix_dec</span> : RelDecision state_suffix :=
  <span class="kr">fun</span> <span class="nv">s1</span> <span class="nv">s2</span> =&gt;
    <span class="kr">match</span> decide (adr s1 = adr s2) <span class="kr">with</span>
    | <span class="nb">left</span> addr_eq =&gt;
        <span class="kr">match</span> decide (strict suffix (obs s1) (obs s2)) <span class="kr">with</span>
        | <span class="nb">left</span> is_suffix =&gt; <span class="nb">left</span> (Build_state_suffix _ _ addr_eq is_suffix)
        | <span class="nb">right</span> Hnot_suffix =&gt; <span class="nb">right</span> (<span class="kr">fun</span> <span class="nv">H</span> =&gt; Hnot_suffix (obs_prefix _ _ H))
        <span class="kr">end</span>
    | <span class="nb">right</span> Hnot_addr =&gt; <span class="nb">right</span> (<span class="kr">fun</span> <span class="nv">H</span> =&gt; Hnot_addr (adrs_eq _ _ H))
    <span class="kr">end</span>.</span></span></pre><div class="doc">
We also define a variant of the suffix relation for messages. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">message_suffix</span> (<span class="nv">m1</span> <span class="nv">m2</span> : Message) : <span class="kt">Prop</span> :=
  state_suffix (state m1) (state m2).</span></span></pre><div class="doc">
The state-prefix relation is a strict partial order. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk121">#[export] <span class="kn">Instance</span> <span class="nf">Irreflexive_state_suffix</span> :
  Irreflexive state_suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Irreflexive state_suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk122"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Irreflexive state_suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> s (Hadr &amp; Hobs1 &amp; Hobs2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk123">#[export] <span class="kn">Instance</span> <span class="nf">Transitive_state_suffix</span> :
  Transitive state_suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive state_suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk124"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Transitive state_suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk125"><span class="nb">intros</span> s1 s2 s3 (Hadr12 &amp; Hobs12 &amp; Hobs12&#39;) (Hadr23 &amp; Hobs23 &amp; Hobs23&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hadr12</var><span class="hyp-type"><b>: </b><span>adr s1 = adr s2</span></span></span><br><span><var>Hobs12</var><span class="hyp-type"><b>: </b><span>obs s1 `suffix_of` obs s2</span></span></span><br><span><var>Hobs12'</var><span class="hyp-type"><b>: </b><span>¬¨ obs s2 `suffix_of` obs s1</span></span></span><br><span><var>Hadr23</var><span class="hyp-type"><b>: </b><span>adr s2 = adr s3</span></span></span><br><span><var>Hobs23</var><span class="hyp-type"><b>: </b><span>obs s2 `suffix_of` obs s3</span></span></span><br><span><var>Hobs23'</var><span class="hyp-type"><b>: </b><span>¬¨ obs s3 `suffix_of` obs s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s1 s3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk126"><span class="nb">split</span>; [<span class="bp">by</span> <span class="bp">congruence</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hadr12</var><span class="hyp-type"><b>: </b><span>adr s1 = adr s2</span></span></span><br><span><var>Hobs12</var><span class="hyp-type"><b>: </b><span>obs s1 `suffix_of` obs s2</span></span></span><br><span><var>Hobs12'</var><span class="hyp-type"><b>: </b><span>¬¨ obs s2 `suffix_of` obs s1</span></span></span><br><span><var>Hadr23</var><span class="hyp-type"><b>: </b><span>adr s2 = adr s3</span></span></span><br><span><var>Hobs23</var><span class="hyp-type"><b>: </b><span>obs s2 `suffix_of` obs s3</span></span></span><br><span><var>Hobs23'</var><span class="hyp-type"><b>: </b><span>¬¨ obs s3 `suffix_of` obs s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strict suffix (obs s1) (obs s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">transitivity</span> (obs s2).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk127">#[export] <span class="kn">Instance</span> <span class="nf">StrictOrder_state_suffix</span> :
  StrictOrder state_suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">StrictOrder state_suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk128"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">StrictOrder state_suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; <span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk129"><span class="kn">Lemma</span> <span class="nf">state_suffix_empty_minimal</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">a</span> : Address), ~ state_suffix s (MkState [] a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">a</span> : Address),
  ¬¨ state_suffix s (MkState [] a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">a</span> : Address),
  ¬¨ state_suffix s (MkState [] a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12b"><span class="nb">intros</span> s a [_ [[os Hsuf] Hstrict]]; <span class="bp">contradict</span> Hstrict.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>os</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>obs (MkState [] a) = os ++ obs s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs (MkState [] a) `suffix_of` obs s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">symmetry in</span> Hsuf; <span class="nb">apply</span> app_nil <span class="kr">in</span> Hsuf <span class="kr">as</span> [-&gt; -&gt;]; <span class="kr">exists</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12c"><span class="kn">Lemma</span> <span class="nf">state_suffix_empty_minimum</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State), s = MkState [] (adr s) \/ state_suffix (MkState [] (adr s)) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  s = MkState [] (adr s)
  ‚à® state_suffix (MkState [] (adr s)) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  s = MkState [] (adr s)
  ‚à® state_suffix (MkState [] (adr s)) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12e"><span class="nb">intros</span> [[| ob obs] a]; <span class="nb">cbn</span>; [<span class="bp">by</span> <span class="nb">left</span> | <span class="nb">right</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (MkState [] a) (MkState (ob :: obs) a)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk12f"><span class="nb">split</span>; <span class="nb">cbn</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strict suffix [] (ob :: obs)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk130"><span class="nb">split</span>; <span class="nb">cbn</span>; [<span class="bp">by</span> <span class="nb">apply</span> suffix_nil |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ ob :: obs `suffix_of` []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> H; <span class="nb">apply</span> suffix_nil_inv <span class="kr">in</span> H; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If we add an observation to a state <code>s</code>, <code>s</code> is a suffix
  of the resulting state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk131"><span class="kn">Lemma</span> <span class="nf">state_suffix_addObservation</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
    state_suffix s (s &lt;+&gt; ob).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  state_suffix s (s &lt;+&gt; ob)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk132"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  state_suffix s (s &lt;+&gt; ob)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk133"><span class="nb">intros</span> s ob.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s (s &lt;+&gt; ob)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk134"><span class="nb">constructor</span>; <span class="nb">cbn</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strict suffix (obs s) (addObservation&#39; ob (obs s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk135"><span class="nb">unfold</span> addObservation; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs s `suffix_of` addObservation&#39; ob (obs s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk136" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk136"><hr></label><div class="goal-conclusion">¬¨ addObservation&#39; ob (obs s) `suffix_of` obs s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk137">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs s `suffix_of` addObservation&#39; ob (obs s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> suffix_cons_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk138">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ addObservation&#39; ob (obs s) `suffix_of` obs s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> suffix_cons_not.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk139"><span class="kn">Lemma</span> <span class="nf">state_suffix_addObservations</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
    obs&#39; &lt;&gt; [] -&gt; state_suffix s (s &lt;++&gt; obs&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  obs&#39; ‚â† [] ‚Üí state_suffix s (s &lt;++&gt; obs&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk13a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  obs&#39; ‚â† [] ‚Üí state_suffix s (s &lt;++&gt; obs&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk13b"><span class="nb">intros</span> s obs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs&#39; ‚â† [] ‚Üí state_suffix s (s &lt;++&gt; obs&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk13c"><span class="nb">constructor</span>; <span class="nb">cbn</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs&#39; ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strict suffix (obs s) (obs&#39; ++ obs s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk13d"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs&#39; ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs s `suffix_of` obs&#39; ++ obs s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk13e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs&#39; ‚â† []</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk13e"><hr></label><div class="goal-conclusion">¬¨ obs&#39; ++ obs s `suffix_of` obs s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk13f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs&#39; ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs s `suffix_of` obs&#39; ++ obs s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> suffix_app_r.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk140">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs&#39; ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ obs&#39; ++ obs s `suffix_of` obs s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> Hsuf; <span class="nb">apply</span> (suffix_app_inv obs&#39; []), suffix_nil_inv <span class="kr">in</span> Hsuf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The initial state of a valid transition is a <span class="inlinecode"><span class="id" title="var">state_suffix</span></span> of the final state. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk141"><span class="kn">Lemma</span> <span class="nf">state_suffix_of_UMO_component_valid_transition</span> :
  <span class="kr">forall</span> (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message),
    UMO_component_valid lbl s1 iom -&gt;
    UMO_component_transition lbl s1 iom = (s2, oom) -&gt;
      state_suffix s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span>
                                 <span class="nv">oom</span> : option Message),
  UMO_component_valid lbl s1 iom
  ‚Üí UMO_component_transition lbl s1 iom = (s2, oom)
    ‚Üí state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk142"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span>
                                 <span class="nv">oom</span> : option Message),
  UMO_component_valid lbl s1 iom
  ‚Üí UMO_component_transition lbl s1 iom = (s2, oom)
    ‚Üí state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk143"><span class="nb">intros</span> [] s1 s2 [im |] oom HValid; <span class="nb">cbn</span>
  ; <span class="nb">intros</span> H; <span class="nb">inversion</span> H; <span class="nb">subst</span>; <span class="nb">clear</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s1 (Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s1 (s1 &lt;+&gt; MkObservation Receive im)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk144" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s2 None</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk144"><hr></label><div class="goal-conclusion">state_suffix s2 s2</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk145" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s2 (Some im)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk145"><hr></label><div class="goal-conclusion">state_suffix s2 s2</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk146" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s1 None</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk146"><hr></label><div class="goal-conclusion">state_suffix s1
  (s1 &lt;+&gt; MkObservation Send (MkMessage s1))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk147">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s1 (Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s1 (s1 &lt;+&gt; MkObservation Receive im)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk148">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Receive s2 None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s2 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> invert_UMO_component_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk149">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s2 (Some im)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s2 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> invert_UMO_component_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>HValid</var><span class="hyp-type"><b>: </b><span>UMO_component_valid Send s1 None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s1
  (s1 &lt;+&gt; MkObservation Send (MkMessage s1))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
The previous property carries over from transitions to valid transitions. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14b"><span class="kn">Lemma</span> <span class="nf">state_suffix_of_input_constrained_transition</span> :
  <span class="kr">forall</span> (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message),
    input_constrained_transition Ui lbl (s1, iom) (s2, oom) -&gt;
      state_suffix s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span>
                                 <span class="nv">oom</span> : option Message),
  input_constrained_transition Ui lbl (s1, iom)
    (s2, oom) ‚Üí state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span>
                                 <span class="nv">oom</span> : option Message),
  input_constrained_transition Ui lbl (s1, iom)
    (s2, oom) ‚Üí state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14d"><span class="nb">intros</span> lbl s1 s2 iom oom [(Hvsp &amp; Hovmp &amp; Hvalid) Ht]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm Ui) s1</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_with_all_messages_vlsm Ui) iom</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid lbl (s1, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s1 iom = (s2, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> state_suffix_of_UMO_component_valid_transition; <span class="nb">cycle</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If there is a trace segment from <code>s1</code> to <code>s2</code>, then either the states are
  equal (because the trace is empty), or <code>s1</code> is a state-suffix of <code>s2</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14e"><span class="kn">Lemma</span> <span class="nf">state_suffix_of_finite_constrained_trace_from_to</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_from_to Ui s1 s2 tr -&gt;
      s1 = s2 \/ state_suffix s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚à® state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk14f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_from_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚à® state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk150"><span class="nb">induction</span> <span class="mi">1</span>; [<span class="bp">by</span> <span class="nb">left</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHfinite_valid_trace_from_to</var><span class="hyp-type"><b>: </b><span>s = f
‚à® state_suffix s f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = f ‚à® state_suffix s&#39; f</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk151"><span class="nb">destruct</span> IHfinite_valid_trace_from_to <span class="kr">as</span> [-&gt; | IH]; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) f f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (f, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s&#39; f</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk152" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>state_suffix s f</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk152"><hr></label><div class="goal-conclusion">state_suffix s&#39; f</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk153">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) f f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (f, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s&#39; f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> state_suffix_of_input_constrained_transition; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk154">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>state_suffix s f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s&#39; f</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk155"><span class="nb">transitivity</span> s; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>VLSM.state (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>VLSM.label (preloaded_with_all_messages_vlsm Ui)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Ui) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>IH</var><span class="hyp-type"><b>: </b><span>state_suffix s f</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix s&#39; s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> state_suffix_of_input_constrained_transition; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">state_suffix_of_finite_constrained_trace_from_to</span></span> carries over from
  trace segments to traces.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk156"><span class="kn">Lemma</span> <span class="nf">state_suffix_of_finite_constrained_trace_init_to</span> :
  <span class="kr">forall</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
    finite_constrained_trace_init_to Ui s1 s2 tr -&gt;
      s1 = s2 \/ state_suffix s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚à® state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk157"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to Ui s1 s2 tr
  ‚Üí s1 = s2 ‚à® state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk158"><span class="nb">intros</span> s1 s2 tr [Hfvt Hinit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Ui) s1 s2
  tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2 ‚à® state_suffix s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> state_suffix_of_finite_constrained_trace_from_to.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Every reachable state is either initial or the target of some transition.
  This transition comes from a source state which is also reachable.
  Additionally, if the label of the transition is <span class="inlinecode"><span class="id" title="var">Send</span></span>, we know that the
  observation contains the source state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk159"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_inv</span> <span class="nv">P</span> :
  <span class="kr">forall</span> <span class="nv">s</span> : State,
    UMO_reachable P s -&gt;
      obs s = [] \/
      <span class="kr">exists</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">s&#39;</span> : State) (<span class="nv">ob</span> : Observation),
        UMO_component_transition lbl s&#39; iom = (s, oom) /\
        s = s&#39; &lt;+&gt; ob /\
        UMO_reachable P s&#39; /\
        (lbl = Send -&gt; message ob = MkMessage s&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable P s
  ‚Üí obs s = []
    ‚à® (<span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) 
         (<span class="nv">s&#39;</span> : State) (<span class="nv">ob</span> : Observation),
         UMO_component_transition lbl s&#39; iom =
         (s, oom)
         ‚àß s = s&#39; &lt;+&gt; ob
           ‚àß UMO_reachable P s&#39;
             ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk15a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable P s
  ‚Üí obs s = []
    ‚à® (<span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) 
         (<span class="nv">s&#39;</span> : State) (<span class="nv">ob</span> : Observation),
         UMO_component_transition lbl s&#39; iom =
         (s, oom)
         ‚àß s = s&#39; &lt;+&gt; ob
           ‚àß UMO_reachable P s&#39;
             ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk15b"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">obs s = []
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">s&#39;</span> : State) 
     (<span class="nv">ob</span> : Observation),
     UMO_component_transition lbl s&#39; iom = (s, oom)
     ‚àß s = s&#39; &lt;+&gt; ob
       ‚àß UMO_reachable P s&#39;
         ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk15c"><span class="nb">inversion</span> Hs; [<span class="bp">by</span> <span class="nb">left</span> | <span class="nb">right</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s0 &lt;+&gt; MkObservation Send (MkMessage s0) = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">s&#39;</span> : State) 
  (<span class="nv">ob</span> : Observation),
  UMO_component_transition lbl s&#39; iom =
  (s0 &lt;+&gt; MkObservation Send (MkMessage s0), oom)
  ‚àß s0 &lt;+&gt; MkObservation Send (MkMessage s0) =
    s&#39; &lt;+&gt; ob
    ‚àß UMO_reachable P s&#39;
      ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk15d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P s0 msg</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s0 &lt;+&gt; MkObservation Receive msg = s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk15d"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) 
  (<span class="nv">s&#39;</span> : State) (<span class="nv">ob</span> : Observation),
  UMO_component_transition lbl s&#39; iom =
  (s0 &lt;+&gt; MkObservation Receive msg, oom)
  ‚àß s0 &lt;+&gt; MkObservation Receive msg = s&#39; &lt;+&gt; ob
    ‚àß UMO_reachable P s&#39;
      ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk15e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s0 &lt;+&gt; MkObservation Send (MkMessage s0) = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">s&#39;</span> : State) 
  (<span class="nv">ob</span> : Observation),
  UMO_component_transition lbl s&#39; iom =
  (s0 &lt;+&gt; MkObservation Send (MkMessage s0), oom)
  ‚àß s0 &lt;+&gt; MkObservation Send (MkMessage s0) =
    s&#39; &lt;+&gt; ob
    ‚àß UMO_reachable P s&#39;
      ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span> Send, None, (Some (MkMessage s0)), s0, _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk15f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>msg</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>P s0 msg</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s0</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>s0 &lt;+&gt; MkObservation Receive msg = s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">lbl</span> : Label) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">s&#39;</span> : State) 
  (<span class="nv">ob</span> : Observation),
  UMO_component_transition lbl s&#39; iom =
  (s0 &lt;+&gt; MkObservation Receive msg, oom)
  ‚àß s0 &lt;+&gt; MkObservation Receive msg = s&#39; &lt;+&gt; ob
    ‚àß UMO_reachable P s&#39;
      ‚àß (lbl = Send ‚Üí message ob = MkMessage s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span> Receive, (Some msg), None, s0, _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If a reachable state <code>s2</code> is a result of adding an observation to a state
  <code>s1</code>, then <code>s1</code> is also reachable. Additionally, if the observation's
  label is <span class="inlinecode"><span class="id" title="var">Send</span></span>, then we can characterize the state <code>s1</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk160"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_addObservation_inv</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
    UMO_reachable P (s &lt;+&gt; ob) -&gt; UMO_reachable P s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  UMO_reachable P (s &lt;+&gt; ob) ‚Üí UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk161"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  UMO_reachable P (s &lt;+&gt; ob) ‚Üí UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk162"><span class="nb">intros</span> s ob Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;+&gt; ob)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk163"><span class="nb">apply</span> UMO_reachable_inv <span class="kr">in</span> Hvsp
     <span class="kr">as</span> [[=] | (lbl &amp; iom &amp; oom &amp; s&#39; &amp; ob&#39; &amp; Ht &amp; Hadd &amp; Hvsp &amp; Hss&#39;)]; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s &lt;+&gt; ob, oom)</span></span></span><br><span><var>Hadd</var><span class="hyp-type"><b>: </b><span>s &lt;+&gt; ob = s&#39; &lt;+&gt; ob&#39;</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hss'</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> addObservation_inj <span class="kr">in</span> Hadd <span class="kr">as</span> [_ -&gt;].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk164"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_addObservation_inv_Send_state</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    UMO_reachable P (s &lt;+&gt; MkObservation Send m) -&gt;
      s = state m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P (s &lt;+&gt; MkObservation Send m)
  ‚Üí s = state m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk165"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P (s &lt;+&gt; MkObservation Send m)
  ‚Üí s = state m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk166"><span class="nb">intros</span> s m Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;+&gt; MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk167"><span class="nb">apply</span> UMO_reachable_inv <span class="kr">in</span> Hvsp
     <span class="kr">as</span> [[=] | (lbl &amp; iom &amp; oom &amp; s&#39; &amp; ob&#39; &amp; Ht &amp; Hadd &amp; Hvsp &amp; Hlbl)]; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s &lt;+&gt; MkObservation Send m, oom)</span></span></span><br><span><var>Hadd</var><span class="hyp-type"><b>: </b><span>s &lt;+&gt; MkObservation Send m = s&#39; &lt;+&gt; ob&#39;</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hlbl</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk168"><span class="nb">inversion</span> Hadd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s &lt;+&gt; MkObservation Send m, oom)</span></span></span><br><span><var>Hadd</var><span class="hyp-type"><b>: </b><span>s &lt;+&gt; MkObservation Send m = s&#39; &lt;+&gt; ob&#39;</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hlbl</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>MkObservation Send m = ob&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs s = obs s&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>adr s = adr s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk169"><span class="nb">replace</span> (state m) <span class="kr">with</span> (state (message ob&#39;)) <span class="bp">by</span> (<span class="nb">rewrite</span> &lt;- H0; <span class="nb">cbn</span>; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s &lt;+&gt; MkObservation Send m, oom)</span></span></span><br><span><var>Hadd</var><span class="hyp-type"><b>: </b><span>s &lt;+&gt; MkObservation Send m = s&#39; &lt;+&gt; ob&#39;</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hlbl</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>MkObservation Send m = ob&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs s = obs s&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>adr s = adr s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state (message ob&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16a"><span class="nb">rewrite</span> Hlbl; [<span class="bp">by</span> <span class="nb">apply</span> eq_State |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s &lt;+&gt; MkObservation Send m, oom)</span></span></span><br><span><var>Hadd</var><span class="hyp-type"><b>: </b><span>s &lt;+&gt; MkObservation Send m = s&#39; &lt;+&gt; ob&#39;</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hlbl</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>MkObservation Send m = ob&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs s = obs s&#39;</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>adr s = adr s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lbl = Send</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> lbl, iom; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; [| | <span class="bp">done</span>]
  ; <span class="nb">apply</span> (<span class="nb">f_equal</span> (<span class="kr">fun</span> <span class="nv">x</span> =&gt; length (obs x))) <span class="kr">in</span> Hadd; <span class="nb">cbn</span> <span class="kr">in</span> Hadd; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16b"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_addObservation_inv_Send</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    UMO_reachable P (s &lt;+&gt; MkObservation Send m) -&gt;
      UMO_reachable P (state m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P (s &lt;+&gt; MkObservation Send m)
  ‚Üí UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P (s &lt;+&gt; MkObservation Send m)
  ‚Üí UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16d"><span class="nb">intros</span> s m Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;+&gt; MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16e"><span class="nb">erewrite</span> &lt;- UMO_reachable_addObservation_inv_Send_state; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;+&gt; MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_addObservation_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk16f"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_addObservation_inv_message</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
    UMO_reachable P (s &lt;+&gt; ob) -&gt; label ob = Send -&gt;
      message ob = MkMessage s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  UMO_reachable P (s &lt;+&gt; ob)
  ‚Üí label ob = Send ‚Üí message ob = MkMessage s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk170"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  UMO_reachable P (s &lt;+&gt; ob)
  ‚Üí label ob = Send ‚Üí message ob = MkMessage s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk171"><span class="nb">intros</span> s ob Hvsp Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;+&gt; ob)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>label ob = Send</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message ob = MkMessage s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk172"><span class="nb">apply</span> UMO_reachable_inv <span class="kr">in</span> Hvsp
     <span class="kr">as</span> [[=] | (lbl &amp; iom &amp; oom &amp; s&#39; &amp; ob&#39; &amp; Ht &amp; Hadd &amp; Hvsp &amp; Hss&#39;)]; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s &lt;+&gt; ob, oom)</span></span></span><br><span><var>Hadd</var><span class="hyp-type"><b>: </b><span>s &lt;+&gt; ob = s&#39; &lt;+&gt; ob&#39;</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hss'</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>label ob = Send</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message ob = MkMessage s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk173"><span class="nb">apply</span> addObservation_inj <span class="kr">in</span> Hadd <span class="kr">as</span> [-&gt; -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s&#39; &lt;+&gt; ob&#39;, oom)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hss'</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>label ob&#39; = Send</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message ob&#39; = MkMessage s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk174"><span class="nb">apply</span> Hss&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>UMO_component_transition lbl s&#39; iom =
(s&#39; &lt;+&gt; ob&#39;, oom)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hss'</var><span class="hyp-type"><b>: </b><span>lbl = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>label ob&#39; = Send</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lbl = Send</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk175"><span class="nb">destruct</span> lbl, iom; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht; <span class="nb">cbn</span> <span class="kr">in</span> *; [<span class="bp">done</span> | | <span class="bp">done</span> | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s&#39;</span></span></span><br><span><var>Hss'</var><span class="hyp-type"><b>: </b><span>Receive = Send ‚Üí message ob&#39; = MkMessage s&#39;</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>label ob&#39; = Send</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s&#39; = s&#39; &lt;+&gt; ob&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Receive = Send</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">symmetry in</span> H0; <span class="nb">apply</span> addObservation_acyclic <span class="kr">in</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If a reachable state <code>s2</code> results from adding observations to a state <code>s1</code>,
  then <code>s1</code> is also reachable.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk176"><span class="kn">Lemma</span> <span class="nf">UMO_reachable_addObservations_inv</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
    UMO_reachable P (s &lt;++&gt; obs&#39;) -&gt; UMO_reachable P s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  UMO_reachable P (s &lt;++&gt; obs&#39;) ‚Üí UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk177"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  UMO_reachable P (s &lt;++&gt; obs&#39;) ‚Üí UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk178"><span class="nb">intros</span> s obs&#39;; <span class="nb">revert</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable P (s &lt;++&gt; obs&#39;) ‚Üí UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk179"><span class="nb">induction</span> obs&#39; <span class="kr">as</span> [| ob&#39; obs&#39;]; <span class="nb">cbn</span>; <span class="nb">intros</span> s Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;++&gt; [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk17a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>IHobs'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable P (s &lt;++&gt; obs&#39;)
  ‚Üí UMO_reachable P s</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;++&gt; (ob&#39; :: obs&#39;))</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk17a"><hr></label><div class="goal-conclusion">UMO_reachable P s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk17b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;++&gt; [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- addObservations_nil.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk17c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>IHobs'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : State,
  UMO_reachable P (s &lt;++&gt; obs&#39;)
  ‚Üí UMO_reachable P s</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s &lt;++&gt; (ob&#39; :: obs&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> IHobs&#39;, UMO_reachable_addObservation_inv <span class="kr">with</span> ob&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If a state is constrained, after sending a message it's still constrained. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk17d"><span class="kn">Lemma</span> <span class="nf">constrained_state_prop_Send</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : Message),
    constrained_state_prop (UMO_component i) (state m) -&gt;
    constrained_state_prop (UMO_component i) (state m &lt;+&gt; MkObservation Send m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : Message,
  constrained_state_prop (UMO_component i) (state m)
  ‚Üí constrained_state_prop (UMO_component i)
      (state m &lt;+&gt; MkObservation Send m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk17e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : Message,
  constrained_state_prop (UMO_component i) (state m)
  ‚Üí constrained_state_prop (UMO_component i)
      (state m &lt;+&gt; MkObservation Send m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk17f"><span class="nb">setoid_rewrite</span> UMO_reachable_constrained_state_prop; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : Message,
  UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
    (state m) ‚àß adr (state m) = i
  ‚Üí UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
      (state m &lt;+&gt; MkObservation Send m)
    ‚àß adr (state m) = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk180"><span class="nb">intros</span> m [Hur Hadr]; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) 
  (state m)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m) = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
  (state m &lt;+&gt; MkObservation Send m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> m; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If a state is constrained, after receiving a message it's still constrained. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk181"><span class="kn">Lemma</span> <span class="nf">constrained_state_prop_Receive</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    constrained_state_prop (UMO_component i) s -&gt;
    constrained_state_prop (UMO_component i) (s &lt;+&gt; MkObservation Receive m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  constrained_state_prop (UMO_component i) s
  ‚Üí constrained_state_prop (UMO_component i)
      (s &lt;+&gt; MkObservation Receive m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk182"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  constrained_state_prop (UMO_component i) s
  ‚Üí constrained_state_prop (UMO_component i)
      (s &lt;+&gt; MkObservation Receive m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk183"><span class="nb">setoid_rewrite</span> UMO_reachable_constrained_state_prop; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s
  ‚àß adr s = i
  ‚Üí UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
      (s &lt;+&gt; MkObservation Receive m) ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk184"><span class="nb">intros</span> s m [Hur Hadr]; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
  (s &lt;+&gt; MkObservation Receive m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> m; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If a state is constrained after adding an observation, it must have been
  constrained before adding it.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk185"><span class="kn">Lemma</span> <span class="nf">constrained_state_prop_addObservation_inv</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
    constrained_state_prop (UMO_component i) (s &lt;+&gt; ob) -&gt;
    constrained_state_prop (UMO_component i) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  constrained_state_prop (UMO_component i) (s &lt;+&gt; ob)
  ‚Üí constrained_state_prop (UMO_component i) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk186"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  constrained_state_prop (UMO_component i) (s &lt;+&gt; ob)
  ‚Üí constrained_state_prop (UMO_component i) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk187"><span class="nb">setoid_rewrite</span> UMO_reachable_constrained_state_prop; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
    (s &lt;+&gt; ob) ‚àß adr s = i
  ‚Üí UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
      s ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk188"><span class="nb">intros</span> s ob [Hur Hadr]; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) 
  (s &lt;+&gt; ob)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_addObservation_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If a state is constrained after adding some observations, it must have been
  constrained before adding them.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk189"><span class="kn">Lemma</span> <span class="nf">constrained_state_prop_addObservations_inv</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">obs</span> : list Observation),
    constrained_state_prop (UMO_component i) (s &lt;++&gt; obs) -&gt;
    constrained_state_prop (UMO_component i) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs</span> : list Observation),
  constrained_state_prop (UMO_component i)
    (s &lt;++&gt; obs)
  ‚Üí constrained_state_prop (UMO_component i) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs</span> : list Observation),
  constrained_state_prop (UMO_component i)
    (s &lt;++&gt; obs)
  ‚Üí constrained_state_prop (UMO_component i) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18b"><span class="nb">setoid_rewrite</span> UMO_reachable_constrained_state_prop; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">obs</span> : list Observation),
  UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
    (s &lt;++&gt; obs) ‚àß adr s = i
  ‚Üí UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
      s ‚àß adr s = i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18c"><span class="nb">intros</span> s ob [Hur Hadr]; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hur</var><span class="hyp-type"><b>: </b><span>UMO_reachable
  (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>)
  (s &lt;++&gt; ob)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr s = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable (<span class="kr">Œª</span> (<span class="nv">_</span> : State) (<span class="nv">_</span> : Message), <span class="kt">True</span>) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_addObservations_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The lemma just below essentially states that for every reachable state <code>s</code>,
  messages sent earlier are suffixes of messages sent later and that the
  messages are suffixes of the state <code>s</code>.

<div class="paragraph"> </div>

  More technically: if the observations of a reachable state <code>s</code> contain two
  sent messages <code>m1</code> and <code>m2</code> (with potentially some more observations
  in-between), then the state of <code>m1</code> is a state-suffix of the state of <code>m2</code>
  and also the state of <code>m2</code> is a state-suffix of <code>s</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18d"><span class="kn">Lemma</span> <span class="nf">state_suffix_totally_orders_sent_messages_UMO_reachable_aux</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span> <span class="nv">obs3</span> : list Observation),
    s = MkState [] (adr s) &lt;++&gt;
      obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs3 -&gt;
    UMO_reachable P s -&gt;
      state_suffix (state m1) (state m2) /\ state_suffix (state m2) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí UMO_reachable P s
    ‚Üí state_suffix (state m1) (state m2)
      ‚àß state_suffix (state m2) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí UMO_reachable P s
    ‚Üí state_suffix (state m1) (state m2)
      ‚àß state_suffix (state m2) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk18f"><span class="nb">intros</span> s m1 m2 obs1 obs2 obs3 -&gt; Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2)
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk190"><span class="nb">apply</span> UMO_reachable_addObservations_inv <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2)
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk191"><span class="nb">assert</span> (Hm2 := UMO_reachable_addObservation_inv_message _ _ _ Hvsp).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2)</span></span></span><br><span><var>Hm2</var><span class="hyp-type"><b>: </b><span>label (MkObservation Send m2) = Send
‚Üí message (MkObservation Send m2) =
  MkMessage
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2)
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk192"><span class="nb">apply</span> UMO_reachable_addObservation_inv <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hm2</var><span class="hyp-type"><b>: </b><span>label (MkObservation Send m2) = Send
‚Üí message (MkObservation Send m2) =
  MkMessage
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2)
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk193"><span class="nb">apply</span> UMO_reachable_addObservations_inv <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1)</span></span></span><br><span><var>Hm2</var><span class="hyp-type"><b>: </b><span>label (MkObservation Send m2) = Send
‚Üí message (MkObservation Send m2) =
  MkMessage
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2)
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk194"><span class="nb">assert</span> (Hm1 := UMO_reachable_addObservation_inv_message _ _ _ Hvsp).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1)</span></span></span><br><span><var>Hm2</var><span class="hyp-type"><b>: </b><span>label (MkObservation Send m2) = Send
‚Üí message (MkObservation Send m2) =
  MkMessage
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hm1</var><span class="hyp-type"><b>: </b><span>label (MkObservation Send m1) = Send
‚Üí message (MkObservation Send m1) =
  MkMessage (MkState [] (adr s) &lt;++&gt; obs1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2)
    (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk195"><span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">rewrite</span> Hm1, Hm2 <span class="bp">by</span> <span class="bp">done</span>;
  <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">rewrite</span> &lt;- Hm1, &lt;- Hm2 <span class="bp">by</span> <span class="bp">done</span>
  ; <span class="nb">clear</span> Hvsp Hm1 Hm2; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (MkState [] (adr s) &lt;++&gt; obs1)
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk196" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk196"><hr></label><div class="goal-conclusion">state_suffix
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk197">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (MkState [] (adr s) &lt;++&gt; obs1)
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk198"><span class="nb">rewrite</span> addObservations_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (MkState [] (adr s) &lt;++&gt; obs1)
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;++&gt;
   (obs2 ++ [MkObservation Send m1]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservations, ListExtras.last_not_null.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk199">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk19a"><span class="nb">rewrite</span> (addObservations_app _ _ obs3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;++&gt;
   (obs3 ++ [MkObservation Send m2]))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservations, ListExtras.last_not_null.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">state_suffix_totally_orders_sent_messages_UMO_reachable_aux</span></span> easily carries
  over to valid states.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk19b"><span class="kn">Lemma</span> <span class="nf">state_suffix_totally_orders_sent_messages_valid_state_prop_aux</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span> <span class="nv">obs3</span> : list Observation),
    s = MkState [] (adr s) &lt;++&gt;
      obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs3 -&gt;
    valid_state_prop Ui s -&gt;
      state_suffix (state m1) (state m2) /\ state_suffix (state m2) s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí valid_state_prop Ui s
    ‚Üí state_suffix (state m1) (state m2)
      ‚àß state_suffix (state m2) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk19c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí valid_state_prop Ui s
    ‚Üí state_suffix (state m1) (state m2)
      ‚àß state_suffix (state m2) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk19d"><span class="nb">intros</span> s m1 m2 obs1 obs2 obs3 Heq Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1) (state m2)
‚àß state_suffix (state m2) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk19e"><span class="nb">eapply</span> state_suffix_totally_orders_sent_messages_UMO_reachable_aux; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable <span class="nl">?P</span> s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> UMO_reachable_valid_state_prop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The <span class="inlinecode"><span class="id" title="var">message_suffix</span></span> relation is trichotomous on the <span class="inlinecode"><span class="id" title="var">sentMessages</span></span> of any
  reachable state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk19f"><span class="kn">Lemma</span> <span class="nf">state_suffix_totally_orders_sent_messages_UMO_reachable</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
    UMO_reachable P s -&gt; m1 ‚àà sentMessages s -&gt; m2 ‚àà sentMessages s -&gt;
      message_suffix m1 m2 \/ m1 = m2 \/ message_suffix m2 m1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  UMO_reachable P s
  ‚Üí m1 ‚àà sentMessages s
    ‚Üí m2 ‚àà sentMessages s
      ‚Üí message_suffix m1 m2
        ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  UMO_reachable P s
  ‚Üí m1 ‚àà sentMessages s
    ‚Üí m2 ‚àà sentMessages s
      ‚Üí message_suffix m1 m2
        ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a1"><span class="nb">intros</span> s m1 m2 Hvalid H1 H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>m1 ‚àà sentMessages s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>m2 ‚àà sentMessages s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message_suffix m1 m2 ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a2"><span class="nb">apply</span> elem_of_sentMessages <span class="kr">in</span> H1, H2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message_suffix m1 m2 ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a3"><span class="nb">destruct</span> (elem_of_list_split_2 _ _ _ H1 H2) <span class="kr">as</span> [Heq | (obs1 &amp; obs2 &amp; obs3 &amp; [H | H])]
  ; [<span class="nb">right</span>; <span class="nb">left</span> | <span class="nb">right</span>; <span class="nb">right</span> | <span class="nb">left</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 = MkObservation Send m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1a4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs s =
obs1 ++
MkObservation Send m1
:: obs2 ++ MkObservation Send m2 :: obs3</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1a4"><hr></label><div class="goal-conclusion">message_suffix m2 m1</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1a5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs s =
obs1 ++
MkObservation Send m2
:: obs2 ++ MkObservation Send m1 :: obs3</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1a5"><hr></label><div class="goal-conclusion">message_suffix m1 m2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 = MkObservation Send m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs s =
obs1 ++
MkObservation Send m1
:: obs2 ++ MkObservation Send m2 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a8"><span class="nb">eapply</span> state_suffix_totally_orders_sent_messages_UMO_reachable_aux <span class="kr">with</span> (s := s); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs s =
obs1 ++
MkObservation Send m1
:: obs2 ++ MkObservation Send m2 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s =
MkState [] (adr s) &lt;++&gt; <span class="nl">?obs1</span> &lt;+&gt;
MkObservation Send m2 &lt;++&gt; <span class="nl">?obs2</span> &lt;+&gt;
MkObservation Send m1 &lt;++&gt; <span class="nl">?obs3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> eq_State; <span class="nb">cbn</span>; [<span class="nb">rewrite</span> app_nil_r |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1a9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs s =
obs1 ++
MkObservation Send m2
:: obs2 ++ MkObservation Send m1 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message_suffix m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1aa"><span class="nb">eapply</span> state_suffix_totally_orders_sent_messages_UMO_reachable_aux <span class="kr">with</span> (s := s); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>obs s =
obs1 ++
MkObservation Send m2
:: obs2 ++ MkObservation Send m1 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s =
MkState [] (adr s) &lt;++&gt; <span class="nl">?obs1</span> &lt;+&gt;
MkObservation Send m1 &lt;++&gt; <span class="nl">?obs2</span> &lt;+&gt;
MkObservation Send m2 &lt;++&gt; <span class="nl">?obs3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> eq_State; <span class="nb">cbn</span>; [<span class="nb">rewrite</span> app_nil_r |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">state_suffix_totally_orders_sent_messages_UMO_reachable</span></span> transfers to
  <span class="inlinecode"><span class="id" title="var">sentMessages</span></span> of valid states.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ab"><span class="kn">Lemma</span> <span class="nf">state_suffix_totally_orders_sent_messages_valid_state_prop</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
    valid_state_prop Ui s -&gt; m1 ‚àà sentMessages s -&gt; m2 ‚àà sentMessages s -&gt;
      message_suffix m1 m2 \/ m1 = m2 \/ message_suffix m2 m1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  valid_state_prop Ui s
  ‚Üí m1 ‚àà sentMessages s
    ‚Üí m2 ‚àà sentMessages s
      ‚Üí message_suffix m1 m2
        ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ac"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  valid_state_prop Ui s
  ‚Üí m1 ‚àà sentMessages s
    ‚Üí m2 ‚àà sentMessages s
      ‚Üí message_suffix m1 m2
        ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ad"><span class="nb">intros</span> s m1 m2 Hvsp Hin1 Hin2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>m1 ‚àà sentMessages s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>m2 ‚àà sentMessages s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">message_suffix m1 m2 ‚à® m1 = m2 ‚à® message_suffix m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> state_suffix_totally_orders_sent_messages_UMO_reachable;
    [<span class="nb">apply</span> UMO_reachable_valid_state_prop | ..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab5"></a><h2 class="section">Observability</h2>
<div class="paragraph"> </div>

  Message <span class="inlinecode"><span class="id" title="var">m1</span></span> is directly observable in message <span class="inlinecode"><span class="id" title="var">m2</span></span> if <span class="inlinecode"><span class="id" title="var">m1</span></span> is an element
  of the list of observation of <span class="inlinecode"><span class="id" title="var">m2</span></span>'s state.

<div class="paragraph"> </div>

  It would be possible to use a different definition of <span class="inlinecode"><span class="id" title="var">directly_observable</span></span>,
  which goes by cases on whether the message was sent or received.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">directly_observable</span> (<span class="nv">m1</span> <span class="nv">m2</span> : Message) : <span class="kt">Prop</span> :=
  m1 ‚àà map message (obs (state m2)).</span></span></pre><div class="doc">
Our definition is equivalent to the alternative definition. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ae"><span class="kn">Lemma</span> <span class="nf">directly_observable_spec_other</span> :
  <span class="kr">forall</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
    m1 ‚àà map message (obs (state m2))
      &lt;-&gt;
    m1 ‚àà sentMessages (state m2) \/ m1 ‚àà receivedMessages (state m2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
  m1 ‚àà map message (obs (state m2))
  ‚Üî m1 ‚àà sentMessages (state m2)
    ‚à® m1 ‚àà receivedMessages (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1af"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
  m1 ‚àà map message (obs (state m2))
  ‚Üî m1 ‚àà sentMessages (state m2)
    ‚à® m1 ‚àà receivedMessages (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b0"><span class="nb">intros</span> m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 ‚àà map message (obs (state m2))
‚Üî m1 ‚àà sentMessages (state m2)
  ‚à® m1 ‚àà receivedMessages (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b1"><span class="nb">unfold</span> sentMessages, sentMessages&#39;, receivedMessages, receivedMessages&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 ‚àà map message (obs (state m2))
‚Üî m1 ‚àà map message (filter isSend (obs (state m2)))
  ‚à® m1
    ‚àà map message (filter isReceive (obs (state m2)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b2"><span class="nb">unfold</span> Message; <span class="nb">rewrite</span> !elem_of_list_fmap.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   m1 = message y ‚àß y ‚àà obs (state m2))
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     m1 = message y
     ‚àß y ‚àà filter isSend (obs (state m2)))
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
       m1 = message y
       ‚àß y ‚àà filter isReceive (obs (state m2)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b3"><span class="nb">setoid_rewrite</span> elem_of_list_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   m1 = message y ‚àß y ‚àà obs (state m2))
‚Üî (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     m1 = message y ‚àß isSend y ‚àß y ‚àà obs (state m2))
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
       m1 = message y
       ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b4"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   m1 = message y ‚àß y ‚àà obs (state m2))
‚Üí (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     m1 = message y ‚àß isSend y ‚àß y ‚àà obs (state m2))
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
       m1 = message y
       ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1b5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1b5"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   m1 = message y ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     m1 = message y ‚àß isReceive y ‚àß y ‚àà obs (state m2))
‚Üí <span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
    m1 = message y ‚àß y ‚àà obs (state m2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   m1 = message y ‚àß y ‚àà obs (state m2))
‚Üí (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     m1 = message y ‚àß isSend y ‚àß y ‚àà obs (state m2))
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
       m1 = message y
       ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b7"><span class="nb">intros</span> (ob &amp; Hm &amp; Hin); <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   message ob = message y
   ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     message ob = message y
     ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1b8"><span class="nb">destruct</span> (label ob) <span class="nb">eqn</span>: Hlob.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br><span><var>Hlob</var><span class="hyp-type"><b>: </b><span>label ob = Receive</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   message ob = message y
   ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     message ob = message y
     ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1b9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br><span><var>Hlob</var><span class="hyp-type"><b>: </b><span>label ob = Send</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1b9"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   message ob = message y
   ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     message ob = message y
     ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ba">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br><span><var>Hlob</var><span class="hyp-type"><b>: </b><span>label ob = Receive</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   message ob = message y
   ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     message ob = message y
     ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">ob</span>; <span class="nb">unfold</span> isReceive; <span class="nb">rewrite</span> Hlob.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1bb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br><span><var>Hlob</var><span class="hyp-type"><b>: </b><span>label ob = Send</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   message ob = message y
   ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     message ob = message y
     ‚àß isReceive y ‚àß y ‚àà obs (state m2))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="kr">exists</span> <span class="nv">ob</span>; <span class="nb">unfold</span> isSend; <span class="nb">rewrite</span> Hlob.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1bc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
   m1 = message y ‚àß isSend y ‚àß y ‚àà obs (state m2))
‚à® (<span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
     m1 = message y ‚àß isReceive y ‚àß y ‚àà obs (state m2))
‚Üí <span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
    m1 = message y ‚àß y ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1bd"><span class="nb">intros</span> [(ob &amp; -&gt; &amp; Hs &amp; Hin) | (ob &amp; -&gt; &amp; Hs &amp; Hin)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>isSend ob</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
  message ob = message y ‚àß y ‚àà obs (state m2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1be" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>isReceive ob</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1be"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
  message ob = message y ‚àß y ‚àà obs (state m2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1bf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>isSend ob</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
  message ob = message y ‚àß y ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">ob</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>BaseELMO.Observation</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>isReceive ob</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>ob ‚àà obs (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">y</span> : BaseELMO.Observation,
  message ob = message y ‚àß y ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">ob</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">observable</span></span> is the transitive closure of <span class="inlinecode"><span class="id" title="var">directly_observable</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">observable</span> : relation Message :=
  tc directly_observable.</span></span></pre><div class="doc">
  If <span class="inlinecode"><span class="id" title="var">m1</span></span> is directly observable in a suffix of <span class="inlinecode"><span class="id" title="var">m3</span></span>, then it is also
  directly observable in <span class="inlinecode"><span class="id" title="var">m3</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c1"><span class="kn">Lemma</span> <span class="nf">message_suffix_directly_observable</span> :
  <span class="kr">forall</span> <span class="nv">m1</span> <span class="nv">m2</span> <span class="nv">m3</span> : Message,
    message_suffix m2 m3 -&gt; directly_observable m1 m2 -&gt; directly_observable m1 m3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> <span class="nv">m3</span> : Message,
  message_suffix m2 m3
  ‚Üí directly_observable m1 m2
    ‚Üí directly_observable m1 m3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> <span class="nv">m3</span> : Message,
  message_suffix m2 m3
  ‚Üí directly_observable m1 m2
    ‚Üí directly_observable m1 m3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c3"><span class="nb">unfold</span> directly_observable.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> <span class="nv">m3</span> : Message,
  message_suffix m2 m3
  ‚Üí m1 ‚àà map message (obs (state m2))
    ‚Üí m1 ‚àà map message (obs (state m3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c4"><span class="nb">intros</span> [s1] [s2] [s3] (_ &amp; [obs&#39; Hsuf] &amp; _) Hdo; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s1, s2, s3</var><span class="hyp-type"><b>: </b><span>BaseELMO.State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>obs s3 = obs&#39; ++ obs s2</span></span></span><br><span><var>Hdo</var><span class="hyp-type"><b>: </b><span>MkMessage s1 ‚àà map message (obs s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkMessage s1 ‚àà map message (obs s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> Message; <span class="nb">rewrite</span> Hsuf, map_app, elem_of_app; <span class="nb">right</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">m</span></span> is directly observable in state <span class="inlinecode"><span class="id" title="var">s</span></span> extended with new observation <span class="inlinecode"><span class="id" title="var">ob</span></span>
  iff <span class="inlinecode"><span class="id" title="var">m</span></span> is the message of <span class="inlinecode"><span class="id" title="var">ob</span></span> or <span class="inlinecode"><span class="id" title="var">m</span></span> is directly observable in <span class="inlinecode"><span class="id" title="var">s</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c5"><span class="kn">Lemma</span> <span class="nf">directly_observable_addObservation</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : Message) (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
    directly_observable m (MkMessage (s &lt;+&gt; ob))
      &lt;-&gt;
    directly_observable m (MkMessage s) \/ m = message ob.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  directly_observable m (MkMessage (s &lt;+&gt; ob))
  ‚Üî directly_observable m (MkMessage s)
    ‚à® m = message ob</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  directly_observable m (MkMessage (s &lt;+&gt; ob))
  ‚Üî directly_observable m (MkMessage s)
    ‚à® m = message ob</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c7"><span class="nb">unfold</span> directly_observable, Message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : BaseELMO.Message) (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  m ‚àà map message (obs (state (MkMessage (s &lt;+&gt; ob))))
  ‚Üî m ‚àà map message (obs (state (MkMessage s)))
    ‚à® m = message ob</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> m s ob; <span class="nb">cbn</span>; <span class="nb">rewrite</span> elem_of_cons; itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">directly_observable_addObservation</span></span> easily transfers to a situation in
  which we add multiple observations at once.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c8"><span class="kn">Lemma</span> <span class="nf">directly_observable_addObservations</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : Message) (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
    directly_observable m (MkMessage (s &lt;++&gt; obs&#39;))
      &lt;-&gt;
    directly_observable m (MkMessage s) \/ m ‚àà map message obs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  directly_observable m (MkMessage (s &lt;++&gt; obs&#39;))
  ‚Üî directly_observable m (MkMessage s)
    ‚à® m ‚àà map message obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1c9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : Message) (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  directly_observable m (MkMessage (s &lt;++&gt; obs&#39;))
  ‚Üî directly_observable m (MkMessage s)
    ‚à® m ‚àà map message obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ca"><span class="nb">unfold</span> directly_observable, Message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">m</span> : BaseELMO.Message) (<span class="nv">s</span> : State) (<span class="nv">obs&#39;</span> : list
                                               Observation),
  m
  ‚àà map message
      (obs (state (MkMessage (s &lt;++&gt; obs&#39;))))
  ‚Üî m ‚àà map message (obs (state (MkMessage s)))
    ‚à® m ‚àà map message obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> m s obs&#39;; <span class="nb">cbn</span>; <span class="nb">rewrite</span> map_app, elem_of_app; itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  In a reachable state, messages sent earlier are directly observable in
  messages sent later.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1cb"><span class="kn">Lemma</span> <span class="nf">directly_observable_totally_orders_sent_messages_UMO_reachable</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span> <span class="nv">obs3</span> : list Observation),
    s = MkState [] (adr s) &lt;++&gt;
      obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs3 -&gt;
    UMO_reachable P s -&gt;
      directly_observable m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí UMO_reachable P s ‚Üí directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1cc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí UMO_reachable P s ‚Üí directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1cd"><span class="nb">intros</span> s m1 m2 obs1 obs2 obs3 Heq Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ce"><span class="nb">rewrite</span> Heq <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1cf"><span class="nb">apply</span> UMO_reachable_addObservations_inv <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d0"><span class="nb">apply</span> UMO_reachable_addObservation_inv_message <span class="kr">in</span> Hvsp <span class="kr">as</span> Heq&#39;; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
   MkObservation Send m2)</span></span></span><br><span><var>Heq'</var><span class="hyp-type"><b>: </b><span>message (MkObservation Send m2) =
MkMessage
  (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d1"><span class="nb">cbn</span> <span class="kr">in</span> Heq&#39;; <span class="nb">subst</span>; <span class="nb">clear</span> Heq Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">directly_observable m1
  (MkMessage
     (MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
      MkObservation Send m1 &lt;++&gt; obs2))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d2"><span class="kp">repeat</span> (<span class="nb">rewrite</span> <span class="nl">?directly_observable_addObservations</span>, <span class="nl">?directly_observable_addObservation</span>); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((directly_observable m1
    (MkMessage (MkState [] (adr s)))
  ‚à® m1 ‚àà map message obs1) ‚à® m1 = m1)
‚à® m1 ‚àà map message obs2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">directly_observable_totally_orders_sent_messages_UMO_reachable</span></span> can be
  transferred to valid states.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d3"><span class="kn">Lemma</span> <span class="nf">directly_observable_totally_orders_sent_messages_valid_state_prop</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span> <span class="nv">obs3</span> : list Observation),
    s = MkState [] (adr s) &lt;++&gt;
      obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs3 -&gt;
    valid_state_prop Ui s -&gt;
      directly_observable m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí valid_state_prop Ui s ‚Üí directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message) (<span class="nv">obs1</span> <span class="nv">obs2</span>
                                 <span class="nv">obs3</span> : list
                                          Observation),
  s =
  MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
  MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
  MkObservation Send m2 &lt;++&gt; obs3
  ‚Üí valid_state_prop Ui s ‚Üí directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d5"><span class="nb">intros</span> s m1 m2 obs1 obs2 obs3 Heq Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
MkState [] (adr s) &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs3</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop Ui s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">directly_observable m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> directly_observable_totally_orders_sent_messages_UMO_reachable,
    UMO_reachable_valid_state_prop.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If <code>ob</code> belongs to the observations of a state <code>s</code>, we can decompose
  <code>s</code> into some state <code>s'</code> followed by <code>ob</code> and then possibly some
  more observations <code>obs'</code>.

<div class="paragraph"> </div>

  Moreover, if the observation was a sent message <code>m</code>, then we know that
  <code>s'</code> is <code>state m</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d6"><span class="kn">Lemma</span> <span class="nf">elem_of_obs_split</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
    ob ‚àà obs s -&gt;
      <span class="kr">exists</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
        s = s&#39; &lt;+&gt; ob &lt;++&gt; obs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  ob ‚àà obs s
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
      s = s&#39; &lt;+&gt; ob &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob</span> : Observation),
  ob ‚àà obs s
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
      s = s&#39; &lt;+&gt; ob &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d8"><span class="nb">intros</span> s m Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà obs s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  s = s&#39; &lt;+&gt; m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1d9"><span class="nb">apply</span> elem_of_list_split <span class="kr">in</span> Hin <span class="kr">as</span> (obs1 &amp; obs2 &amp; Hobs); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ m :: obs2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs&#39;</span> : list Observation),
  s = s&#39; &lt;+&gt; m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1da"><span class="kr">exists</span> (<span class="nv">MkState</span> <span class="nv">obs2</span> (adr s)), obs1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hobs</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ m :: obs2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = MkState obs2 (adr s) &lt;+&gt; m &lt;++&gt; obs1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> eq_State; <span class="nb">cbn</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1db"><span class="kn">Lemma</span> <span class="nf">elem_of_UMO_reachable_obs_Send_split</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    MkObservation Send m ‚àà obs s -&gt; UMO_reachable P s -&gt;
      <span class="kr">exists</span> <span class="nv">obs&#39;</span> : list Observation,
        s = state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  MkObservation Send m ‚àà obs s
  ‚Üí UMO_reachable P s
    ‚Üí <span class="kr">‚àÉ</span> <span class="nv">obs&#39;</span> : list Observation,
        s = state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1dc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  MkObservation Send m ‚àà obs s
  ‚Üí UMO_reachable P s
    ‚Üí <span class="kr">‚àÉ</span> <span class="nv">obs&#39;</span> : list Observation,
        s = state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1dd"><span class="nb">intros</span> s m Hin Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>MkObservation Send m ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">obs&#39;</span> : list Observation,
  s = state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1de"><span class="nb">apply</span> elem_of_obs_split <span class="kr">in</span> Hin <span class="kr">as</span> (s&#39; &amp; obs&#39; &amp; -&gt;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">obs&#39;0</span> : list Observation,
  s&#39; &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39; =
  state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1df"><span class="kr">exists</span> <span class="nv">obs&#39;</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39; =
state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e0"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = state m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> UMO_reachable_addObservations_inv, UMO_reachable_addObservation_inv_Send_state <span class="kr">in</span> Hvsp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e1"><span class="kn">Lemma</span> <span class="nf">elem_of_UMO_reachable_obs_Send_UMO_reachable</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    MkObservation Send m ‚àà obs s -&gt; UMO_reachable P s -&gt;
      UMO_reachable P (state m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  MkObservation Send m ‚àà obs s
  ‚Üí UMO_reachable P s ‚Üí UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  MkObservation Send m ‚àà obs s
  ‚Üí UMO_reachable P s ‚Üí UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e3"><span class="nb">intros</span> s m Hin Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>MkObservation Send m ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e4"><span class="nb">destruct</span> (elem_of_UMO_reachable_obs_Send_split _ _ _ Hin Hvsp) <span class="kr">as</span> [obs -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>MkObservation Send m
‚àà BaseELMO.obs
    (state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable P (state m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> UMO_reachable_addObservations_inv, UMO_reachable_addObservation_inv_Send <span class="kr">in</span> Hvsp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">elem_of_obs_split</span></span> and <span class="inlinecode"><span class="id" title="var">elem_of_UMO_reachable_obs_Send_split</span></span> can be generalized to
  two observations <code>ob1</code> and <code>ob2</code> and from there to any numbers of observations.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e5"><span class="kn">Lemma</span> <span class="nf">elem_of_obs_split_2</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">ob1</span> <span class="nv">ob2</span> : Observation),
    ob1 ‚àà obs s -&gt; ob2 ‚àà obs s -&gt;
      ob1 = ob2
        \/
      <span class="kr">exists</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
        s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
          \/
        s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob1</span> <span class="nv">ob2</span> : Observation),
  ob1 ‚àà obs s
  ‚Üí ob2 ‚àà obs s
    ‚Üí ob1 = ob2
      ‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
           s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
           ‚à® s =
             s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">ob1</span> <span class="nv">ob2</span> : Observation),
  ob1 ‚àà obs s
  ‚Üí ob2 ‚àà obs s
    ‚Üí ob1 = ob2
      ‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
           s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
           ‚à® s =
             s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e7"><span class="nb">intros</span> s ob1 ob2 Hin1 Hin2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1e8"><span class="nb">destruct</span> (elem_of_list_split_2 _ _ _ Hin1 Hin2)
    <span class="kr">as</span> [Heq | (obs1 &amp; obs2 &amp; obs3 &amp; [Heq | Heq])].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ob1 = ob2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1e9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ ob1 :: obs2 ++ ob2 :: obs3</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1e9"><hr></label><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1ea" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ ob2 :: obs2 ++ ob1 :: obs3</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1ea"><hr></label><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1eb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>ob1 = ob2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ ob1 :: obs2 ++ ob2 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ed"><span class="nb">right</span>; <span class="kr">exists</span> (<span class="nv">MkState</span> <span class="nv">obs3</span> (adr s)), obs2, obs1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ ob1 :: obs2 ++ ob2 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s =
MkState obs3 (adr s) &lt;+&gt; ob1 &lt;++&gt; obs2 &lt;+&gt; ob2 &lt;++&gt;
obs1
‚à® s =
  MkState obs3 (adr s) &lt;+&gt; ob2 &lt;++&gt; obs2 &lt;+&gt; ob1 &lt;++&gt;
  obs1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">apply</span> eq_State; <span class="nb">cbn</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ee">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ ob2 :: obs2 ++ ob1 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ob1 = ob2
‚à® (<span class="kr">‚àÉ</span> (<span class="nv">s&#39;</span> : State) (<span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation),
     s = s&#39; &lt;+&gt; ob1 &lt;++&gt; obs1 &lt;+&gt; ob2 &lt;++&gt; obs2
     ‚à® s = s&#39; &lt;+&gt; ob2 &lt;++&gt; obs1 &lt;+&gt; ob1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ef"><span class="nb">right</span>; <span class="kr">exists</span> (<span class="nv">MkState</span> <span class="nv">obs3</span> (adr s)), obs2, obs1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>ob1, ob2</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>ob1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>ob2 ‚àà obs s</span></span></span><br><span><var>obs1, obs2, obs3</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs s = obs1 ++ ob2 :: obs2 ++ ob1 :: obs3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s =
MkState obs3 (adr s) &lt;+&gt; ob1 &lt;++&gt; obs2 &lt;+&gt; ob2 &lt;++&gt;
obs1
‚à® s =
  MkState obs3 (adr s) &lt;+&gt; ob2 &lt;++&gt; obs2 &lt;+&gt; ob1 &lt;++&gt;
  obs1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">apply</span> eq_State; <span class="nb">cbn</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f0"><span class="kn">Lemma</span> <span class="nf">elem_of_UMO_reachable_obs_Send_split_2</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
    MkObservation Send m1 ‚àà obs s -&gt; MkObservation Send m2 ‚àà obs s -&gt;
    UMO_reachable P s -&gt;
      m1 = m2
        \/
      <span class="kr">exists</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
        s = state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs2
          \/
        s = state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  MkObservation Send m1 ‚àà obs s
  ‚Üí MkObservation Send m2 ‚àà obs s
    ‚Üí UMO_reachable P s
      ‚Üí m1 = m2
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
             s =
             state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
             obs1 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs2
             ‚à® s =
               state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt;
               obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
               obs2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  MkObservation Send m1 ‚àà obs s
  ‚Üí MkObservation Send m2 ‚àà obs s
    ‚Üí UMO_reachable P s
      ‚Üí m1 = m2
        ‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
             s =
             state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
             obs1 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs2
             ‚à® s =
               state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt;
               obs1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
               obs2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f2"><span class="nb">intros</span> s m1 m2 Hin1 Hin2 Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f3"><span class="nb">destruct</span> (elem_of_obs_split_2 _ _ _ Hin1 Hin2) <span class="kr">as</span> [Heq | (s&#39; &amp; obs1 &amp; obs2 &amp; [Heq | Heq])].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 = MkObservation Send m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1f4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs2</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1f4"><hr></label><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk1f5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk1f5"><hr></label><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 = MkObservation Send m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f8"><span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">obs1</span>, obs2; <span class="nb">left</span>; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs2 =
state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m2 &lt;++&gt; obs2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1f9"><span class="kp">do</span> <span class="mi">4</span> <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = state m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_addObservation_inv_Send_state,
      UMO_reachable_addObservations_inv,
      UMO_reachable_addObservation_inv,
      UMO_reachable_addObservations_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1fa">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s =
s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 = m2
‚à® (<span class="kr">‚àÉ</span> <span class="nv">obs1</span> <span class="nv">obs2</span> : list Observation,
     s =
     state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m2 &lt;++&gt; obs2
     ‚à® s =
       state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
       MkObservation Send m1 &lt;++&gt; obs2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1fb"><span class="nb">right</span>; <span class="kr">exists</span> <span class="nv">obs1</span>, obs2; <span class="nb">right</span>; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2 =
state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
MkObservation Send m1 &lt;++&gt; obs2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1fc"><span class="kp">do</span> <span class="mi">4</span> <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1
‚àà obs
    (s&#39; &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
     MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = state m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_addObservation_inv_Send_state,
      UMO_reachable_addObservations_inv,
      UMO_reachable_addObservation_inv,
      UMO_reachable_addObservations_inv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
If <code>m</code> belongs to <span class="inlinecode"><span class="id" title="var">sentMessages</span></span> of <code>s</code>, then its state has the same address as <code>s</code>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1fd"><span class="kn">Lemma</span> <span class="nf">adr_of_sentMessages</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    UMO_reachable P s -&gt; m ‚àà sentMessages s -&gt;
      adr (state m) = adr s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P s
  ‚Üí m ‚àà sentMessages s ‚Üí adr (state m) = adr s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1fe"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P s
  ‚Üí m ‚àà sentMessages s ‚Üí adr (state m) = adr s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk1ff"><span class="nb">intros</span> s m Hvsp Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr (state m) = adr s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk200"><span class="nb">apply</span> elem_of_sentMessages, elem_of_obs_split <span class="kr">in</span> Hin <span class="kr">as</span> (s&#39; &amp; obs&#39; &amp; -&gt;); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (s&#39; &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr (state m) = adr s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk201"><span class="nb">apply</span> UMO_reachable_addObservations_inv <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (s&#39; &lt;+&gt; MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr (state m) = adr s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> s&#39;; <span class="nb">inversion</span> Hvsp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A message <code>m</code> belongs to the <span class="inlinecode"><span class="id" title="var">sentMessages</span></span> of state <code>s</code> if and only if
  the state <span class="inlinecode"><span class="id" title="var">state</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> <span class="inlinecode">&lt;+&gt;</span> <span class="inlinecode"><span class="id" title="var">MkObservation</span></span> <span class="inlinecode"><span class="id" title="var">Send</span></span> <span class="inlinecode"><span class="id" title="var">m</span></span> is a (possibly improper)
  state suffix of <code>s</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk202"><span class="kn">Lemma</span> <span class="nf">sentMessages_characterization</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
    UMO_reachable P s -&gt;
      m ‚àà sentMessages s
        &lt;-&gt;
      <span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
        state_suffix s&#39; s \/ s&#39; = s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P s
  ‚Üí m ‚àà sentMessages s
    ‚Üî (<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
       state_suffix s&#39; s ‚à® s&#39; = s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk203"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m</span> : Message),
  UMO_reachable P s
  ‚Üí m ‚àà sentMessages s
    ‚Üî (<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
       state_suffix s&#39; s ‚à® s&#39; = s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk204"><span class="nb">intros</span> s m Hvsp; <span class="nb">setoid_rewrite</span> elem_of_sentMessages; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m ‚àà obs s
‚Üí <span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
  state_suffix s&#39; s ‚à® s&#39; = s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk205" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk205"><hr></label><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
 state_suffix s&#39; s ‚à® s&#39; = s)
‚Üí MkObservation Send m ‚àà obs s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk206">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m ‚àà obs s
‚Üí <span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
  state_suffix s&#39; s ‚à® s&#39; = s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk207"><span class="nb">intros</span> Hin; <span class="nb">eapply</span> elem_of_UMO_reachable_obs_Send_split <span class="kr">in</span> Hin <span class="kr">as</span> (obs&#39; &amp; -&gt;); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
state_suffix s&#39;
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;)
‚à® s&#39; = state m &lt;+&gt; MkObservation Send m &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk208"><span class="nb">destruct</span> obs&#39; <span class="kr">as</span> [| ob obs&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
state_suffix s&#39;
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; [])
‚à® s&#39; = state m &lt;+&gt; MkObservation Send m &lt;++&gt; []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk209" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt;
   (ob :: obs&#39;))</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk209"><hr></label><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
state_suffix s&#39;
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; (ob :: obs&#39;))
‚à® s&#39; =
  state m &lt;+&gt; MkObservation Send m &lt;++&gt; (ob :: obs&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk20a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; [])</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
state_suffix s&#39;
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; [])
‚à® s&#39; = state m &lt;+&gt; MkObservation Send m &lt;++&gt; []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk20b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt;
   (ob :: obs&#39;))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
state_suffix s&#39;
  (state m &lt;+&gt; MkObservation Send m &lt;++&gt; (ob :: obs&#39;))
‚à® s&#39; =
  state m &lt;+&gt; MkObservation Send m &lt;++&gt; (ob :: obs&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">apply</span> state_suffix_addObservations; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk20c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
 state_suffix s&#39; s ‚à® s&#39; = s)
‚Üí MkObservation Send m ‚àà obs s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk20d"><span class="nb">cbn</span>; <span class="nb">intros</span> [(Hadr &amp; (ob &amp; -&gt;) &amp; Hobs2) | &lt;-].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m &lt;+&gt; MkObservation Send m) = adr s</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>¬¨ ob ++ obs (state m &lt;+&gt; MkObservation Send m)
  `suffix_of` obs
                (state m &lt;+&gt;
                 MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m
‚àà ob ++ obs (state m &lt;+&gt; MkObservation Send m)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk20e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk20e"><hr></label><div class="goal-conclusion">MkObservation Send m
‚àà obs (state m &lt;+&gt; MkObservation Send m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk20f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m &lt;+&gt; MkObservation Send m) = adr s</span></span></span><br><span><var>ob</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Hobs2</var><span class="hyp-type"><b>: </b><span>¬¨ ob ++ obs (state m &lt;+&gt; MkObservation Send m)
  `suffix_of` obs
                (state m &lt;+&gt;
                 MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m
‚àà ob ++ obs (state m &lt;+&gt; MkObservation Send m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_app; <span class="nb">right</span>; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk210">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m &lt;+&gt; MkObservation Send m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m
‚àà obs (state m &lt;+&gt; MkObservation Send m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A message <code>m1</code> was sent before another message <code>m2</code> if they have the same
  address and <code>m1</code> appears in <span class="inlinecode"><span class="id" title="var">sentMessages</span></span> of the state of <code>m2</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">was_sent_before</span> (<span class="nv">m1</span> <span class="nv">m2</span> : Message) : <span class="kt">Prop</span> :=
  adr (state m1) = adr (state m2) /\ m1 ‚àà sentMessages (state m2).</span></span></pre><div class="doc">
  We can characterize <span class="inlinecode"><span class="id" title="var">was_sent_before</span></span> in terms of <span class="inlinecode"><span class="id" title="var">state_suffix</span></span> in two
  different ways, provided that the state of <code>m2</code> is reachable.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk211"><span class="kn">Lemma</span> <span class="nf">was_sent_before_characterization_1</span> <span class="nv">P</span> :
  <span class="kr">forall</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
    UMO_reachable P (state m2) -&gt;
      was_sent_before m1 m2
        &lt;-&gt;
      <span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
        state_suffix s (state m2) \/ s = state m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
  UMO_reachable P (state m2)
  ‚Üí was_sent_before m1 m2
    ‚Üî (<span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
       state_suffix s (state m2) ‚à® s = state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk212"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
  UMO_reachable P (state m2)
  ‚Üí was_sent_before m1 m2
    ‚Üî (<span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
       state_suffix s (state m2) ‚à® s = state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk213"><span class="nb">intros</span> m1 m2 Hvsp; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚Üí <span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
  state_suffix s (state m2) ‚à® s = state m2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk214" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk214"><hr></label><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
 state_suffix s (state m2) ‚à® s = state m2)
‚Üí was_sent_before m1 m2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk215">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚Üí <span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
  state_suffix s (state m2) ‚à® s = state m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk216"><span class="nb">intros</span> [Hadr Hsent].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>m1 ‚àà sentMessages (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
state_suffix s (state m2) ‚à® s = state m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk217"><span class="nb">apply</span> elem_of_sentMessages <span class="kr">in</span> Hsent.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
state_suffix s (state m2) ‚à® s = state m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk218"><span class="nb">eapply</span> elem_of_UMO_reachable_obs_Send_split <span class="kr">in</span> Hsent <span class="kr">as</span> (obs&#39; &amp; -&gt;); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
state_suffix s
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs&#39;)
‚à® s = state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk219"><span class="nb">destruct</span> obs&#39; <span class="kr">as</span> [| ob&#39; obs&#39;]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; [])
‚à® state m1 &lt;+&gt; MkObservation Send m1 =
  state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk21a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk21a"><hr></label><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
   (ob&#39; :: obs&#39;))
‚à® state m1 &lt;+&gt; MkObservation Send m1 =
  state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
  (ob&#39; :: obs&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk21b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; [])
‚à® state m1 &lt;+&gt; MkObservation Send m1 =
  state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk21c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>ob'</var><span class="hyp-type"><b>: </b><span>Observation</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
   (ob&#39; :: obs&#39;))
‚à® state m1 &lt;+&gt; MkObservation Send m1 =
  state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
  (ob&#39; :: obs&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; <span class="nb">apply</span> state_suffix_addObservations; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk21d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">s</span> := state m1 &lt;+&gt; MkObservation Send m1 <span class="kr">in</span>
 state_suffix s (state m2) ‚à® s = state m2)
‚Üí was_sent_before m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk21e"><span class="nb">intros</span> [(Hadr &amp; Hsuf &amp; Hnsuf) | Heq]; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>addObservation&#39; (MkObservation Send m1)
  (obs (state m1)) `suffix_of` 
obs (state m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2)
  `suffix_of` addObservation&#39;
                (MkObservation Send m1)
                (obs (state m1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk21f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 = state m2</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk21f"><hr></label><div class="goal-conclusion">was_sent_before m1 m2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk220">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>addObservation&#39; (MkObservation Send m1)
  (obs (state m1)) `suffix_of` 
obs (state m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2)
  `suffix_of` addObservation&#39;
                (MkObservation Send m1)
                (obs (state m1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk221"><span class="nb">constructor</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>addObservation&#39; (MkObservation Send m1)
  (obs (state m1)) `suffix_of` 
obs (state m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2)
  `suffix_of` addObservation&#39;
                (MkObservation Send m1)
                (obs (state m1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 ‚àà sentMessages (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk222"><span class="nb">apply</span> elem_of_sentMessages.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>addObservation&#39; (MkObservation Send m1)
  (obs (state m1)) `suffix_of` 
obs (state m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2)
  `suffix_of` addObservation&#39;
                (MkObservation Send m1)
                (obs (state m1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk223"><span class="nb">destruct</span> Hsuf <span class="kr">as</span> [obs&#39; -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2)
  `suffix_of` addObservation&#39;
                (MkObservation Send m1)
                (obs (state m1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1
‚àà obs&#39; ++
  addObservation&#39; (MkObservation Send m1)
    (obs (state m1))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk224"><span class="nb">unfold</span> addObservation&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2)
  `suffix_of` addObservation&#39;
                (MkObservation Send m1)
                (obs (state m1))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1
‚àà obs&#39; ++ MkObservation Send m1 :: obs (state m1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> elem_of_app, elem_of_cons; <span class="nb">right</span>; <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk225">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 = state m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk226"><span class="nb">constructor</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 = state m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr (state m1) = adr (state m2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk227" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 = state m2</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk227"><hr></label><div class="goal-conclusion">m1 ‚àà sentMessages (state m2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk228">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 = state m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">adr (state m1) = adr (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (<span class="nb">f_equal</span> adr) <span class="kr">in</span> Heq; <span class="nb">cbn</span> <span class="kr">in</span> Heq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk229">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 = state m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 ‚àà sentMessages (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- Heq; <span class="nb">setoid_rewrite</span> elem_of_sentMessages; <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk22a"><span class="kn">Lemma</span> <span class="nf">was_sent_before_characterization_2</span> <span class="nv">P</span> :
  <span class="kr">forall</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
    UMO_reachable P (state m2) -&gt;
      was_sent_before m1 m2
        &lt;-&gt;
      state_suffix (state m1 &lt;+&gt; MkObservation Send m1) (state m2 &lt;+&gt; MkObservation Send m2).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
  UMO_reachable P (state m2)
  ‚Üí was_sent_before m1 m2
    ‚Üî state_suffix
        (state m1 &lt;+&gt; MkObservation Send m1)
        (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk22b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message,
  UMO_reachable P (state m2)
  ‚Üí was_sent_before m1 m2
    ‚Üî state_suffix
        (state m1 &lt;+&gt; MkObservation Send m1)
        (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk22c"><span class="nb">intros</span> m1 m2 Hvsp; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚Üí state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
    (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk22d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk22d"><hr></label><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m2 &lt;+&gt; MkObservation Send m2)
‚Üí was_sent_before m1 m2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk22e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚Üí state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
    (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk22f"><span class="nb">intros</span> [Hadr Hsent].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>m1 ‚àà sentMessages (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk230"><span class="nb">eapply</span> elem_of_sentMessages, elem_of_UMO_reachable_obs_Send_split
      <span class="kr">in</span> Hsent <span class="kr">as</span> (obs&#39; &amp; -&gt;); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs&#39; &lt;+&gt;
   MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk231"><span class="nb">cbn</span>; <span class="nb">rewrite</span> addObservation_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
   (MkObservation Send m2 :: obs&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservations; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk232">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m2 &lt;+&gt; MkObservation Send m2)
‚Üí was_sent_before m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk233"><span class="nb">intros</span> (Hadr &amp; Hsuf &amp; Hnsuf).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>obs (state m1 &lt;+&gt; MkObservation Send m1)
`suffix_of` obs
              (state m2 &lt;+&gt;
               MkObservation Send m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk234"><span class="nb">constructor</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>obs (state m1 &lt;+&gt; MkObservation Send m1)
`suffix_of` obs
              (state m2 &lt;+&gt;
               MkObservation Send m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m1 ‚àà sentMessages (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk235"><span class="nb">apply</span> elem_of_sentMessages.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>Hsuf</var><span class="hyp-type"><b>: </b><span>obs (state m1 &lt;+&gt; MkObservation Send m1)
`suffix_of` obs
              (state m2 &lt;+&gt;
               MkObservation Send m2)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk236"><span class="nb">destruct</span> Hsuf <span class="kr">as</span> [obs&#39; Heq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>obs (state m2 &lt;+&gt; MkObservation Send m2) =
obs&#39; ++ obs (state m1 &lt;+&gt; MkObservation Send m1)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk237"><span class="nb">cbn</span> <span class="kr">in</span> Heq; <span class="nb">unfold</span> addObservation&#39; <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 :: obs (state m2) =
obs&#39; ++ MkObservation Send m1 :: obs (state m1)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk238"><span class="nb">unfold</span> addObservation&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 :: obs (state m2) =
obs&#39; ++ MkObservation Send m1 :: obs (state m1)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk239"><span class="nb">destruct</span> obs&#39; <span class="kr">as</span> [| ob&#39; obs&#39;]; <span class="nb">inversion</span> Heq; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m1 &lt;+&gt; MkObservation Send m1)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 :: obs (state m1) =
[] ++ MkObservation Send m1 :: obs (state m1)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m1 &lt;+&gt; MkObservation Send m1)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs (state m1) = obs (state m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m1)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk23a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 :: obs (state m2) =
(MkObservation Send m2 :: obs&#39;) ++
MkObservation Send m1 :: obs (state m1)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs (state m2) =
obs&#39; ++ MkObservation Send m1 :: obs (state m1)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk23a"><hr></label><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk23b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m1 &lt;+&gt; MkObservation Send m1)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 :: obs (state m1) =
[] ++ MkObservation Send m1 :: obs (state m1)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m1 &lt;+&gt; MkObservation Send m1)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs (state m1) = obs (state m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m1)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradiction</span> Hnsuf.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk23c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Hadr</var><span class="hyp-type"><b>: </b><span>adr (state m1 &lt;+&gt; MkObservation Send m1) =
adr (state m2 &lt;+&gt; MkObservation Send m2)</span></span></span><br><span><var>obs'</var><span class="hyp-type"><b>: </b><span>list BaseELMO.Observation</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 :: obs (state m2) =
(MkObservation Send m2 :: obs&#39;) ++
MkObservation Send m1 :: obs (state m1)</span></span></span><br><span><var>Hnsuf</var><span class="hyp-type"><b>: </b><span>¬¨ obs (state m2 &lt;+&gt; MkObservation Send m2)
  `suffix_of` obs
                (state m1 &lt;+&gt;
                 MkObservation Send m1)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>obs (state m2) =
obs&#39; ++ MkObservation Send m1 :: obs (state m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkObservation Send m1 ‚àà obs (state m2)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> H1, elem_of_app, elem_of_cons; <span class="nb">right</span>; <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The relation <span class="inlinecode"><span class="id" title="var">was_sent_before</span></span> is trichotomous on the <span class="inlinecode"><span class="id" title="var">sentMessages</span></span> of any
  reachable state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk23d"><span class="kn">Lemma</span> <span class="nf">was_sent_before_totally_orders_sentMessages_UMO_reachable</span> <span class="nv">P</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
    UMO_reachable P s -&gt; m1 ‚àà sentMessages s -&gt; m2 ‚àà sentMessages s -&gt;
      was_sent_before m1 m2 \/ m1 = m2 \/ was_sent_before m2 m1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  UMO_reachable P s
  ‚Üí m1 ‚àà sentMessages s
    ‚Üí m2 ‚àà sentMessages s
      ‚Üí was_sent_before m1 m2
        ‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk23e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk23e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : State) (<span class="nv">m1</span> <span class="nv">m2</span> : Message),
  UMO_reachable P s
  ‚Üí m1 ‚àà sentMessages s
    ‚Üí m2 ‚àà sentMessages s
      ‚Üí was_sent_before m1 m2
        ‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk23f"><span class="nb">intros</span> s m1 m2 Hvsp Hin1 Hin2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>m1 ‚àà sentMessages s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>m2 ‚àà sentMessages s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk240"><span class="nb">apply</span> elem_of_sentMessages <span class="kr">in</span> Hin1, Hin2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk241"><span class="nb">assert</span> (Hvsp1 : UMO_reachable P (state m1))
    <span class="bp">by</span> (<span class="nb">eapply</span> elem_of_UMO_reachable_obs_Send_UMO_reachable; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk242"><span class="nb">assert</span> (Hvsp2 : UMO_reachable P (state m2))
    <span class="bp">by</span> (<span class="nb">eapply</span> elem_of_UMO_reachable_obs_Send_UMO_reachable; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hin1</var><span class="hyp-type"><b>: </b><span>MkObservation Send m1 ‚àà obs s</span></span></span><br><span><var>Hin2</var><span class="hyp-type"><b>: </b><span>MkObservation Send m2 ‚àà obs s</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk243"><span class="nb">destruct</span> (elem_of_UMO_reachable_obs_Send_split_2 P s m1 m2 Hin1 Hin2)
    <span class="kr">as</span> [Heq | (obs1 &amp; obs2 &amp; [-&gt; | -&gt;])]; [<span class="bp">done</span> | | |]; <span class="nb">clear</span> Hin1 Hin2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>m1 = m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk244" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk244"><hr></label><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk245" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk245"><hr></label><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk246">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P s</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>m1 = m2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">left</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk247">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk248"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk249"><span class="nb">rewrite</span> was_sent_before_characterization_2; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m2 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24a"><span class="nb">apply</span> UMO_reachable_addObservations_inv,
          UMO_reachable_addObservation_inv_Send_state <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 =
state m2</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m2 &lt;+&gt; MkObservation Send m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24b"><span class="nb">rewrite</span> &lt;- Hvsp, addObservation_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt; obs1 =
state m2</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m1 &lt;+&gt; MkObservation Send m1)
  (state m1 &lt;+&gt; MkObservation Send m1 &lt;++&gt;
   (MkObservation Send m2 :: obs1))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservations; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m1 m2
‚à® m1 = m2 ‚à® was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24d"><span class="nb">right</span>; <span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">was_sent_before m2 m1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24e"><span class="nb">rewrite</span> was_sent_before_characterization_2; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>UMO_reachable P
  (state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 &lt;+&gt;
   MkObservation Send m1 &lt;++&gt; obs2)</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m2 &lt;+&gt; MkObservation Send m2)
  (state m1 &lt;+&gt; MkObservation Send m1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk24f"><span class="nb">apply</span> UMO_reachable_addObservations_inv,
          UMO_reachable_addObservation_inv_Send_state <span class="kr">in</span> Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 =
state m1</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m2 &lt;+&gt; MkObservation Send m2)
  (state m1 &lt;+&gt; MkObservation Send m1)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk250"><span class="nb">rewrite</span> &lt;- Hvsp, addObservation_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Address</span></span></span><br><span><var>Ui</var><span><span class="hyp-body"><b>:= </b><span>UMO_component i</span></span><span class="hyp-type"><b>: </b><span>VLSM Message</span></span></span></span><br><span><var>P</var><span class="hyp-type"><b>: </b><span>State ‚Üí Message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>obs1, obs2</var><span class="hyp-type"><b>: </b><span>list Observation</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt; obs1 =
state m1</span></span></span><br><span><var>Hvsp1</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m1)</span></span></span><br><span><var>Hvsp2</var><span class="hyp-type"><b>: </b><span>UMO_reachable P (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_suffix (state m2 &lt;+&gt; MkObservation Send m2)
  (state m2 &lt;+&gt; MkObservation Send m2 &lt;++&gt;
   (MkObservation Send m1 :: obs1))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_suffix_addObservations; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Messages <code>m1</code> and <code>m2</code> are <span class="inlinecode"><span class="id" title="var">sent_comparable</span></span> when <code>m1 = m2</code> or
  <span class="inlinecode"><span class="id" title="var">was_sent_before</span></span> <span class="inlinecode"><span class="id" title="var">m1</span></span> <span class="inlinecode"><span class="id" title="var">m2</span></span> or <span class="inlinecode"><span class="id" title="var">was_sent_before</span></span> <span class="inlinecode"><span class="id" title="var">m2</span></span> <span class="inlinecode"><span class="id" title="var">m1</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">sent_comparable</span> : Message -&gt; Message -&gt; <span class="kt">Prop</span> :=
| sc_refl  : <span class="kr">forall</span> <span class="nv">m</span> : Message, sent_comparable m m
| sc_wsb_l : <span class="kr">forall</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message, was_sent_before m1 m2 -&gt; sent_comparable m1 m2
| sc_wsb_r : <span class="kr">forall</span> <span class="nv">m1</span> <span class="nv">m2</span> : Message, was_sent_before m2 m1 -&gt; sent_comparable m1 m2.</span></span></pre><div class="doc">
  Messages <code>m1</code> and <code>m2</code> are <span class="inlinecode"><span class="id" title="var">incomparable</span></span> if they have the same sender
  and are not <span class="inlinecode"><span class="id" title="var">sent_comparable</span></span>.

<div class="paragraph"> </div>

  Note that <span class="inlinecode"><span class="id" title="var">incomparable</span></span> is not simply a negation of <span class="inlinecode"><span class="id" title="var">sent_comparable</span></span>, so
  that there can be messages which are neither <span class="inlinecode"><span class="id" title="var">sent_comparable</span></span> nor
  <span class="inlinecode"><span class="id" title="var">incomparable</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">incomparable</span> (<span class="nv">m1</span> <span class="nv">m2</span> : Message) : <span class="kt">Prop</span> :=
  adr (state m1) = adr (state m2) /\ ~ sent_comparable m1 m2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_UMO_component_lemmas</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk251">#[export] <span class="kn">Instance</span> <span class="nf">sent_comparable_sym</span> : Symmetric sent_comparable.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric sent_comparable</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk252"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric sent_comparable</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> x y []; <span class="nb">constructor</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk253">#[export] <span class="kn">Instance</span> <span class="nf">sent_comparable_dec</span> : RelDecision sent_comparable.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision sent_comparable</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk254"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision sent_comparable</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk255"><span class="nb">intros</span> m1 m2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (sent_comparable m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk256" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk256"><span class="nb">destruct</span> (decide (adr (state m1) = adr (state m2)));
    [| <span class="bp">by</span> <span class="nb">right</span>; <span class="nb">destruct</span> <span class="mi">1</span>; <span class="nb">apply</span> n; <span class="nb">firstorder</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (sent_comparable m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk257" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk257"><span class="nb">destruct</span> (decide (obs (state m1) = obs (state m2)));
    [<span class="bp">by</span> <span class="nb">left</span>; <span class="nb">replace</span> m2 <span class="kr">with</span> m1 <span class="bp">by</span> (<span class="nb">apply</span> eq_Message; <span class="bp">done</span>); <span class="nb">constructor</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>obs (state m1) ‚â† obs (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (sent_comparable m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk258"><span class="nb">destruct</span> (decide (m1 ‚àà sentMessages (state m2)));
    [<span class="bp">by</span> <span class="nb">left</span>; <span class="nb">constructor</span>; <span class="nb">constructor</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>obs (state m1) ‚â† obs (state m2)</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>m1 ‚àâ sentMessages (state m2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (sent_comparable m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk259"><span class="nb">destruct</span> (decide (m2 ‚àà sentMessages (state m1)));
    [<span class="bp">by</span> <span class="nb">left</span>; <span class="nb">constructor</span>; <span class="nb">constructor</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>m1, m2</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>adr (state m1) = adr (state m2)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>obs (state m1) ‚â† obs (state m2)</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>m1 ‚àâ sentMessages (state m2)</span></span></span><br><span><var>n1</var><span class="hyp-type"><b>: </b><span>m2 ‚àâ sentMessages (state m1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (sent_comparable m1 m2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">destruct</span> <span class="mi">1</span>; <span class="nb">firstorder</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25a">#[export] <span class="kn">Instance</span> <span class="nf">incomparable_sym</span> : Symmetric incomparable.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric incomparable</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Symmetric incomparable</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> x y []; <span class="nb">constructor</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_UMOProtocol</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">index</span> : <span class="kt">Type</span>)
  `{finite.Finite index}
  (idx : index -&gt; Address)
  `{!Inj (=) (=) idx}
  (U : index -&gt; VLSM Message := <span class="kr">fun</span> <span class="nv">i</span> =&gt; UMO_component (idx i))
  .</span></span></pre><div class="doc">
<a id="lab6"></a><h2 class="section">Protocol</h2>
<div class="paragraph"> </div>

  The UMO protocol is a free composition of finitely many UMO components.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO</span> : VLSM Message := free_composite_vlsm U.</span></span></pre><div class="doc">
We set up aliases for some functions operating on free VLSM composition. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_state</span> : <span class="kt">Type</span> := composite_state U.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_label</span> : <span class="kt">Type</span> := composite_label U.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_transition_item</span> : <span class="kt">Type</span> := composite_transition_item U.</span></span></pre><div class="doc">
We can lift labels, states and traces from an UMO component to the UMO protocol. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_to_UMO_label</span>
  (<span class="nv">i</span> : index) (<span class="nv">li</span> : VLSM.label (U i)) : UMO_label :=
    lift_to_composite_label U i li.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_to_UMO_state</span>
  (<span class="nv">us</span> : UMO_state) (<span class="nv">i</span> : index) (<span class="nv">si</span> : VLSM.state (U i)) : UMO_state :=
    lift_to_composite_state U us i si.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_to_UMO_trace</span>
  (<span class="nv">us</span> : UMO_state) (<span class="nv">i</span> : index) (<span class="nv">tr</span> : list (transition_item (U i)))
  : list UMO_transition_item :=
    pre_VLSM_embedding_finite_trace_project
      _ _ (lift_to_UMO_label i) (lift_to_UMO_state us i) tr.</span></span></pre><div class="doc">
  We can also lift properties from UMO components to the UMO protocol, among
  them <span class="inlinecode"><span class="id" title="var">valid_state_prop</span></span>, <span class="inlinecode"><span class="id" title="var">valid_message_prop</span></span>, <span class="inlinecode"><span class="id" title="var">input_valid_transition</span></span>
  and the various kinds of traces.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25c"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO</span> :
  <span class="kr">forall</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">Hus</span> : valid_state_prop UMO us) (<span class="nv">i</span> : index),
    VLSM_weak_embedding (U i) UMO (lift_to_UMO_label i) (lift_to_UMO_state us i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  valid_state_prop UMO us
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
      VLSM_weak_embedding (U i) UMO
        (lift_to_UMO_label i) (lift_to_UMO_state us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  valid_state_prop UMO us
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
      VLSM_weak_embedding (U i) UMO
        (lift_to_UMO_label i) (lift_to_UMO_state us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">apply</span> lift_to_free_weak_embedding.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25e"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO_valid_state_prop</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
    valid_state_prop UMO us -&gt; valid_state_prop (U i) s -&gt;
      valid_state_prop UMO (lift_to_UMO_state us i s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
  valid_state_prop UMO us
  ‚Üí valid_state_prop (U i) s
    ‚Üí valid_state_prop UMO (lift_to_UMO_state us i s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk25f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
  valid_state_prop UMO us
  ‚Üí valid_state_prop (U i) s
    ‚Üí valid_state_prop UMO (lift_to_UMO_state us i s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk260" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk260"><span class="nb">intros</span> <span class="kr">is</span> s us Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (U <span class="kr">is</span>) s
‚Üí valid_state_prop UMO (lift_to_UMO_state us <span class="kr">is</span> s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> VLSM_weak_embedding_valid_state, lift_to_UMO.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk261" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk261"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO_valid_message_prop</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">om</span> : option Message),
    option_valid_message_prop (U i) om -&gt;
      option_valid_message_prop UMO om.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">om</span> : option Message),
  option_valid_message_prop (U i) om
  ‚Üí option_valid_message_prop UMO om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk262" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk262"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">om</span> : option Message),
  option_valid_message_prop (U i) om
  ‚Üí option_valid_message_prop UMO om</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk263"><span class="nb">intros</span> i [] Hovmp; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop UMO None</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk264" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk264"><hr></label><div class="goal-conclusion">option_valid_message_prop UMO (Some m)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk265">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop UMO None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk266"><span class="kr">exists</span> (<span class="nv">fun</span> <span class="nv">i</span> =&gt; MkState [] (idx i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_message_prop UMO
  (<span class="kr">Œª</span> <span class="nv">i</span> : index, MkState [] (idx i)) None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>; <span class="nb">compute</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk267">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop UMO (Some m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk268"><span class="nb">eapply</span> VLSM_weak_embedding_valid_message.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_embedding <span class="nl">?X</span> UMO <span class="nl">?label_project</span>
  <span class="nl">?state_project</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk269" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk269"><hr></label><div class="goal-conclusion">strong_embedding_initial_message_preservation <span class="nl">?X</span> UMO</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk26a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk26a"><hr></label><div class="goal-conclusion">valid_message_prop <span class="nl">?X</span> m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk26b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_embedding <span class="nl">?X</span> UMO <span class="nl">?label_project</span>
  <span class="nl">?state_project</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (lift_to_UMO (<span class="kr">fun</span> <span class="nv">i</span> =&gt; MkState [] (idx i))); <span class="kr">exists</span> <span class="nv">None</span>; <span class="nb">constructor</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk26c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk26c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_embedding_initial_message_preservation (U <span class="nl">?i</span>)
  UMO</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk26d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>Hovmp</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop (U i) (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop (U <span class="nl">?i</span>) m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hovmp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk26e"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO_input_valid_transition</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span> <span class="nv">oom</span> : option Message) (<span class="nv">us</span> : UMO_state),
    valid_state_prop UMO us -&gt;
    input_valid_transition (U i) lbl (s1, iom) (s2, oom) -&gt;
      input_valid_transition UMO
        (lift_to_UMO_label i lbl)
        (lift_to_UMO_state us i s1, iom)
        (lift_to_UMO_state us i s2, oom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span>
                                             <span class="nv">oom</span> : 
                                             option
                                               Message) 
  (<span class="nv">us</span> : UMO_state),
  valid_state_prop UMO us
  ‚Üí input_valid_transition (U i) lbl (s1, iom)
      (s2, oom)
    ‚Üí input_valid_transition UMO
        (lift_to_UMO_label i lbl)
        (lift_to_UMO_state us i s1, iom)
        (lift_to_UMO_state us i s2, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk26f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">lbl</span> : Label) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">iom</span>
                                             <span class="nv">oom</span> : 
                                             option
                                               Message) 
  (<span class="nv">us</span> : UMO_state),
  valid_state_prop UMO us
  ‚Üí input_valid_transition (U i) lbl (s1, iom)
      (s2, oom)
    ‚Üí input_valid_transition UMO
        (lift_to_UMO_label i lbl)
        (lift_to_UMO_state us i s1, iom)
        (lift_to_UMO_state us i s2, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk270"><span class="nb">intros</span> i lbl s1 s2 iom oom us Hivt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lbl</var><span class="hyp-type"><b>: </b><span>Label</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option Message</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hivt</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (U i) lbl (s1, iom) (s2, oom)
‚Üí input_valid_transition UMO (lift_to_UMO_label i lbl)
    (lift_to_UMO_state us i s1, iom)
    (lift_to_UMO_state us i s2, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> @VLSM_weak_embedding_input_valid_transition, lift_to_UMO.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk271"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO_finite_valid_trace_from_to</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list (transition_item (U i))) (<span class="nv">us</span> : UMO_state),
    valid_state_prop UMO us -&gt;
    finite_valid_trace_from_to (U i) s1 s2 tr -&gt;
      finite_valid_trace_from_to
        UMO (lift_to_UMO_state us i s1) (lift_to_UMO_state us i s2) (lift_to_UMO_trace us i tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list
                                      transition_item) 
  (<span class="nv">us</span> : UMO_state),
  valid_state_prop UMO us
  ‚Üí finite_valid_trace_from_to (U i) s1 s2 tr
    ‚Üí finite_valid_trace_from_to UMO
        (lift_to_UMO_state us i s1)
        (lift_to_UMO_state us i s2)
        (lift_to_UMO_trace us i tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk272" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk272"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list
                                      transition_item) 
  (<span class="nv">us</span> : UMO_state),
  valid_state_prop UMO us
  ‚Üí finite_valid_trace_from_to (U i) s1 s2 tr
    ‚Üí finite_valid_trace_from_to UMO
        (lift_to_UMO_state us i s1)
        (lift_to_UMO_state us i s2)
        (lift_to_UMO_trace us i tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk273"><span class="nb">intros</span> i s1 s2 tr us Hvsp Hfvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to (U i) s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to UMO
  (lift_to_UMO_state us i s1)
  (lift_to_UMO_state us i s2)
  (lift_to_UMO_trace us i tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> (VLSM_weak_embedding_finite_valid_trace_from_to (lift_to_UMO _ Hvsp i)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk274"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO_finite_constrained_trace_from_to</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list (transition_item (U i))) (<span class="nv">us</span> : UMO_state),
    constrained_state_prop UMO us -&gt;
    finite_constrained_trace_from_to (U i) s1 s2 tr -&gt;
      finite_constrained_trace_from_to UMO
        (lift_to_UMO_state us i s1) (lift_to_UMO_state us i s2) (lift_to_UMO_trace us i tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list
                                      transition_item) 
  (<span class="nv">us</span> : UMO_state),
  constrained_state_prop UMO us
  ‚Üí finite_constrained_trace_from_to (U i) s1 s2 tr
    ‚Üí finite_constrained_trace_from_to UMO
        (lift_to_UMO_state us i s1)
        (lift_to_UMO_state us i s2)
        (lift_to_UMO_trace us i tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk275" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk275"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s1</span> <span class="nv">s2</span> : State) (<span class="nv">tr</span> : list
                                      transition_item) 
  (<span class="nv">us</span> : UMO_state),
  constrained_state_prop UMO us
  ‚Üí finite_constrained_trace_from_to (U i) s1 s2 tr
    ‚Üí finite_constrained_trace_from_to UMO
        (lift_to_UMO_state us i s1)
        (lift_to_UMO_state us i s2)
        (lift_to_UMO_trace us i tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk276"><span class="nb">intros</span> i s1 s2 tr us Hvsp Hfvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to (U i) s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to UMO
  (lift_to_UMO_state us i s1)
  (lift_to_UMO_state us i s2)
  (lift_to_UMO_trace us i tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk277"><span class="nb">unshelve</span> <span class="nb">eapply</span> (@VLSM_weak_embedding_finite_valid_trace_from_to _
    (preloaded_with_all_messages_vlsm (U i))
    (preloaded_with_all_messages_vlsm UMO) _ _); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to (U i) s1 s2 tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_weak_embedding
  (preloaded_with_all_messages_vlsm (U i))
  (preloaded_with_all_messages_vlsm UMO)
  (lift_to_UMO_label i) (lift_to_UMO_state us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> lift_to_preloaded_free_weak_embedding.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk278" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk278"><span class="kn">Lemma</span> <span class="nf">lift_to_UMO_constrained_state_prop</span> :
  <span class="kr">forall</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
    constrained_state_prop UMO us -&gt;
    constrained_state_prop (U i) s -&gt;
    constrained_state_prop UMO (lift_to_UMO_state us i s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
  constrained_state_prop UMO us
  ‚Üí constrained_state_prop (U i) s
    ‚Üí constrained_state_prop UMO
        (lift_to_UMO_state us i s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk279"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
  constrained_state_prop UMO us
  ‚Üí constrained_state_prop (U i) s
    ‚Üí constrained_state_prop UMO
        (lift_to_UMO_state us i s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk27a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk27a"><span class="nb">unfold</span> constrained_state_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : index) (<span class="nv">s</span> : State) (<span class="nv">us</span> : UMO_state),
  valid_state_prop
    (preloaded_with_all_messages_vlsm UMO) us
  ‚Üí valid_state_prop
      (preloaded_with_all_messages_vlsm (U i)) s
    ‚Üí valid_state_prop
        (preloaded_with_all_messages_vlsm UMO)
        (lift_to_UMO_state us i s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk27b"><span class="nb">intros</span> <span class="kr">is</span> s us Hcsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>State</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hcsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm UMO) us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm (U <span class="kr">is</span>)) s
‚Üí valid_state_prop
    (preloaded_with_all_messages_vlsm UMO)
    (lift_to_UMO_state us <span class="kr">is</span> s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> VLSM_weak_embedding_valid_state, lift_to_preloaded_free_weak_embedding.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Every state in a UMO component gives rise to a unique trace leading to this
  state, which we can then lift to the UMO protocol.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_component_state2trace</span>
  (<span class="nv">s</span> : UMO_state) (<span class="nv">i</span> : index) : list UMO_transition_item :=
    lift_to_UMO_trace s i (state2trace (s i)).</span></span></pre><div class="doc">
  Iterating <span class="inlinecode"><span class="id" title="var">UMO_component_state2trace</span></span> shows that every reachable UMO state
  contains a trace that leads to this state. However, this trace is not unique,
  because we can concatenate the lifted traces in any order.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">UMO_state2trace_aux</span>
  (<span class="nv">us</span> : UMO_state) (<span class="nv">is</span> : list index) : list UMO_transition_item :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | [] =&gt; []
  | i :: is&#39; =&gt;
    UMO_state2trace_aux (state_update _ us i (MkState [] (idx i))) is&#39; ++
    UMO_component_state2trace us i
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_state2trace</span>
  (<span class="nv">us</span> : UMO_state) : list UMO_transition_item :=
    UMO_state2trace_aux us (enum index).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk27c"><span class="kn">Lemma</span> <span class="nf">finite_constrained_trace_init_to_UMO_state2trace</span> :
  <span class="kr">forall</span> <span class="nv">us</span> : UMO_state,
    constrained_state_prop UMO us -&gt;
      finite_constrained_trace_init_to UMO (``(vs0 UMO)) us (UMO_state2trace us).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  constrained_state_prop UMO us
  ‚Üí finite_constrained_trace_init_to UMO (`(vs0 UMO))
      us (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk27d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  constrained_state_prop UMO us
  ‚Üí finite_constrained_trace_init_to UMO (`(vs0 UMO))
      us (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk27e"><span class="nb">intros</span> us Hvsp; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO) (`(vs0 UMO))
  us (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk27f"><span class="nb">unfold</span> UMO_state2trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO) (`(vs0 UMO))
  us (UMO_state2trace_aux us (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk280"><span class="nb">assert</span> (Hall : <span class="kr">forall</span> <span class="nv">i</span>, i ‚àâ enum index -&gt; us i = MkState [] (idx i))
      <span class="bp">by</span> (<span class="nb">intros</span> i Hin; <span class="bp">contradict</span> Hin; <span class="nb">apply</span> elem_of_enum).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ enum index ‚Üí us i = MkState [] (idx i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO) (`(vs0 UMO))
  us (UMO_state2trace_aux us (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk281" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk281"><span class="nb">revert</span> us Hall Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ enum index ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk282"><span class="nb">generalize</span> (enum index) <span class="kr">as</span> <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> : list index) (<span class="nv">us</span> : UMO_state),
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ <span class="kr">is</span> ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us (UMO_state2trace_aux us <span class="kr">is</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk283"><span class="nb">induction</span> <span class="kr">is</span> <span class="kr">as</span> [| i is&#39;]; <span class="nb">cbn</span>; <span class="nb">intros</span> us Hall Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) us []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk284" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk284"><hr></label><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) us
  (UMO_state2trace_aux
     (state_update U us i (MkState [] (idx i))) is&#39; ++
   UMO_component_state2trace us i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk285">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) us []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk286" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk286"><span class="nb">replace</span> us <span class="kr">with</span> (<span class="kr">fun</span> <span class="nv">n</span> : index =&gt; MkState [] (idx n)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n))
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk287" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk287"><hr></label><div class="goal-conclusion">(<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) = us</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk288">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n))
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">constructor</span>; <span class="nb">apply</span> initial_state_is_valid; <span class="nb">compute</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk289">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) = us</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk28a">extensionality i; <span class="nb">rewrite</span> Hall; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, i ‚àâ [] ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àâ []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> not_elem_of_nil.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk28b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk28b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) us
  (UMO_state2trace_aux
     (state_update U us i (MkState [] (idx i))) is&#39; ++
   UMO_component_state2trace us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk28c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk28c"><span class="nb">eapply</span> finite_valid_trace_from_to_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) <span class="nl">?m</span>
  (UMO_state2trace_aux
     (state_update U us i (MkState [] (idx i))) is&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk28d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk28d"><hr></label><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO) 
  <span class="nl">?m</span> us (UMO_component_state2trace us i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk28e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, MkState [] (idx n)) <span class="nl">?m</span>
  (UMO_state2trace_aux
     (state_update U us i (MkState [] (idx i))) is&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk28f"><span class="nb">apply</span> IHis&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ is&#39;
  ‚Üí state_update U us i (MkState [] (idx i)) i0 =
    MkState [] (idx i0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk290" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk290"><hr></label><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i (MkState [] (idx i)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk291">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ is&#39;
  ‚Üí state_update U us i (MkState [] (idx i)) i0 =
    MkState [] (idx i0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk292" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk292"><span class="nb">intros</span> j Hj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update U us i (MkState [] (idx i)) j =
MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk293" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk293"><span class="nb">destruct</span> (decide (i = j)); <span class="nb">subst</span>; state_update_simpl; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">us j = MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk294"><span class="nb">apply</span> Hall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">j ‚àâ i :: is&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk295"><span class="nb">rewrite</span> elem_of_cons.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ (j = i ‚à® j ‚àà is&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk296">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i (MkState [] (idx i)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> pre_composite_free_update_state_with_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk297">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (state_update U us i (MkState [] (idx i))) us
  (UMO_component_state2trace us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk298"><span class="nb">replace</span> us <span class="kr">with</span> (state_update U us i (us i)) <span class="nb">at</span> <span class="mi">2</span> <span class="bp">by</span> (state_update_simpl; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm UMO)
  (state_update U us i (MkState [] (idx i)))
  (state_update U us i (us i))
  (UMO_component_state2trace us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk299"><span class="nb">apply</span> lift_to_UMO_finite_constrained_trace_from_to; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to (U i)
  (MkState [] (idx i)) (us i) (state2trace (us i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk29a" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk29a"><span class="nb">apply</span> (composite_constrained_state_project _ us i) <span class="kr">in</span> Hvsp <span class="kr">as</span> Hvsp&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span>constrained_state_prop (U i) (us i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to (U i)
  (MkState [] (idx i)) (us i) (state2trace (us i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk29b"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hvsp&#39; <span class="kr">as</span> (s &amp; tr &amp; [Hfvt Hinit]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm (U i))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm (U i)) s
  (us i) tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to (U i)
  (MkState [] (idx i)) (us i) (state2trace (us i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk29c"><span class="nb">replace</span> s <span class="kr">with</span> (MkState [] (idx i)) <span class="kr">in</span> *; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm (U i))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm (U i)) s
  (us i) tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkState [] (idx i) = s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk29d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm (U i))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm (U i))
  (MkState [] (idx i)) 
  (us i) tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (idx i))</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk29d"><hr></label><div class="goal-conclusion">finite_constrained_trace_from_to 
  (U i) (MkState [] (idx i)) 
  (us i) (state2trace (us i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk29e" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk29e">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm (U i))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm (U i)) s
  (us i) tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">MkState [] (idx i) = s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> Hinit; <span class="nb">destruct</span> s; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk29f">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  (<span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
     i ‚àâ is&#39; ‚Üí us i = MkState [] (idx i))
  ‚Üí constrained_state_prop UMO us
    ‚Üí finite_valid_trace_from_to
        (preloaded_with_all_messages_vlsm UMO)
        (`(vs0 UMO)) us
        (UMO_state2trace_aux us is&#39;)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
  i0 ‚àâ i :: is&#39; ‚Üí us i0 = MkState [] (idx i0)</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>VLSM.state
  (preloaded_with_all_messages_vlsm (U i))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hfvt</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm (U i))
  (MkState [] (idx i)) 
  (us i) tr</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop (MkState [] (idx i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to (U i)
  (MkState [] (idx i)) (us i) (state2trace (us i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_constrained_trace_init_to_state2trace.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  It turns out that <span class="inlinecode"><span class="id" title="var">finite_constrained_trace_init_to_UMO_state2trace</span></span>
  also holds for valid states.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a0"><span class="kn">Lemma</span> <span class="nf">finite_valid_trace_from_to_UMO_state2trace</span> :
  <span class="kr">forall</span> <span class="nv">us</span> : UMO_state,
    valid_state_prop UMO us -&gt;
      finite_valid_trace_init_to UMO (``(vs0 UMO)) us (UMO_state2trace us).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  valid_state_prop UMO us
  ‚Üí finite_valid_trace_init_to UMO (`(vs0 UMO)) us
      (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">us</span> : UMO_state,
  valid_state_prop UMO us
  ‚Üí finite_valid_trace_init_to UMO (`(vs0 UMO)) us
      (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a2"><span class="nb">intros</span> us Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to UMO (`(vs0 UMO)) us
  (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a3"><span class="nb">apply</span> all_pre_traces_to_valid_state_are_valid_free; [<span class="nb">typeclasses eauto</span> | <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to
  (free_composite_vlsm U) (`(vs0 UMO)) us
  (UMO_state2trace us)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a4"><span class="nb">apply</span> finite_constrained_trace_init_to_UMO_state2trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop UMO us</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a5"><span class="nb">eapply</span> (@VLSM_incl_valid_state _ UMO UMO); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>valid_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part UMO
  (preloaded_vlsm_machine UMO (<span class="kr">Œª</span> <span class="nv">_</span> : Message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">UMO_obs_aux</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">is</span> : list index) : list Observation :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | [] =&gt; []
  | i :: is&#39; =&gt; UMO_obs_aux (state_update _ us i (MkState [] (idx i))) is&#39; ++ obs (us i)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_obs</span> (<span class="nv">us</span> : UMO_state) : list Observation :=
  UMO_obs_aux us (enum index).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">UMO_sentMessages_aux</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">is</span> : list index) : <span class="nb">set</span> Message :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | [] =&gt; []
  | i :: is&#39; =&gt;
    UMO_sentMessages_aux (state_update _ us i (MkState [] (idx i))) is&#39; ++ sentMessages (us i)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_sentMessages</span> (<span class="nv">us</span> : UMO_state) : <span class="nb">set</span> Message :=
  UMO_sentMessages_aux us (enum index).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">UMO_receivedMessages_aux</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">is</span> : list index) : <span class="nb">set</span> Message :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | [] =&gt; []
  | i :: is&#39; =&gt;
    UMO_receivedMessages_aux (state_update _ us i (MkState [] (idx i))) is&#39; ++ receivedMessages (us i)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_receivedMessages</span> (<span class="nv">us</span> : UMO_state) : <span class="nb">set</span> Message :=
  UMO_receivedMessages_aux us (enum index).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Fixpoint</span> <span class="nf">UMO_messages_aux</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">is</span> : list index) : <span class="nb">set</span> Message :=
  <span class="kr">match</span> <span class="kr">is</span> <span class="kr">with</span>
  | [] =&gt; []
  | i :: is&#39; =&gt;
    UMO_messages_aux (state_update _ us i (MkState [] (idx i))) is&#39; ++ messages (us i)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">UMO_messages</span> (<span class="nv">us</span> : UMO_state) : <span class="nb">set</span> Message :=
  UMO_messages_aux us (enum index).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a6"><span class="kn">Lemma</span> <span class="nf">constrained_state_prop_state_update_init</span> :
  <span class="kr">forall</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">i</span> : index),
    constrained_state_prop UMO us -&gt;
      constrained_state_prop UMO (state_update U us i (MkState [] (idx i))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí constrained_state_prop UMO
      (state_update U us i (MkState [] (idx i)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí constrained_state_prop UMO
      (state_update U us i (MkState [] (idx i)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a8"><span class="nb">intros</span> us i Hvsp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i (MkState [] (idx i)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> pre_composite_free_update_state_with_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2a9"><span class="kn">Lemma</span> <span class="nf">elem_of_UMO_sentMessages</span> :
  <span class="kr">forall</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
    constrained_state_prop UMO us -&gt; idx i = adr (state m) -&gt;
      m ‚àà UMO_sentMessages us &lt;-&gt; m ‚àà sentMessages (us i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí m ‚àà UMO_sentMessages us
      ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2aa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí m ‚àà UMO_sentMessages us
      ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2ab"><span class="nb">intros</span> us m i Hvsp Hidx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà UMO_sentMessages us ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2ac" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2ac"><span class="nb">assert</span> (Hall : <span class="kr">forall</span> <span class="nv">i</span>, i ‚àâ enum index -&gt; us i = MkState [] (idx i))
    <span class="bp">by</span> (<span class="nb">intros</span> j Hin; <span class="bp">contradict</span> Hin; <span class="nb">apply</span> elem_of_enum).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ enum index ‚Üí us i = MkState [] (idx i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà UMO_sentMessages us ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2ad" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2ad"><span class="nb">revert</span> us m i Hvsp Hidx Hall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ enum index ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages us
        ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2ae" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2ae"><span class="nb">unfold</span> UMO_sentMessages; <span class="nb">generalize</span> (enum index) <span class="kr">as</span> <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> : list index) (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ <span class="kr">is</span> ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us <span class="kr">is</span>
        ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2af"><span class="nb">induction</span> <span class="kr">is</span> <span class="kr">as</span> [| i&#39; is&#39;]; <span class="nb">intros</span>; [<span class="bp">by</span> <span class="nb">rewrite</span> Hall; [| <span class="nb">apply</span> not_elem_of_nil] |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà UMO_sentMessages_aux us (i&#39; :: is&#39;)
‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b0"><span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">unfold</span> State, Observation, Message <span class="kr">in</span> *; <span class="nb">rewrite</span> elem_of_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
‚à® m ‚àà sentMessages (us i&#39;) ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b1"><span class="nb">assert</span> (Hvsp&#39; :
    <span class="kr">forall</span> <span class="nv">j</span>, constrained_state_prop (UMO_component (idx j)) (us j))
    <span class="bp">by</span> (<span class="nb">intro</span> j; <span class="nb">apply</span> (preloaded_valid_state_projection _ _ _ Hvsp); <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
‚à® m ‚àà sentMessages (us i&#39;) ‚Üî m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b2"><span class="nb">split</span>; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)
‚Üí m
  ‚àà UMO_sentMessages_aux
      (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
  ‚à® m ‚àà sentMessages (us i&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2b3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2b3"><hr></label><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
‚à® m ‚àà sentMessages (us i&#39;) ‚Üí 
m ‚àà sentMessages (us i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)
‚Üí m
  ‚àà UMO_sentMessages_aux
      (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
  ‚à® m ‚àà sentMessages (us i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b5"><span class="nb">intros</span> Hin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
‚à® m ‚àà sentMessages (us i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b6"><span class="nb">destruct</span> (decide (i = i&#39;)); <span class="nb">subst</span>; [<span class="bp">by</span> <span class="nb">right</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
‚à® m ‚àà sentMessages (us i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b7"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b8"><span class="nb">unfold</span> Message, State, Observation <span class="kr">in</span> *; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2b9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2b9"><span class="nb">rewrite</span> (IHis&#39; (state_update U us i&#39; (MkState [] (idx i&#39;))) m i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà sentMessages
    (state_update U us i&#39; (MkState [] (idx i&#39;)) i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2ba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2ba"><hr></label><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i&#39; (MkState [] (idx i&#39;)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2bb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2bb"><hr></label><div class="goal-conclusion">idx i = adr (state m)</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2bc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2bc"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ is&#39;
  ‚Üí state_update U us i&#39; (MkState [] (idx i&#39;)) i =
    MkState [] (idx i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2bd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2bd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà sentMessages
    (state_update U us i&#39; (MkState [] (idx i&#39;)) i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2be" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2be">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i&#39; (MkState [] (idx i&#39;)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> constrained_state_prop_state_update_init.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2bf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2bf">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">idx i = adr (state m)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c0"><span class="nb">erewrite</span> adr_of_sentMessages, adr_of_constrained_state; [<span class="bp">done</span> | .. | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (UMO_component (adr (state m)))
  (us i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2c1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2c1"><hr></label><div class="goal-conclusion">UMO_reachable <span class="nl">?P</span> (us i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c2" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop (UMO_component (adr (state m)))
  (us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- Hidx; <span class="nb">apply</span> Hvsp&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c3" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c3">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable <span class="nl">?P</span> (us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_constrained_state_prop, Hvsp&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ is&#39;
  ‚Üí state_update U us i&#39; (MkState [] (idx i&#39;)) i =
    MkState [] (idx i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c5"><span class="nb">intros</span> j Hnin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update U us i&#39; (MkState [] (idx i&#39;)) j =
MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c6"><span class="nb">destruct</span> (decide (i&#39; = j)); <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ j :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update U us j (MkState [] (idx j)) j =
MkState [] (idx j)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â† j</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2c7"><hr></label><div class="goal-conclusion">state_update U us i&#39; (MkState [] (idx i&#39;)) j =
MkState [] (idx j)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c8">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ j :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update U us j (MkState [] (idx j)) j =
MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2c9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2c9">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† i&#39;</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update U us i&#39; (MkState [] (idx i&#39;)) j =
MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl; <span class="nb">apply</span> Hall; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2ca" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2ca">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;))) is&#39;
‚à® m ‚àà sentMessages (us i&#39;) ‚Üí m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2cb" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2cb"><span class="nb">intros</span> [Hin | Hin]; <span class="nb">cycle</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2cc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2cc"><hr></label><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2cd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2cd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2ce" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2ce"><span class="nb">eapply</span> adr_of_sentMessages <span class="kr">in</span> Hin <span class="kr">as</span> Hin&#39;;
        [| <span class="bp">by</span> <span class="nb">eapply</span> UMO_reachable_constrained_state_prop, Hvsp&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i&#39;)</span></span></span><br><span><var>Hin'</var><span class="hyp-type"><b>: </b><span>adr (state m) = adr (us i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2cf" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2cf"><span class="nb">erewrite</span> Hin&#39;, adr_of_constrained_state <span class="kr">in</span> Hidx <span class="bp">by</span> <span class="nb">apply</span> Hvsp&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m ‚àà sentMessages (us i&#39;)</span></span></span><br><span><var>Hin'</var><span class="hyp-type"><b>: </b><span>adr (state m) = adr (us i&#39;)</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = idx i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Inj0 <span class="kr">in</span> Hidx; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d0" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d1" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d1"><span class="nb">rewrite</span> (IHis&#39; _ _ i) <span class="kr">in</span> Hin; [| | <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà sentMessages
    (state_update U us i&#39; 
       (MkState [] (idx i&#39;)) i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2d2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2d2"><hr></label><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i&#39; (MkState [] (idx i&#39;)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="UMO-v-chk2d3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br></div><label class="goal-separator" for="UMO-v-chk2d3"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ is&#39;
  ‚Üí state_update U us i&#39; (MkState [] (idx i&#39;)) i =
    MkState [] (idx i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d4" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d4">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà sentMessages
    (state_update U us i&#39; 
       (MkState [] (idx i&#39;)) i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (decide (i = i&#39;)); <span class="nb">subst</span>; state_update_simpl; [<span class="nb">inversion</span> Hin |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d5" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d5">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop UMO
  (state_update U us i&#39; (MkState [] (idx i&#39;)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> constrained_state_prop_state_update_init.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d6" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d6">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ is&#39;
  ‚Üí state_update U us i&#39; (MkState [] (idx i&#39;)) i =
    MkState [] (idx i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d7" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d7"><span class="nb">intros</span> j Hnin.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update U us i&#39; (MkState [] (idx i&#39;)) j =
MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d8" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d8"><span class="nb">destruct</span> (decide (i&#39; = j)); <span class="nb">subst</span>; state_update_simpl; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM BaseELMO.Message</span></span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>IHis'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : BaseELMO.Message) 
  (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">i0</span> : index,
         i0 ‚àâ is&#39;
         ‚Üí us i0 = MkState [] (idx i0))
      ‚Üí m ‚àà UMO_sentMessages_aux us is&#39;
        ‚Üî m ‚àà sentMessages (us i)</span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>BaseELMO.Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br><span><var>Hall</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  i ‚àâ i&#39; :: is&#39; ‚Üí us i = MkState [] (idx i)</span></span></span><br><span><var>Hvsp'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index,
  constrained_state_prop
    (UMO_component (idx j)) 
    (us j)</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>m
‚àà UMO_sentMessages_aux
    (state_update U us i&#39; (MkState [] (idx i&#39;)))
    is&#39;</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hnin</var><span class="hyp-type"><b>: </b><span>j ‚àâ is&#39;</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">us j = MkState [] (idx j)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hall; <span class="nb">inversion</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2d9" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2d9"><span class="kn">Lemma</span> <span class="nf">UMO_sentMessages_characterization</span> :
  <span class="kr">forall</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
    constrained_state_prop UMO us -&gt; idx i = adr (state m) -&gt;
      m ‚àà UMO_sentMessages us
        &lt;-&gt;
      <span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
        state_suffix s&#39; (us i) \/ s&#39; = us i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí m ‚àà UMO_sentMessages us
      ‚Üî (<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
         state_suffix s&#39; (us i) ‚à® s&#39; = us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2da" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2da"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">us</span> : UMO_state) (<span class="nv">m</span> : Message) (<span class="nv">i</span> : index),
  constrained_state_prop UMO us
  ‚Üí idx i = adr (state m)
    ‚Üí m ‚àà UMO_sentMessages us
      ‚Üî (<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
         state_suffix s&#39; (us i) ‚à® s&#39; = us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2db" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2db"><span class="nb">intros</span> us m i Hvsp Hidx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà UMO_sentMessages us
‚Üî (<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
   state_suffix s&#39; (us i) ‚à® s&#39; = us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2dc" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2dc"><span class="nb">rewrite</span> elem_of_UMO_sentMessages <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m ‚àà sentMessages (us i)
‚Üî (<span class="kr">let</span> <span class="nv">s&#39;</span> := state m &lt;+&gt; MkObservation Send m <span class="kr">in</span>
   state_suffix s&#39; (us i) ‚à® s&#39; = us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="UMO-v-chk2dd" style="display: none" type="checkbox"><label class="alectryon-input" for="UMO-v-chk2dd"><span class="nb">rewrite</span> &lt;- sentMessages_characterization; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Address</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Address</span></span></span><br><span><var>State</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.State</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Observation</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Observation</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>Message</var><span><span class="hyp-body"><b>:= </b><span>BaseELMO.Message</span></span><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span></span><br><span><var>index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>idx</var><span class="hyp-type"><b>: </b><span>index ‚Üí Address</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq idx</span></span></span><br><span><var>U</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">i</span> : index, UMO_component (idx i)</span></span><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM Message</span></span></span></span><br><span><var>us</var><span class="hyp-type"><b>: </b><span>UMO_state</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>Message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hvsp</var><span class="hyp-type"><b>: </b><span>constrained_state_prop UMO us</span></span></span><br><span><var>Hidx</var><span class="hyp-type"><b>: </b><span>idx i = adr (state m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">UMO_reachable <span class="nl">?Goal</span> (us i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> @UMO_reachable_constrained_state_prop <span class="kr">with</span> (idx i),
    (preloaded_valid_state_projection _ _ _ Hvsp).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_UMOProtocol</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_UMO</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Arguments</span> UMO_reachable_ind&#39; [Address]%type_scope (C P Hinit Hextend)%function_scope s Hs.</span></span></pre></article></body></html>