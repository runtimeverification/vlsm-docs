<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Voting.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk0"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Itauto.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite fin_sets fin_maps nmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> Streams FunctionalExtensionality Eqdep_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras FinSetExtras.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM Plans VLSMProjections Composition.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Examples <span class="kn">Require Import</span> Consensus.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Paxos: Specification of Consensus by Voting</h1>
<div class="paragraph"> </div>

  A specification of a consensus algorithm where a set of nodes,
  the <i>acceptors</i>, agree on a value by voting.

<div class="paragraph"> </div>

  The algorithm uses numbered rounds of voting. Each acceptor casts at
  most one vote per round. A value is chosen when a sufficient set of
  acceptors, a <i>quorum</i>, have voted for the same value in the same round.

<div class="paragraph"> </div>

  This specification is closer to something implementable than the
  Consensus module, but still has some restrictions on the allowed
  transitions of an acceptor that can only be checked with access to
  the states of all acceptors. We model this as a composite VLSM with
  a composition constraint.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
Ballot numbers 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Ballot</span> := N.</span></span></pre><div class="doc">
Ballot numbers extended with a minimal element "-1" that comes before others 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Ballot&#39;</span> := option Ballot.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Ballot&#39;_to_Z</span> (<span class="nv">b</span> : Ballot&#39;) : Z := from_option Z.of_N (-<span class="mi">1</span>)%Z b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Ballot_to_Z</span> (<span class="nv">b</span> : Ballot) : Z := Z.of_N b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">Ballot_to_Z</span> : Ballot &gt;-&gt; Z.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Coercion</span> <span class="nf">Ballot&#39;_to_Z</span> : Ballot&#39; &gt;-&gt; Z.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Ltac</span> <span class="nf">ballot_lia</span> := <span class="nb">unfold</span> Ballot_to_Z <span class="kr">in</span> *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1"><span class="kn">Lemma</span> <span class="nf">Ballot_lt_wf</span> : well_founded (<span class="kr">fun</span> (<span class="nv">x</span> <span class="nv">y</span> : Ballot) =&gt; (x &lt; y)%Z).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : Ballot, (x &lt; y)%Z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : Ballot, (x &lt; y)%Z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3"><span class="nb">generalize</span> N.lt_wf_0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kn">wf</span> N.lt ‚Üí <span class="kn">wf</span> (<span class="kr">Œª</span> <span class="nv">x</span> <span class="nv">y</span> : Ballot, (x &lt; y)%Z)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (wf_projected N.lt id), N2Z.inj_lt.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Ballot_peano_ind</span> :
  <span class="kr">forall</span> (<span class="nv">P</span> : Ballot -&gt; <span class="kt">Prop</span>),
    P <span class="mi">0</span>%N -&gt; (<span class="kr">forall</span> (<span class="nv">b</span> : Ballot), P b -&gt; P (N.succ b)) -&gt; <span class="kr">forall</span> <span class="nv">b</span>, P b
  := N.peano_ind.</span></span></pre><div class="doc">
ballot-indexed-map 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">Bmap</span> : <span class="kt">Type</span> -&gt; <span class="kt">Type</span> := @Nmap.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bmap_eq_dec</span> : <span class="kr">‚àÄ</span> {<span class="nv">A</span> : <span class="kt">Type</span>}, EqDecision A -&gt; EqDecision (Bmap A) := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bfmap</span> : FMap Bmap := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Blookup</span> : <span class="kr">‚àÄ</span> {<span class="nv">A</span> : <span class="kt">Type</span>}, Lookup Ballot A (Bmap A) := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bempty</span> : <span class="kr">‚àÄ</span> {<span class="nv">A</span> : <span class="kt">Type</span>}, Empty (Bmap A) := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bpartial_alter</span> : <span class="kr">‚àÄ</span> {<span class="nv">A</span> : <span class="kt">Type</span>}, PartialAlter Ballot A (Bmap A) := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bomap</span> : OMap Bmap := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bmerge</span> : Merge Bmap := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">FinMap_Ballot_Bmap</span> : FinMap Ballot Bmap := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Notation</span> <span class="nf">Bset</span> := (mapset.mapset Bmap).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">Bmap_dom</span> {<span class="nv">A</span> : <span class="kt">Type</span>} : Dom (Bmap A) Bset := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">FinMapDom_Bmap_Bset</span> : fin_map_dom.FinMapDom Ballot Bmap Bset := _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4"><span class="kn">Lemma</span> <span class="nf">Ballot&#39;_Zeq_iff</span> (<span class="nv">b</span> : Ballot&#39;) (<span class="nv">x</span> : Ballot) :
  (b : Z) = (x : Z) &lt;-&gt; b = Some x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b : Z) = (x : Z) ‚Üî b = Some x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(b : Z) = (x : Z) ‚Üî b = Some x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> b; <span class="nb">cbn</span>; [<span class="nb">rewrite</span> (inj_iff Z.of_N) |]; <span class="nb">split</span>; (<span class="bp">congruence</span> || ballot_lia).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_voting_spec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Value</span> : <span class="kt">Type</span>)
  (<span class="nv">VSet</span> : <span class="kt">Type</span>) `{FinSet Value VSet}
  {VSDec : RelDecision (‚àà@{VSet})}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_acceptor_vlsm</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Record</span> <span class="nf">acceptor_state</span> : <span class="kt">Type</span> :=
{
  votes : Bmap VSet;
  maxBal : Ballot&#39;;
}.</span></span></pre><div class="doc">
Defining several predicates over single voting states. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_acceptor_state_predicates</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">AState</span> : acceptor_state)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">voted_for</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value) := v ‚àà votes AState !!! b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">voted_for_dec</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value) : Decision (voted_for b v) :=
  VSDec _ _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">did_not_vote_in</span> (<span class="nv">b</span> : Ballot) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">v</span> : Value, ~ voted_for b v.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_acceptor_state_predicates</span>.</span></span></pre><div class="doc">
  Acceptor labels:
<ul class="doclist">
<li> <span class="inlinecode"><span class="id" title="var">SkipToRound</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> means: commit to not voting in any ballots before <span class="inlinecode"><span class="id" title="var">b</span></span>
</li>
<li> <span class="inlinecode"><span class="id" title="var">Vote</span></span> <span class="inlinecode"><span class="id" title="var">b</span></span> <span class="inlinecode"><span class="id" title="var">v</span></span> means: vote for <span class="inlinecode"><span class="id" title="var">v</span></span> in ballot <span class="inlinecode"><span class="id" title="var">b</span></span>.

</li>
</ul>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">acceptor_label</span> : <span class="kt">Type</span> :=
| SkipToRound (b : Ballot)
| Vote (b : Ballot) (v : Value).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Program Instance</span> <span class="nf">acceptor_label_dec</span> : EqDecision acceptor_label :=
  <span class="kr">fun</span> <span class="nv">x</span> <span class="nv">y</span> =&gt;
    <span class="kr">match</span> x, y <span class="kr">with</span>
    | SkipToRound x_b, SkipToRound y_b =&gt;
        <span class="kr">if</span> decide (x_b = y_b) <span class="kr">then</span> <span class="nb">left</span> _ <span class="kr">else</span> <span class="nb">right</span> _
    | Vote x_b x_v, Vote y_b y_v =&gt;
        <span class="kr">if</span> decide (x_b = y_b) <span class="kr">then</span>
          <span class="kr">if</span> decide (x_v = y_v) <span class="kr">then</span> <span class="nb">left</span> _
          <span class="kr">else</span> <span class="nb">right</span> _
        <span class="kr">else</span> <span class="nb">right</span> _
    | SkipToRound _, Vote _ _ =&gt; <span class="nb">right</span> _
    | Vote _ _, SkipToRound _ =&gt; <span class="nb">right</span> _
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Solve Obligations with</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_type</span> : VLSMType <span class="kt">False</span> :=
{|
  state := acceptor_state;
  label := acceptor_label;
|}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_initial</span> : acceptor_state :=
{|
  votes := ‚àÖ;
  maxBal := None;
|}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_initial_state_prop</span> (<span class="nv">s</span> : acceptor_state) : <span class="kt">Prop</span> :=
  s = acceptor_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_valid</span> : acceptor_label -&gt; acceptor_state * option <span class="kt">False</span> -&gt; <span class="kt">Prop</span> :=
  <span class="kr">fun</span> <span class="nv">l</span> &#39;(s, _) =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound b =&gt; (maxBal s &lt; b)%Z
    | Vote b v =&gt; (maxBal s &lt;= b)%Z /\ did_not_vote_in s b
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_transition</span>
  : acceptor_label -&gt; acceptor_state * option <span class="kt">False</span> -&gt; acceptor_state * option <span class="kt">False</span> :=
  <span class="kr">fun</span> <span class="nv">l</span> &#39;(s, _) =&gt;
    <span class="kr">let</span> <span class="nv">s_votes</span> := votes s <span class="kr">in</span>
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound b =&gt; ({| votes := s_votes; maxBal := Some b; |}, None)
    | Vote b v =&gt; ({| votes := mmap_insert b v s_votes; maxBal := Some b; |}, None)
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_machine</span> : VLSMMachine acceptor_type :=
{|
  initial_state_prop := (.= acceptor_initial);
  s0 := populate (exist _ acceptor_initial eq_refl);
  initial_message_prop := (<span class="kr">fun</span> <span class="nv">_</span> =&gt; <span class="kt">False</span>);
  transition := acceptor_transition;
  valid := acceptor_valid;
|}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_vlsm</span> : VLSM <span class="kt">False</span> := mk_vlsm acceptor_machine.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_acceptor_vlsm</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Little predicates *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">voted_none_but</span> (<span class="nv">sa</span> : acceptor_state) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value) :=
  <span class="kr">forall</span> <span class="nv">w</span> : Value, voted_for sa b w -&gt; w = v.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">vote_committed</span> (<span class="nv">sa</span> : acceptor_state) (<span class="nv">b</span> : Ballot) := (maxBal sa &gt; b)%Z.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Acceptor</span> : <span class="kt">Type</span>) `{finite.Finite Acceptor}
  (ASet : <span class="kt">Type</span>) `{FinSet Acceptor ASet}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_voting_vlsm</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Quorum</span> : ASet -&gt; <span class="kt">Prop</span>)
  (<span class="nv">IM</span> := <span class="kr">fun</span> (<span class="nv">_</span> : Acceptor) =&gt; acceptor_vlsm)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Notation</span> <span class="nf">composition_constraint</span> :=
  (composite_label IM -&gt; composite_state IM * option <span class="kt">False</span> -&gt; <span class="kt">Prop</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">allQuorum</span> (<span class="nv">Q</span> : sig Quorum) (<span class="nv">P</span> : Acceptor -&gt; <span class="kt">Prop</span>) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q -&gt; P a.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">consensus_blocking_quorum</span>
  (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value) (<span class="nv">Q</span> : sig Quorum) : <span class="kt">Prop</span> :=
    allQuorum Q (<span class="kr">fun</span> <span class="nv">a</span> : Acceptor =&gt; vote_committed (s a) b)
    /\ allQuorum Q (<span class="kr">fun</span> <span class="nv">a</span> : Acceptor =&gt; voted_none_but (s a) b v).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">SafeAt</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">d</span> : Ballot), (d &lt; b)%Z -&gt; <span class="kr">exists</span> <span class="nv">Q</span> : sig Quorum, consensus_blocking_quorum s d v Q.</span></span></pre><div class="doc">
SafeAt as defined in the paper 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">SafeAt_alt</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) : Ballot -&gt; <span class="kt">Prop</span> :=
| SafeStart : SafeAt_alt s v <span class="mi">0</span>%N
| SafeQuorum : <span class="kr">forall</span> (<span class="nv">b</span> : Ballot) (<span class="nv">Q</span> : sig Quorum) (<span class="nv">c&#39;</span> : Ballot&#39;),
    (c&#39; &lt; b)%Z -&gt;
    allQuorum Q (<span class="kr">fun</span> <span class="nv">a</span> : Acceptor =&gt; (maxBal (s a) &gt;= b)%Z) -&gt;
    (<span class="kr">forall</span> (<span class="nv">d</span> : Ballot), (c&#39; &lt; d)%Z -&gt; (d &lt; b)%Z -&gt;
      allQuorum Q (<span class="kr">fun</span> <span class="nv">a</span> =&gt; did_not_vote_in (s a) d)) -&gt;
    (c&#39; &lt;&gt; None -&gt;
     SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
       /\ allQuorum Q (<span class="kr">fun</span> <span class="nv">a</span> : Acceptor =&gt; voted_none_but (s a) (default <span class="mi">0</span>%N c&#39;) v)) -&gt;
    SafeAt_alt s v b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(*</span>
<span class="c">  I think SafeAt is equivalent to saying that at each earlier step c there is a quorum of</span>
<span class="c">  nodes that have passed round c and only voted for v or for nothing at round c.</span>
<span class="c">*)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk6"><span class="kn">Lemma</span> <span class="nf">safeAt_alt_fwd</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">v</span> <span class="nv">b</span>,
    SafeAt_alt s v b -&gt; SafeAt s v b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot),
  SafeAt_alt s v b ‚Üí SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot),
  SafeAt_alt s v b ‚Üí SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8"><span class="nb">intros</span> s v b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt_alt s v b ‚Üí SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9"><span class="nb">induction</span> (Ballot_lt_wf b) <span class="kr">as</span> [b _ IHb].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt_alt s v b ‚Üí SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka"><span class="nb">intros</span> Hsafe.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt_alt s v b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb"><span class="nb">induction</span> Hsafe <span class="kr">as</span> [| b Q c&#39; Hc&#39; H_maxBal Hno_vote Hc_votes]; <span class="nb">intros</span> d Hd; [<span class="bp">by</span> ballot_lia |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc"><span class="nb">assert</span> ((c&#39; &lt;= d) \/ (c&#39; &gt; d))%Z <span class="kr">as</span> [H_use_Q | H_d_lt_c] <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chkd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_d_lt_c</var><span class="hyp-type"><b>: </b><span>(c&#39; &gt; d)%Z</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkd"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf"><span class="kr">exists</span> <span class="nv">Q</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consensus_blocking_quorum s d v Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) d)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk11" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk11"><hr></label><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) d)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13"><span class="nb">intros</span> a Ha; <span class="nb">generalize</span> (H_maxBal a Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt;= b)%Z ‚Üí vote_committed (s a) d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> vote_committed; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_use_Q</var><span class="hyp-type"><b>: </b><span>(c&#39; ‚â§ d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15"><span class="nb">apply</span> Z.le_lteq <span class="kr">in</span> H_use_Q <span class="kr">as</span> [| -&gt;%Ballot&#39;_Zeq_iff].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d v)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk16" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(Some d &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>Some d ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N (Some d))
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N (Some d)) v)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d0</span> : Ballot,
  (Some d &lt; d0)%Z
  ‚Üí (d0 &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d0)</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk16"><hr></label><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk17">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk18"><span class="nb">intros</span> a Ha w Hw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; d)%Z</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>voted_for (s a) d w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hno_vote <span class="kr">in</span> Hw.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk19">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(Some d &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>Some d ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N (Some d))
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N (Some d)) v)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d0</span> : Ballot,
  (Some d &lt; d0)%Z
  ‚Üí (d0 &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d0)</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Hc_votes <span class="kr">as</span> [_ Hc_votes].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c'</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(c&#39; &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (c&#39; &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>c&#39; ‚â† None
‚Üí SafeAt_alt s v (default <span class="mi">0</span>%N c&#39;)
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but 
           (s a) (default <span class="mi">0</span>%N c&#39;) v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_d_lt_c</var><span class="hyp-type"><b>: </b><span>(c&#39; &gt; d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b"><span class="nb">destruct</span> c&#39; <span class="kr">as</span> [c |]; <span class="nb">simpl</span> <span class="kr">in</span> *; [| <span class="bp">by</span> ballot_lia].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>(Z.of_N c &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (Z.of_N c &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>Some c ‚â† None
‚Üí SafeAt_alt s v c
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but (s a) c v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_d_lt_c</var><span class="hyp-type"><b>: </b><span>(Z.of_N c &gt; d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1c"><span class="nb">change</span> (Z.of_N c) <span class="kr">with</span> (c : Z) <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Ballot,
  (y &lt; b)%Z ‚Üí SafeAt_alt s v y ‚Üí SafeAt s v y</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc'</var><span class="hyp-type"><b>: </b><span>((c : Z) &lt; b)%Z</span></span></span><br><span><var>H_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= b)%Z)</span></span></span><br><span><var>Hno_vote</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  ((c : Z) &lt; d)%Z
  ‚Üí (d &lt; b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
           did_not_vote_in (s a) d)</span></span></span><br><span><var>Hc_votes</var><span class="hyp-type"><b>: </b><span>Some c ‚â† None
‚Üí SafeAt_alt s v c
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
         voted_none_but (s a) c v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br><span><var>H_d_lt_c</var><span class="hyp-type"><b>: </b><span>((c : Z) &gt; d)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum s d v Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (IHb c Hc&#39;); [<span class="nb">apply</span> Hc_votes | <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1d"><span class="kn">Lemma</span> <span class="nf">safeAt_alt_rev</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">v</span> <span class="nv">b</span>,
    SafeAt s v b -&gt; SafeAt_alt s v b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot),
  SafeAt s v b ‚Üí SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot),
  SafeAt s v b ‚Üí SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1f"><span class="nb">intros</span> s v b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt s v b ‚Üí SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk20"><span class="nb">induction</span> b <span class="nb">using</span> Ballot_peano_ind; <span class="nb">intros</span> H_Sb; [<span class="bp">by</span> <span class="nb">apply</span> SafeStart |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt_alt s v (N.succ b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk21"><span class="nb">destruct</span> (H_Sb b) <span class="kr">as</span> (Q &amp; H_Q_maxBal &amp; H_Q_votes); [<span class="bp">by</span> ballot_lia |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt_alt s v (N.succ b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk22"><span class="nb">apply</span> SafeQuorum <span class="kr">with</span> (Q := Q) (c&#39; := Some b); <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.of_N b &lt; N.succ b)%Z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk23" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk23"><hr></label><div class="goal-conclusion">allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= N.succ b)%Z)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Voting-v-chk24" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk24"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (Z.of_N b &lt; d)%Z
  ‚Üí (d &lt; N.succ b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, did_not_vote_in (s a) d)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Voting-v-chk25" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk25"><hr></label><div class="goal-conclusion">Some b ‚â† None
‚Üí SafeAt_alt s v b
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) b v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.of_N b &lt; N.succ b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk27">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, (maxBal (s a) &gt;= N.succ b)%Z)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk28"><span class="nb">intros</span> a Ha; <span class="nb">generalize</span> (H_Q_maxBal a Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vote_committed (s a) b ‚Üí (maxBal (s a) &gt;= N.succ b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> vote_committed; <span class="nb">destruct</span> (maxBal (s a)); <span class="nb">simpl</span>; ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk29">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">d</span> : Ballot,
  (Z.of_N b &lt; d)%Z
  ‚Üí (d &lt; N.succ b)%Z
    ‚Üí allQuorum Q
        (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, did_not_vote_in (s a) d)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some b ‚â† None
‚Üí SafeAt_alt s v b
  ‚àß allQuorum Q
      (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) b v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2b"><span class="nb">intros</span> _; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2c"><span class="nb">apply</span> IHb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2d"><span class="nb">intros</span> d Hd; <span class="nb">apply</span> H_Sb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>SafeAt s v b ‚Üí SafeAt_alt s v b</span></span></span><br><span><var>H_Sb</var><span class="hyp-type"><b>: </b><span>SafeAt s v (N.succ b)</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_Q_maxBal</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) b)</span></span></span><br><span><var>H_Q_votes</var><span class="hyp-type"><b>: </b><span>allQuorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b v)</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(d &lt; N.succ b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2e"><span class="kn">Lemma</span> <span class="nf">SafeAt_alt_iff</span> : 
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">v</span> <span class="nv">b</span>,
    SafeAt s v b &lt;-&gt; SafeAt_alt s v b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot),
  SafeAt s v b ‚Üî SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">v</span> : Value) (<span class="nv">b</span> : Ballot),
  SafeAt s v b ‚Üî SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk30"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt s v b ‚Üí SafeAt_alt s v b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk31" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk31"><hr></label><div class="goal-conclusion">SafeAt_alt s v b ‚Üí SafeAt s v b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk32">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt s v b ‚Üí SafeAt_alt s v b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> safeAt_alt_rev.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk33">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt_alt s v b ‚Üí SafeAt s v b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> safeAt_alt_fwd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">voting_composition_constraint</span>
  : composite_label IM -&gt; composite_state IM * option <span class="kt">False</span> -&gt; <span class="kt">Prop</span> :=
  <span class="kr">fun</span> &#39;(existT i l) &#39;(s, _) =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound _ =&gt; <span class="kt">True</span> <span class="c">(* Local checks suffice here *)</span>
    | Vote b v =&gt; <span class="c">(* Voting needs to check that value v is consistent with all other acceptors. *)</span>
        (<span class="kr">forall</span> <span class="nv">j</span>, j &lt;&gt; i -&gt; voted_none_but (s j) b v)
        /\ SafeAt s v b
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">voting_vlsm</span> : VLSM <span class="kt">False</span> := composite_vlsm IM voting_composition_constraint.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_voting_vlsm</span>.</span></span></pre><div class="doc">
How to recognize consensus, also for the refinement mapping. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">Quorum</span> : ASet -&gt; <span class="kt">Prop</span>)
  (<span class="nv">QDec</span> : <span class="kr">forall</span> <span class="nv">Q</span>, Decision (Quorum Q))
  (* The key quorum <span class="bp">assumption</span> <span class="kr">is</span> that any two quorums <span class="nb">have</span> a nonempty intersection. *)
  (<span class="nv">QA</span> : <span class="kr">forall</span> (<span class="nv">Q1</span> <span class="nv">Q2</span> : sig Quorum), <span class="kr">exists</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2)
  (* For convenience we also assume that any superset of a quorum <span class="kr">is</span> a quorum. *)
  (<span class="nv">QClosed</span> : Proper (subseteq ==&gt; impl) Quorum)
  (<span class="nv">IM</span> : Acceptor -&gt; VLSM <span class="kt">False</span> := <span class="kr">fun</span> <span class="nv">_</span> =&gt; acceptor_vlsm).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ballot_chose</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value) : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> (<span class="nv">Q</span> : sig Quorum), allQuorum Quorum Q (<span class="kr">fun</span> <span class="nv">a</span> : Acceptor =&gt; voted_for (s a) b v).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ballots_with_votes</span> (<span class="nv">s</span> : composite_state IM) : Nset :=
  union_list ((<span class="kr">fun</span> <span class="nv">a</span> : Acceptor =&gt; dom (votes (s a))) &lt;$&gt; enum Acceptor).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk34"><span class="kn">Lemma</span> <span class="nf">ballot_chose_inrange</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">b</span> <span class="nv">v</span>,
    ballot_chose s b v -&gt; b ‚àà ballots_with_votes s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  ballot_chose s b v ‚Üí b ‚àà ballots_with_votes s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk35"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  ballot_chose s b v ‚Üí b ‚àà ballots_with_votes s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk36"><span class="nb">unfold</span> ballot_chose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))
  ‚Üí b ‚àà ballots_with_votes s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk37"><span class="nb">intros</span> s b v [Q HQ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà ballots_with_votes s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk38"><span class="nb">assert</span> (<span class="kr">exists</span> <span class="nv">a</span>, a ‚àà `Q) <span class="kr">as</span> [a Ha]
    <span class="bp">by</span> (<span class="nb">setoid_rewrite</span> &lt;- (intersection_idemp (`Q)); <span class="nb">apply</span> QA).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà ballots_with_votes s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk39"><span class="nb">apply</span> elem_of_union_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">X</span> : Nset,
  X
  ‚àà (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, dom (votes (s a))) &lt;$&gt;
    enum Acceptor ‚àß b ‚àà X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3a"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">eapply</span> elem_of_list_fmap_1, (elem_of_enum a) |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">b ‚àà dom (votes (s a))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3b"><span class="nb">apply</span> fin_map_dom.elem_of_dom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (votes (s a) !! b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3c"><span class="nb">generalize</span> (HQ a Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí is_Some (votes (s a) !! b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3d"><span class="nb">unfold</span> voted_for.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà votes (s a) !!! b ‚Üí is_Some (votes (s a) !! b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3e"><span class="nb">rewrite</span> lookup_total_alt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà default inhabitant (votes (s a) !! b)
‚Üí is_Some (votes (s a) !! b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk3f"><span class="nb">destruct</span> (votes (s a) !! b); <span class="nb">cbn</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà ‚àÖ ‚Üí is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> elem_of_empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk40">#[export] <span class="kn">Instance</span> <span class="nf">ballot_chose_dec</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">b</span> <span class="nv">v</span>,
    Decision (ballot_chose s b v).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  Decision (ballot_chose s b v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk41"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  Decision (ballot_chose s b v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk42"><span class="nb">intros</span> s b v; <span class="nb">unfold</span> ballot_chose.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk43"><span class="nb">pose</span> (voters := list_to_set (filter (<span class="kr">fun</span> <span class="nv">a</span> =&gt; voted_for (s a) b v) (enum Acceptor)) : ASet).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk44"><span class="nb">assert</span> (Hvoters : <span class="kr">forall</span> <span class="nv">Q</span>, allQuorum Quorum Q (<span class="kr">fun</span> <span class="nv">a</span> =&gt; voted_for (s a) b v) &lt;-&gt; `Q ‚äÜ voters).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk45" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk45"><hr></label><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk46">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk47"><span class="nb">intros</span> [Q HQ]; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Quorum (Q ‚Üæ HQ)
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v) ‚Üî Q ‚äÜ voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk48"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Quorum (Q ‚Üæ HQ)
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v) ‚Üí Q ‚äÜ voters</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk49" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk49"><hr></label><div class="goal-conclusion">Q ‚äÜ voters
‚Üí allQuorum Quorum (Q ‚Üæ HQ)
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Quorum (Q ‚Üæ HQ)
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v) ‚Üí Q ‚äÜ voters</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4b"><span class="nb">intros</span> HallQ a Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br><span><var>HallQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum (Q ‚Üæ HQ)
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4c"><span class="nb">specialize</span> (HallQ a Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HallQ</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v) a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4d"><span class="nb">apply</span> elem_of_list_to_set, elem_of_list_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HallQ</var><span class="hyp-type"><b>: </b><span>(<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v) a</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚àß a ‚àà enum Acceptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; [| <span class="nb">apply</span> elem_of_enum].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Q ‚äÜ voters
‚Üí allQuorum Quorum (Q ‚Üæ HQ)
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk4f"><span class="nb">intros</span> Hsub a Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>Q ‚äÜ voters</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `(Q ‚Üæ HQ)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk50"><span class="nb">specialize</span> (Hsub a Ha).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>a ‚àà voters</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `(Q ‚Üæ HQ)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk51"><span class="nb">apply</span> elem_of_list_to_set, elem_of_list_filter <span class="kr">in</span> Hsub.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>Quorum Q</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hsub</var><span class="hyp-type"><b>: </b><span>voted_for (s a) b v ‚àß a ‚àà enum Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `(Q ‚Üæ HQ)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hsub.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk52">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk53"><span class="nb">destruct</span> (QDec voters) <span class="kr">as</span> [yes | no].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>yes</var><span class="hyp-type"><b>: </b><span>Quorum voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>no</var><span class="hyp-type"><b>: </b><span>¬¨ Quorum voters</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk54"><hr></label><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>yes</var><span class="hyp-type"><b>: </b><span>Quorum voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk56"><span class="nb">left</span>; <span class="kr">exists</span> (<span class="nv">exist</span> <span class="nv">_</span> <span class="nv">voters</span> <span class="nv">yes</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>yes</var><span class="hyp-type"><b>: </b><span>Quorum voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">allQuorum Quorum (voters ‚Üæ yes)
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hvoters.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk57">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>no</var><span class="hyp-type"><b>: </b><span>¬¨ Quorum voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk58"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>no</var><span class="hyp-type"><b>: </b><span>¬¨ Quorum voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk59"><span class="bp">contradict</span> no.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>no</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quorum voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5a"><span class="nb">destruct</span> no <span class="kr">as</span> [Q&#39; HQ&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>Q'</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ'</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q&#39;
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quorum voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5b"><span class="nb">apply</span> Hvoters <span class="kr">in</span> HQ&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>Q'</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ'</var><span class="hyp-type"><b>: </b><span>`Q&#39; ‚äÜ voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quorum voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5c"><span class="nb">generalize</span> (proj2_sig Q&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>voters</var><span><span class="hyp-body"><b>:= </b><span>list_to_set
  (filter
     (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
     (enum Acceptor))
:
ASet</span></span><span class="hyp-type"><b>: </b><span>ASet</span></span></span></span><br><span><var>Hvoters</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  allQuorum Quorum Q
    (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)
  ‚Üî `Q ‚äÜ voters</span></span></span><br><span><var>Q'</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ'</var><span class="hyp-type"><b>: </b><span>`Q&#39; ‚äÜ voters</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Quorum (`Q&#39;) ‚Üí Quorum voters</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> QClosed.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ballot_proposals</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) : VSet :=
  union_list ((<span class="kr">fun</span> <span class="nv">a</span> =&gt; votes (s a) !!! b) &lt;$&gt; enum Acceptor).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5d"><span class="kn">Lemma</span> <span class="nf">ballot_chose_in_proposals</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">b</span> <span class="nv">v</span>,
    ballot_chose s b v -&gt; v ‚àà ballot_proposals s b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  ballot_chose s b v ‚Üí v ‚àà ballot_proposals s b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  ballot_chose s b v ‚Üí v ‚àà ballot_proposals s b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk5f"><span class="nb">unfold</span> ballot_chose, ballot_proposals.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state IM) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     allQuorum Quorum Q
       (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v))
  ‚Üí v
    ‚àà ‚ãÉ ((<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
         enum Acceptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk60"><span class="nb">intros</span> s b v [Q HQ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà ‚ãÉ ((<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
     enum Acceptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk61"><span class="nb">destruct</span> (QA Q Q) <span class="kr">as</span> [a Ha].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà ‚ãÉ ((<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
     enum Acceptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk62"><span class="nb">rewrite</span> (intersection_idemp (`Q)) <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà ‚ãÉ ((<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
     enum Acceptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk63"><span class="nb">specialize</span> (HQ a Ha); <span class="nb">simpl</span> <span class="kr">in</span> HQ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>voted_for (s a) b v</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà ‚ãÉ ((<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
     enum Acceptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk64"><span class="nb">unfold</span> voted_for <span class="kr">in</span> HQ.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>v ‚àà votes (s a) !!! b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà ‚ãÉ ((<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
     enum Acceptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk65"><span class="nb">apply</span> elem_of_union_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>v ‚àà votes (s a) !!! b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">X</span> : VSet,
  X
  ‚àà (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
    enum Acceptor ‚àß v ‚àà X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk66"><span class="kr">exists</span> (<span class="nv">votes</span> (s a) !!! b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>v ‚àà votes (s a) !!! b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">votes (s a) !!! b
‚àà (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
  enum Acceptor ‚àß v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk67"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>v ‚àà votes (s a) !!! b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">votes (s a) !!! b
‚àà (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, votes (s a) !!! b) &lt;$&gt;
  enum Acceptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk68"><span class="nb">refine</span> (elem_of_list_fmap_1 _ _ a _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>v ‚àà votes (s a) !!! b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">a ‚àà enum Acceptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_enum.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">chosen_by_ballot</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) (<span class="nv">b</span> : Ballot) : VSet :=
  set_filter (<span class="kr">fun</span> <span class="nv">v</span> =&gt; ballot_chose s b v) _ (ballot_proposals s b).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">chosen</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) : VSet :=
  union_list (chosen_by_ballot s &lt;$&gt; elements (ballots_with_votes s)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk69"><span class="kn">Lemma</span> <span class="nf">chosen_iff</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) (<span class="nv">v</span> : Value),
    v ‚àà chosen s &lt;-&gt; <span class="kr">exists</span> <span class="nv">b</span>, ballot_chose s b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) (<span class="nv">v</span> : Value),
  v ‚àà chosen s ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk6a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) (<span class="nv">v</span> : Value),
  v ‚àà chosen s ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk6b"><span class="nb">intros</span> s v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen s ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk6c"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen s ‚Üí <span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk6d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk6d"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v) ‚Üí v ‚àà chosen s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk6e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen s ‚Üí <span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk6f"><span class="nb">intros</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk70"><span class="nb">unfold</span> chosen <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v
‚àà ‚ãÉ (chosen_by_ballot s &lt;$&gt;
     elements (ballots_with_votes s))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk71"><span class="nb">apply</span> elem_of_union_list <span class="kr">in</span> Hv <span class="kr">as</span> (C_by_b &amp; HC &amp; Hb).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>C_by_b</var><span class="hyp-type"><b>: </b><span>VSet</span></span></span><br><span><var>HC</var><span class="hyp-type"><b>: </b><span>C_by_b
‚àà chosen_by_ballot s &lt;$&gt;
  elements (ballots_with_votes s)</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>v ‚àà C_by_b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk72"><span class="nb">apply</span> elem_of_list_fmap <span class="kr">in</span> HC <span class="kr">as</span> (b &amp; -&gt; &amp; _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen_by_ballot s b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk73"><span class="kr">exists</span> <span class="nv">b</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen_by_ballot s b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk74"><span class="nb">unfold</span> chosen_by_ballot <span class="kr">in</span> Hb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>v
‚àà set_filter (<span class="kr">Œª</span> <span class="nv">v</span> : Value, ballot_chose s b v)
    (ballot_chose_dec s b) 
    (ballot_proposals s b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk75"><span class="nb">apply</span> elem_of_filter <span class="kr">in</span> Hb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v ‚àß v ‚àà ballot_proposals s b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_chose s b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hb.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot, ballot_chose s b v) ‚Üí v ‚àà chosen s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk77"><span class="nb">intros</span> [b Hb].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk78"><span class="nb">apply</span> ballot_chose_inrange <span class="kr">in</span> Hb <span class="kr">as</span> Hb_dom.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk79"><span class="nb">unfold</span> chosen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà ‚ãÉ (chosen_by_ballot s &lt;$&gt;
     elements (ballots_with_votes s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7a"><span class="nb">apply</span> elem_of_union_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">X</span> : VSet,
  X
  ‚àà chosen_by_ballot s &lt;$&gt;
    elements (ballots_with_votes s) ‚àß v ‚àà X</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7b"><span class="kr">exists</span> (<span class="nv">chosen_by_ballot</span> <span class="nv">s</span> <span class="nv">b</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">chosen_by_ballot s b
‚àà chosen_by_ballot s &lt;$&gt;
  elements (ballots_with_votes s)
‚àß v ‚àà chosen_by_ballot s b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7c"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">apply</span> elem_of_list_fmap_1, elem_of_elements |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen_by_ballot s b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7d"><span class="nb">unfold</span> chosen_by_ballot.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà set_filter (<span class="kr">Œª</span> <span class="nv">v</span> : Value, ballot_chose s b v)
    (ballot_chose_dec s b) (ballot_proposals s b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7e"><span class="nb">apply</span> elem_of_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hb_dom</var><span class="hyp-type"><b>: </b><span>b ‚àà ballots_with_votes s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_chose s b v ‚àß v ‚àà ballot_proposals s b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> ballot_chose_in_proposals <span class="kr">in</span> Hb <span class="kr">as</span> Hv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Each acceptor can vote for at most one value in any given ballot 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">(* VInv1 *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_no_conflict_prop</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> <span class="nv">w</span> : Value),
    voted_for (s a) b v -&gt; voted_for (s a) b w -&gt; v = w.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* VInv2 *)</span></span></pre><div class="doc">
Every vote is for a safe value 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">acceptor_votes_safe_prop</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
    voted_for (s a) b v -&gt; SafeAt Quorum s v b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk7f"><span class="kn">Lemma</span> <span class="nf">step_cases</span> :
  <span class="kr">forall</span> [li s om s&#39; om&#39;],
    input_valid_transition (voting_vlsm Quorum) li (s, om) (s&#39;, om&#39;) -&gt;
    <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    s&#39; = state_update IM s i ((acceptor_transition l (s i, om)).<span class="mi">1</span>) /\
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound b&#39; =&gt;
        (maxBal (s i) &lt; b&#39;)%Z
    | Vote b v =&gt;
        (maxBal (s i) &lt;= b)%Z /\
          did_not_vote_in (s i) b /\
          SafeAt Quorum s v b
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    s&#39; =
    state_update IM s i
      (acceptor_transition l (s i, om)).<span class="mi">1</span>
    ‚àß <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
      | Vote b v =&gt;
          (maxBal (s i) ‚â§ b)%Z
          ‚àß did_not_vote_in (s i) b
            ‚àß SafeAt Quorum s v b
      <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk80"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    s&#39; =
    state_update IM s i
      (acceptor_transition l (s i, om)).<span class="mi">1</span>
    ‚àß <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
      | Vote b v =&gt;
          (maxBal (s i) ‚â§ b)%Z
          ‚àß did_not_vote_in (s i) b
            ‚àß SafeAt Quorum s v b
      <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk81"><span class="nb">intros</span> [i l] s om s&#39; om&#39; [(_ &amp; _ &amp; Hlv &amp; Hcv) Htrans].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i l) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span>
‚àß <span class="kr">match</span> l <span class="kr">with</span>
  | SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
  | Vote b v =&gt;
      (maxBal (s i) ‚â§ b)%Z
      ‚àß did_not_vote_in (s i) b ‚àß SafeAt Quorum s v b
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk82"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i l) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk83" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i l) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk83"><hr></label><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b ‚àß SafeAt Quorum s v b
<span class="kr">end</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk84">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i l) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l; <span class="nb">inversion</span> Htrans.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk85">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i l) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b ‚àß SafeAt Quorum s v b
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk86"><span class="nb">destruct</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i (SkipToRound b)) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i (SkipToRound b)) (
  s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i (SkipToRound b)) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s i) &lt; b)%Z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk87" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i (Vote b v)) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i (Vote b v)) (
  s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i (Vote b v)) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk87"><hr></label><div class="goal-conclusion">(maxBal (s i) ‚â§ b)%Z
‚àß did_not_vote_in (s i) b ‚àß SafeAt Quorum s v b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk88">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i (SkipToRound b)) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i (SkipToRound b)) (
  s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i (SkipToRound b)) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s i) &lt; b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hlv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk89">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hlv</var><span class="hyp-type"><b>: </b><span>valid (existT i (Vote b v)) (s, om)</span></span></span><br><span><var>Hcv</var><span class="hyp-type"><b>: </b><span>voting_composition_constraint Quorum
  (existT i (Vote b v)) (
  s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i (Vote b v)) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s i) ‚â§ b)%Z
‚àß did_not_vote_in (s i) b ‚àß SafeAt Quorum s v b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> split_and!; [<span class="nb">apply</span> Hlv.. | <span class="nb">apply</span> Hcv].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8a"><span class="kn">Lemma</span> <span class="nf">step_cases&#39;</span> :
  <span class="kr">forall</span> [li s om s&#39; om&#39;],
    input_valid_transition (voting_vlsm Quorum) li (s, om) (s&#39;, om&#39;) -&gt;
    <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound b&#39; =&gt;
        (maxBal (s i) &lt; b&#39;)%Z
          /\ s&#39; = state_update IM s i {| votes := votes (s i); maxBal := Some b&#39;; |}
    | Vote b v =&gt;
        (maxBal (s i) &lt;= b)%Z /\
          did_not_vote_in (s i) b /\
          (<span class="kr">forall</span> <span class="nv">j</span>, j &lt;&gt; i -&gt; voted_none_but (s j) b v) /\
          SafeAt Quorum s v b /\
          s&#39; = state_update IM s i {| votes := mmap_insert b v (votes (s i)); maxBal := Some b |}
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound b&#39; =&gt;
        (maxBal (s i) &lt; b&#39;)%Z
        ‚àß s&#39; =
          state_update IM s i
            {|
              votes := votes (s i); maxBal := Some b&#39;
            |}
    | Vote b v =&gt;
        (maxBal (s i) ‚â§ b)%Z
        ‚àß did_not_vote_in (s i) b
          ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
               j ‚â† i ‚Üí voted_none_but (s j) b v)
            ‚àß SafeAt Quorum s v b
              ‚àß s&#39; =
                state_update IM s i
                  {|
                    votes :=
                      mmap_insert b v (votes (s i));
                    maxBal := Some b
                  |}
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound b&#39; =&gt;
        (maxBal (s i) &lt; b&#39;)%Z
        ‚àß s&#39; =
          state_update IM s i
            {|
              votes := votes (s i); maxBal := Some b&#39;
            |}
    | Vote b v =&gt;
        (maxBal (s i) ‚â§ b)%Z
        ‚àß did_not_vote_in (s i) b
          ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
               j ‚â† i ‚Üí voted_none_but (s j) b v)
            ‚àß SafeAt Quorum s v b
              ‚àß s&#39; =
                state_update IM s i
                  {|
                    votes :=
                      mmap_insert b v (votes (s i));
                    maxBal := Some b
                  |}
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8c"><span class="nb">intros</span> [i l] s om s&#39; om&#39; [(_ &amp; _ &amp; Hvalid) Htrans].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>transition (existT i l) (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {| votes := votes (s i); maxBal := Some b&#39; |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes := mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8d"><span class="nb">rewrite</span> (surjective_pairing (transition _ _)) <span class="kr">in</span> Htrans.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>((transition (existT i l) (s, om)).<span class="mi">1</span>,
 (transition (existT i l) (s, om)).<span class="mi">2</span>) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {| votes := votes (s i); maxBal := Some b&#39; |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes := mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8e"><span class="nb">apply</span> (<span class="nb">f_equal</span> fst) <span class="kr">in</span> Htrans.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>((transition (existT i l) (s, om)).<span class="mi">1</span>,
 (transition (existT i l) (s, om)).<span class="mi">2</span>).<span class="mi">1</span> =
(s&#39;, om&#39;).<span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {| votes := votes (s i); maxBal := Some b&#39; |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes := mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk8f"><span class="nb">cbn</span> [fst] <span class="kr">in</span> Htrans.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>(transition (existT i l) (s, om)).<span class="mi">1</span> = s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {| votes := votes (s i); maxBal := Some b&#39; |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes := mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk90"><span class="nb">subst</span> s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hvalid</var><span class="hyp-type"><b>: </b><span>valid (existT i l) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß (transition (existT i l) (s, om)).<span class="mi">1</span> =
      state_update IM s i
        {| votes := votes (s i); maxBal := Some b&#39; |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß (transition (existT i l) (s, om)).<span class="mi">1</span> =
            state_update IM s i
              {|
                votes := mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l; <span class="nb">simpl</span>; <span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">apply</span> Hvalid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk91"><span class="kn">Lemma</span> <span class="nf">step_cases&#39;&#39;</span> :
  <span class="kr">forall</span> [li s om s&#39; om&#39;],
    input_valid_transition (voting_vlsm Quorum) li (s, om) (s&#39;, om&#39;) -&gt;
  <span class="kr">forall</span> <span class="nv">a</span>,
    <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
    <span class="kr">if</span> decide (a = i)
    <span class="kr">then</span> s&#39; a =
      {|
        maxBal := Some
          <span class="kr">match</span> l <span class="kr">with</span>
          | SkipToRound b&#39; =&gt; b&#39;
          | Vote b _ =&gt; b
          <span class="kr">end</span>;
        votes :=
          <span class="kr">match</span> l <span class="kr">with</span>
          | SkipToRound _ =&gt; votes (s a)
          | Vote b v =&gt; mmap_insert b v (votes (s a))
          <span class="kr">end</span>;
      |}
    <span class="kr">else</span> s&#39; a = s a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : Acceptor,
      <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
      <span class="kr">if</span> decide (a = i)
      <span class="kr">then</span>
       s&#39; a =
       {|
         votes :=
           <span class="kr">match</span> l <span class="kr">with</span>
           | SkipToRound _ =&gt; votes (s a)
           | Vote b v =&gt; mmap_insert b v (votes (s a))
           <span class="kr">end</span>;
         maxBal :=
           Some
             <span class="kr">match</span> l <span class="kr">with</span>
             | SkipToRound b&#39; =&gt; b&#39;
             | Vote b _ =&gt; b
             <span class="kr">end</span>
       |}
      <span class="kr">else</span> s&#39; a = s a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk92"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">a</span> : Acceptor,
      <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
      <span class="kr">if</span> decide (a = i)
      <span class="kr">then</span>
       s&#39; a =
       {|
         votes :=
           <span class="kr">match</span> l <span class="kr">with</span>
           | SkipToRound _ =&gt; votes (s a)
           | Vote b v =&gt; mmap_insert b v (votes (s a))
           <span class="kr">end</span>;
         maxBal :=
           Some
             <span class="kr">match</span> l <span class="kr">with</span>
             | SkipToRound b&#39; =&gt; b&#39;
             | Vote b _ =&gt; b
             <span class="kr">end</span>
       |}
      <span class="kr">else</span> s&#39; a = s a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk93"><span class="nb">intros</span> [i l] s om s&#39; om&#39; Ht a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i l) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span> decide (a = i)
<span class="kr">then</span>
 s&#39; a =
 {|
   votes :=
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound _ =&gt; votes (s a)
     | Vote b v =&gt; mmap_insert b v (votes (s a))
     <span class="kr">end</span>;
   maxBal :=
     Some
       <span class="kr">match</span> l <span class="kr">with</span>
       | SkipToRound b&#39; =&gt; b&#39;
       | Vote b _ =&gt; b
       <span class="kr">end</span>
 |}
<span class="kr">else</span> s&#39; a = s a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk94"><span class="nb">apply</span> step_cases <span class="kr">in</span> Ht <span class="kr">as</span> [-&gt; _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">if</span> decide (a = i)
<span class="kr">then</span>
 state_update IM s i
   (acceptor_transition l (s i, om)).<span class="mi">1</span> a =
 {|
   votes :=
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound _ =&gt; votes (s a)
     | Vote b v =&gt; mmap_insert b v (votes (s a))
     <span class="kr">end</span>;
   maxBal :=
     Some
       <span class="kr">match</span> l <span class="kr">with</span>
       | SkipToRound b&#39; =&gt; b&#39;
       | Vote b _ =&gt; b
       <span class="kr">end</span>
 |}
<span class="kr">else</span>
 state_update IM s i
   (acceptor_transition l (s i, om)).<span class="mi">1</span> a = s a</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk95"><span class="nb">destruct</span> (decide (a = i)); [| <span class="bp">by</span> <span class="nb">rewrite</span> state_update_neq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span> a =
{|
  votes :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound _ =&gt; votes (s a)
    | Vote b v =&gt; mmap_insert b v (votes (s a))
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk96"><span class="nb">subst</span> i; <span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(acceptor_transition l (s a, om)).<span class="mi">1</span> =
{|
  votes :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound _ =&gt; votes (s a)
    | Vote b v =&gt; mmap_insert b v (votes (s a))
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk97"><span class="nb">destruct</span> (s a) <span class="kr">as</span> [mb_a votes_a].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Bmap VSet</span></span></span><br><span><var>votes_a</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(acceptor_transition l
   ({| votes := mb_a; maxBal := votes_a |}, om)).<span class="mi">1</span> =
{|
  votes :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound _ =&gt;
        votes {| votes := mb_a; maxBal := votes_a |}
    | Vote b v =&gt;
        mmap_insert b v
          (votes
             {| votes := mb_a; maxBal := votes_a |})
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk98"><span class="nb">destruct</span> om <span class="kr">as</span> [[] |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Bmap VSet</span></span></span><br><span><var>votes_a</var><span class="hyp-type"><b>: </b><span>Ballot&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(acceptor_transition l
   ({| votes := mb_a; maxBal := votes_a |}, None)).<span class="mi">1</span> =
{|
  votes :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound _ =&gt;
        votes {| votes := mb_a; maxBal := votes_a |}
    | Vote b v =&gt;
        mmap_insert b v
          (votes
             {| votes := mb_a; maxBal := votes_a |})
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l; <span class="nb">simpl</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk99"><span class="kn">Lemma</span> <span class="nf">prev_votes</span>:
  <span class="kr">forall</span> [li s om s&#39; om&#39;],
    input_valid_transition (voting_vlsm Quorum) li (s, om) (s&#39;, om&#39;) -&gt;
  <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">v</span>,
    voted_for (s&#39; a) b v -&gt;
    <span class="kr">match</span> li <span class="kr">with</span>
    | existT i (SkipToRound _) =&gt; voted_for (s a) b v
    | existT i (Vote bv vv) =&gt;
        (a = i /\ b = bv /\ v = vv) \/ ((a ‚â† i \/ b ‚â† bv) /\ voted_for (s a) b v)
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      voted_for (s&#39; a) b v
      ‚Üí <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
        <span class="kr">match</span> l <span class="kr">with</span>
        | SkipToRound _ =&gt; voted_for (s a) b v
        | Vote bv vv =&gt;
            a = i ‚àß b = bv ‚àß v = vv
            ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
        <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">li</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) li
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      voted_for (s&#39; a) b v
      ‚Üí <span class="kr">let</span> (<span class="nv">i</span>, l) := li <span class="kr">in</span>
        <span class="kr">match</span> l <span class="kr">with</span>
        | SkipToRound _ =&gt; voted_for (s a) b v
        | Vote bv vv =&gt;
            a = i ‚àß b = bv ‚àß v = vv
            ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
        <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9b"><span class="nb">intros</span> [i l] s om s&#39; om&#39; [Hs&#39; Ht]%step_cases a b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s&#39; a) b v
‚Üí <span class="kr">match</span> l <span class="kr">with</span>
  | SkipToRound _ =&gt; voted_for (s a) b v
  | Vote bv vv =&gt;
      a = i ‚àß b = bv ‚àß v = vv
      ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9c"><span class="nb">rewrite</span> Hs&#39;; <span class="nb">clear</span> Hs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for
  (state_update IM s i
     (acceptor_transition l (s i, om)).<span class="mi">1</span> a) b v
‚Üí <span class="kr">match</span> l <span class="kr">with</span>
  | SkipToRound _ =&gt; voted_for (s a) b v
  | Vote bv vv =&gt;
      a = i ‚àß b = bv ‚àß v = vv
      ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9d"><span class="nb">destruct</span> (decide (a = i)); [| <span class="bp">by</span> <span class="nb">rewrite</span> state_update_neq; <span class="nb">destruct</span> l; <span class="nb">auto</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for
  (state_update IM s i
     (acceptor_transition l (s i, om)).<span class="mi">1</span> a) b v
‚Üí <span class="kr">match</span> l <span class="kr">with</span>
  | SkipToRound _ =&gt; voted_for (s a) b v
  | Vote bv vv =&gt;
      a = i ‚àß b = bv ‚àß v = vv
      ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9e"><span class="nb">subst</span> i; <span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s a) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s a) ‚â§ b)%Z
    ‚àß did_not_vote_in (s a) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (acceptor_transition l (s a, om)).<span class="mi">1</span> b v
‚Üí <span class="kr">match</span> l <span class="kr">with</span>
  | SkipToRound _ =&gt; voted_for (s a) b v
  | Vote bv vv =&gt;
      a = a ‚àß b = bv ‚àß v = vv
      ‚à® (a ‚â† a ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk9f"><span class="nb">destruct</span> l; <span class="nb">simpl</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ b0)%Z
‚àß did_not_vote_in (s a) b0
  ‚àß SafeAt Quorum s v0 b0</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for
  {|
    votes := mmap_insert b0 v0 (votes (s a));
    maxBal := Some b0
  |} b v
‚Üí a = a ‚àß b = b0 ‚àß v = v0
  ‚à® (a ‚â† a ‚à® b ‚â† b0) ‚àß voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka0"><span class="nb">unfold</span> voted_for, mmap_insert; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ b0)%Z
‚àß did_not_vote_in (s a) b0
  ‚àß SafeAt Quorum s v0 b0</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà &lt;[b0:={[v0]} ‚à™ votes (s a) !!! b0]&gt; (votes (s a))
  !!! b
‚Üí a = a ‚àß b = b0 ‚àß v = v0
  ‚à® (a ‚â† a ‚à® b ‚â† b0) ‚àß v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka1"><span class="nb">destruct</span> (decide (b0 = b));
    [| <span class="bp">by</span> <span class="nb">rewrite</span> lookup_total_insert_ne <span class="bp">by</span> <span class="bp">done</span>; <span class="nb">right</span>; set_solver].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ b0)%Z
‚àß did_not_vote_in (s a) b0
  ‚àß SafeAt Quorum s v0 b0</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>b0 = b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àà &lt;[b0:={[v0]} ‚à™ votes (s a) !!! b0]&gt; (votes (s a))
  !!! b
‚Üí a = a ‚àß b = b0 ‚àß v = v0
  ‚à® (a ‚â† a ‚à® b ‚â† b0) ‚àß v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka2"><span class="nb">subst</span> b0; <span class="nb">rewrite</span> lookup_total_insert.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ b)%Z
‚àß did_not_vote_in (s a) b ‚àß SafeAt Quorum s v0 b</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà {[v0]} ‚à™ votes (s a) !!! b
‚Üí a = a ‚àß b = b ‚àß v = v0
  ‚à® (a ‚â† a ‚à® b ‚â† b) ‚àß v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka3"><span class="nb">assert</span> (votes (s a) !!! b ‚â°@{VSet} ‚àÖ) <span class="kr">as</span> -&gt; <span class="bp">by</span> (<span class="nb">apply</span> elem_of_equiv_empty, Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ b)%Z
‚àß did_not_vote_in (s a) b ‚àß SafeAt Quorum s v0 b</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà {[v0]} ‚à™ ‚àÖ
‚Üí a = a ‚àß b = b ‚àß v = v0 ‚à® (a ‚â† a ‚à® b ‚â† b) ‚àß v ‚àà ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; set_solver.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A stronger claim which is that
  two votes on the same ballot cannot be for different values,
  even if they are from different acceptors.
  This is not needed to prove safety, only for liveness.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-wsp"><span class="c">(* VInv3 *)</span>
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">ballot_no_conflict_prop</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> (<span class="nv">a1</span> <span class="nv">a2</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v1</span> <span class="nv">v2</span> : Value),
    voted_for (s a1) b v1 -&gt; voted_for (s a2) b v2 -&gt; v1 = v2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka4"><span class="kn">Corollary</span> <span class="nf">corr_conflict_props</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) :
  ballot_no_conflict_prop s -&gt; acceptor_no_conflict_prop s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_no_conflict_prop s
‚Üí acceptor_no_conflict_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_no_conflict_prop s
‚Üí acceptor_no_conflict_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> acceptor_no_conflict_prop, ballot_no_conflict_prop; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
invariance of VInv1 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka6"><span class="kn">Lemma</span> <span class="nf">inv_acceptor_no_conflict</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    acceptor_no_conflict_prop s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí acceptor_no_conflict_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí acceptor_no_conflict_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka8"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">acceptor_no_conflict_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chka9"><span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind; <span class="nb">intros</span> a b v w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí voted_for (s a) b w ‚Üí v = w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chkaa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkaa"><hr></label><div class="goal-conclusion">voted_for (s&#39; a) b v ‚Üí voted_for (s&#39; a) b w ‚Üí v = w</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkab">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí voted_for (s a) b w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkac"><span class="nb">rewrite</span> (Hs a); <span class="nb">clear</span> Hs s a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for acceptor_initial b v
‚Üí voted_for acceptor_initial b w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkad"><span class="nb">intro</span> Hv; <span class="nb">exfalso</span>; <span class="bp">contradict</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ voted_for acceptor_initial b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkae"><span class="nb">unfold</span> voted_for; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ ‚àÖ !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkaf"><span class="nb">rewrite</span> lookup_total_empty. <span class="c">(* matching a typo in stdpp *)</span></label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ inhabitant</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb0"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> not_elem_of_empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s&#39; a) b v ‚Üí voted_for (s&#39; a) b w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb2"><span class="nb">intros</span> Hv Hw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>voted_for (s&#39; a) b v</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>voted_for (s&#39; a) b w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb3"><span class="nb">apply</span> (prev_votes Ht a b) <span class="kr">in</span> Hv, Hw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b v
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß v = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
<span class="kr">end</span></span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b w
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß w = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b w
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb4"><span class="nb">specialize</span> (IHHs a b v w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>voted_for (s a) b v
‚Üí voted_for (s a) b w ‚Üí v = w</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b v
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß v = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
<span class="kr">end</span></span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b w
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß w = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b w
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l <span class="kr">as</span> [i []]; [<span class="nb">auto</span> | itauto <span class="bp">congruence</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
VInv4 in the paper 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">maxBal_limits_votes_prop</span> (<span class="nv">s</span> : state (voting_vlsm Quorum)) : <span class="kt">Prop</span> :=
  <span class="kr">forall</span> <span class="nv">a</span> (<span class="nv">b</span> : Ballot),
    (maxBal (s a) &lt; b)%Z -&gt; did_not_vote_in (s a) b.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb5"><span class="kn">Lemma</span> <span class="nf">inv_max_bal_limits_votes</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    maxBal_limits_votes_prop s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí maxBal_limits_votes_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí maxBal_limits_votes_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb7"><span class="nb">unfold</span> maxBal_limits_votes_prop.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
      (maxBal (s a) &lt; b)%Z ‚Üí did_not_vote_in (s a) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb8"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z ‚Üí did_not_vote_in (s a) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkb9"><span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind; <span class="nb">intros</span> a b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &lt; b)%Z ‚Üí did_not_vote_in (s a) b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chkba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkba"><hr></label><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkbb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &lt; b)%Z ‚Üí did_not_vote_in (s a) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkbc"><span class="nb">intros</span> _ v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkbd"><span class="nb">rewrite</span> (Hs a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ voted_for acceptor_initial b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkbe"><span class="nb">unfold</span> voted_for; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ ‚àÖ !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkbf"><span class="nb">rewrite</span> lookup_total_empty; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> not_elem_of_empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc1"><span class="nb">destruct</span> l <span class="kr">as</span> [i l].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i l) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc2"><span class="nb">apply</span> step_cases <span class="kr">in</span> Ht <span class="kr">as</span> [Hs&#39; Hl].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc3"><span class="nb">destruct</span> (decide (a = i)); [<span class="nb">subst</span> i |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s a) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s a) ‚â§ b)%Z
    ‚àß did_not_vote_in (s a) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s a
  (acceptor_transition l (s a, om)).<span class="mi">1</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chkc4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>a ‚â† i</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkc4"><hr></label><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s a) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s a) ‚â§ b)%Z
    ‚àß did_not_vote_in (s a) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s a
  (acceptor_transition l (s a, om)).<span class="mi">1</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc6"><span class="nb">rewrite</span> Hs&#39;, state_update_eq; <span class="nb">clear</span> Hs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s a) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s a) ‚â§ b)%Z
    ‚àß did_not_vote_in (s a) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (acceptor_transition l (s a, om)).<span class="mi">1</span> &lt; b)%Z
‚Üí did_not_vote_in (acceptor_transition l (s a, om)).<span class="mi">1</span>
    b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc7"><span class="nb">destruct</span> l <span class="kr">as</span> [b&#39; | bv vv]; <span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) &lt; b&#39;)%Z</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.of_N b&#39; &lt; b)%Z
‚Üí did_not_vote_in
    {| votes := votes (s a); maxBal := Some b&#39; |} b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chkc8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkc8"><hr></label><div class="goal-conclusion">(Z.of_N bv &lt; b)%Z
‚Üí did_not_vote_in
    {|
      votes := mmap_insert bv vv (votes (s a));
      maxBal := Some bv
    |} b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkc9">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) &lt; b&#39;)%Z</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.of_N b&#39; &lt; b)%Z
‚Üí did_not_vote_in
    {| votes := votes (s a); maxBal := Some b&#39; |} b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkca"><span class="nb">intros</span> Hb&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) &lt; b&#39;)%Z</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>(Z.of_N b&#39; &lt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">did_not_vote_in
  {| votes := votes (s a); maxBal := Some b&#39; |} b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkcb"><span class="nb">apply</span> IHHs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) &lt; b&#39;)%Z</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>(Z.of_N b&#39; &lt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &lt; b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkcc"><span class="nb">revert</span> Hl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb'</var><span class="hyp-type"><b>: </b><span>(Z.of_N b&#39; &lt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &lt; b&#39;)%Z ‚Üí (maxBal (s a) &lt; b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (maxBal (s a)); <span class="nb">simpl</span>; ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkcd">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.of_N bv &lt; b)%Z
‚Üí did_not_vote_in
    {|
      votes := mmap_insert bv vv (votes (s a));
      maxBal := Some bv
    |} b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkce"><span class="nb">intros</span> Hb v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N bv &lt; b)%Z</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ voted_for
    {|
      votes := mmap_insert bv vv (votes (s a));
      maxBal := Some bv
    |} b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkcf"><span class="nb">unfold</span> voted_for, mmap_insert; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N bv &lt; b)%Z</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v
‚àâ &lt;[bv:={[vv]} ‚à™ votes (s a) !!! bv]&gt; (votes (s a))
  !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd0"><span class="nb">rewrite</span> lookup_total_insert_ne <span class="bp">by</span> ballot_lia.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N bv &lt; b)%Z</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd1"><span class="nb">apply</span> IHHs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N bv &lt; b)%Z</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &lt; b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd2"><span class="nb">generalize</span> (proj1 Hl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>vv</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ bv)%Z
‚àß did_not_vote_in (s a) bv
  ‚àß SafeAt Quorum s vv bv</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N bv &lt; b)%Z</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) ‚â§ bv)%Z ‚Üí (maxBal (s a) &lt; b)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (maxBal (s a)); <span class="nb">simpl</span>; ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>a ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s&#39; a) &lt; b)%Z ‚Üí did_not_vote_in (s&#39; a) b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd4"><span class="nb">rewrite</span> Hs&#39;, state_update_neq <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>s&#39; =
state_update IM s i
  (acceptor_transition l (s i, om)).<span class="mi">1</span></span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt; (maxBal (s i) &lt; b&#39;)%Z
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß SafeAt Quorum s v b
<span class="kr">end</span></span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot),
  (maxBal (s a) &lt; b)%Z
  ‚Üí did_not_vote_in (s a) b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>a ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &lt; b)%Z ‚Üí did_not_vote_in (s a) b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> IHHs.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd5"><span class="kn">Lemma</span> <span class="nf">cbq_blocks</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">b</span> <span class="nv">v</span> <span class="nv">w</span>,
    (<span class="kr">exists</span> <span class="nv">Q</span>, consensus_blocking_quorum Quorum s b v Q) -&gt;
    ballot_chose s b w -&gt;
    v = w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)) 
  (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> <span class="nv">w</span> : Value),
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     consensus_blocking_quorum Quorum s b v Q)
  ‚Üí ballot_chose s b w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)) 
  (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> <span class="nv">w</span> : Value),
  (<span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
     consensus_blocking_quorum Quorum s b v Q)
  ‚Üí ballot_chose s b w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd7"><span class="nb">intros</span> s b v w (Q &amp; _ &amp; Hblock) [QQ Hchose].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hblock</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) b v)</span></span></span><br><span><var>QQ</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hchose</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum QQ
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd8"><span class="nb">destruct</span> (QA Q QQ) <span class="kr">as</span> [a Ha].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hblock</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) b v)</span></span></span><br><span><var>QQ</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hchose</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum QQ
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `QQ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkd9"><span class="nb">apply</span> elem_of_intersection <span class="kr">in</span> Ha <span class="kr">as</span> [Ha_Q Ha_QQ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hblock</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) b v)</span></span></span><br><span><var>QQ</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hchose</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum QQ
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_QQ</var><span class="hyp-type"><b>: </b><span>a ‚àà `QQ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkda"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state (<span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hblock</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) b v)</span></span></span><br><span><var>QQ</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hchose</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum QQ
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_QQ</var><span class="hyp-type"><b>: </b><span>a ‚àà `QQ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hblock; [| <span class="nb">apply</span> Hchose].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* does not need invariants yet *)</span>
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkdb"><span class="kn">Lemma</span> <span class="nf">VT0</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    <span class="kr">forall</span> (<span class="nv">v</span> <span class="nv">w</span> : Value) (<span class="nv">b</span> <span class="nv">c</span> : Ballot),
      (b &gt; c)%N -&gt; SafeAt Quorum s v b -&gt; ballot_chose s c w -&gt; v = w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">v</span> <span class="nv">w</span> : Value) (<span class="nv">b</span> <span class="nv">c</span> : Ballot),
      (b &gt; c)%N
      ‚Üí SafeAt Quorum s v b
        ‚Üí ballot_chose s c w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkdc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">v</span> <span class="nv">w</span> : Value) (<span class="nv">b</span> <span class="nv">c</span> : Ballot),
      (b &gt; c)%N
      ‚Üí SafeAt Quorum s v b
        ‚Üí ballot_chose s c w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkdd"><span class="nb">intros</span> s Hs v w b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
  (b &gt; c)%N
  ‚Üí SafeAt Quorum s v b ‚Üí ballot_chose s c w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkde"><span class="nb">set</span> (P b := <span class="kr">forall</span> (<span class="nv">c</span> : Ballot),
    (b &gt; c)%N -&gt; SafeAt Quorum s v b -&gt; ballot_chose s c w -&gt; v = w).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
  (b &gt; c)%N
  ‚Üí SafeAt Quorum s v b ‚Üí ballot_chose s c w ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkdf"><span class="nb">fold</span> (P b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke0"><span class="nb">induction</span> b <span class="nb">using</span> N.peano_ind; [<span class="bp">by</span> <span class="nb">intro</span>; <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P (N.succ b)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke1"><span class="nb">intros</span> c Hc Hsafe Hchosen.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>(N.succ b &gt; c)%N</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke2"><span class="nb">apply</span> N.gt_lt, N.lt_succ_r, N.lt_eq_cases <span class="kr">in</span> Hc <span class="kr">as</span> [Hc%N.lt_gt | -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>(b &gt; c)%N</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chke3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br></div><label class="goal-separator" for="Voting-v-chke3"><hr></label><div class="goal-conclusion">v = w</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>(b &gt; c)%N</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke5"><span class="nb">apply</span> (IHb c Hc); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>(b &gt; c)%N</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> d Hd; <span class="nb">apply</span> Hsafe; ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke7"><span class="nb">eapply</span> cbq_blocks; [| <span class="bp">by</span> <span class="nb">apply</span> Hchosen].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>N</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">b</span> : N,
  <span class="kr">‚àÄ</span> <span class="nv">c</span> : Ballot,
    (b &gt; c)%N
    ‚Üí SafeAt Quorum s v b
      ‚Üí ballot_chose s c w ‚Üí v = w</span></span><span class="hyp-type"><b>: </b><span>N ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>IHb</var><span class="hyp-type"><b>: </b><span>P b</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v (N.succ b)</span></span></span><br><span><var>Hchosen</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum Quorum s b v Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hsafe; ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke8"><span class="kn">Lemma</span> <span class="nf">Q_nonempty</span> :
  <span class="kr">forall</span> (<span class="nv">Q</span> : sig Quorum), <span class="kr">exists</span> <span class="nv">a</span>, a ‚àà `Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x}, <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chke9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">Q</span> : {x : ASet | Quorum x}, <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkea"><span class="nb">intros</span> Q.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkeb"><span class="nb">destruct</span> (QA Q Q) <span class="kr">as</span> [a Ha].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">a</span>; <span class="nb">apply</span> intersection_idemp.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkec"><span class="kn">Lemma</span> <span class="nf">VT1</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    acceptor_no_conflict_prop s -&gt;
    acceptor_votes_safe_prop s -&gt;
    <span class="kr">forall</span> (<span class="nv">v</span> <span class="nv">w</span> : Value),
      v ‚àà chosen s -&gt; w ‚àà chosen s -&gt; v = w.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí acceptor_no_conflict_prop s
    ‚Üí acceptor_votes_safe_prop s
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">v</span> <span class="nv">w</span> : Value,
          v ‚àà chosen s ‚Üí w ‚àà chosen s ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chked"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí acceptor_no_conflict_prop s
    ‚Üí acceptor_votes_safe_prop s
      ‚Üí <span class="kr">‚àÄ</span> <span class="nv">v</span> <span class="nv">w</span> : Value,
          v ‚àà chosen s ‚Üí w ‚àà chosen s ‚Üí v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkee"><span class="nb">intros</span> s Hs Hinv1 Hinv2 v w Hv Hw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>w ‚àà chosen s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkef"><span class="nb">apply</span> chosen_iff <span class="kr">in</span> Hv <span class="kr">as</span> [b Hchose_v].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>w ‚àà chosen s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf0"><span class="nb">apply</span> chosen_iff <span class="kr">in</span> Hw <span class="kr">as</span> [c Hchose_w].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf1"><span class="nb">destruct</span> (Hchose_v) <span class="kr">as</span> [Q Hv].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf2"><span class="nb">destruct</span> (Hchose_w) <span class="kr">as</span> [R Hw].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf3"><span class="nb">destruct</span> (Q_nonempty Q) <span class="kr">as</span> [av Hav].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>av ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf4"><span class="nb">destruct</span> (Q_nonempty R) <span class="kr">as</span> [aw Haw].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>av ‚àà `Q</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>aw ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf5"><span class="nb">apply</span> Hv <span class="kr">in</span> Hav.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>aw ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf6"><span class="nb">apply</span> Hw <span class="kr">in</span> Haw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf7"><span class="nb">simpl</span> <span class="kr">in</span> Hv, Hw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf8"><span class="nb">assert</span> (SafeAt Quorum s v b) <span class="bp">by</span> (<span class="nb">eapply</span> Hinv2; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkf9"><span class="nb">assert</span> (SafeAt Quorum s w c) <span class="bp">by</span> (<span class="nb">eapply</span> Hinv2; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkfa"><span class="nb">destruct</span> (N.lt_total b c) <span class="kr">as</span> [H_b_lt_c | [H_bc | H_c_lt_b]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_b_lt_c</var><span class="hyp-type"><b>: </b><span>(b &lt; c)%N</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chkfb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_bc</var><span class="hyp-type"><b>: </b><span>b = c</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkfb"><hr></label><div class="goal-conclusion">v = w</div></blockquote><input class="alectryon-extra-goal-toggle" id="Voting-v-chkfc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_c_lt_b</var><span class="hyp-type"><b>: </b><span>(c &lt; b)%N</span></span></span><br></div><label class="goal-separator" for="Voting-v-chkfc"><hr></label><div class="goal-conclusion">v = w</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkfd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_b_lt_c</var><span class="hyp-type"><b>: </b><span>(b &lt; c)%N</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkfe"><span class="nb">apply</span> N.lt_gt <span class="kr">in</span> H_b_lt_c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_b_lt_c</var><span class="hyp-type"><b>: </b><span>(c &gt; b)%N</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chkff"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_b_lt_c</var><span class="hyp-type"><b>: </b><span>(c &gt; b)%N</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> VT0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk100">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_bc</var><span class="hyp-type"><b>: </b><span>b = c</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk101"><span class="nb">destruct</span> (QA Q R) <span class="kr">as</span> [a Ha].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_bc</var><span class="hyp-type"><b>: </b><span>b = c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk102"><span class="nb">apply</span> elem_of_intersection <span class="kr">in</span> Ha <span class="kr">as</span> [Ha_Q Ha_R].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_bc</var><span class="hyp-type"><b>: </b><span>b = c</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_R</var><span class="hyp-type"><b>: </b><span>a ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk103"><span class="nb">subst</span> c.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) b w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_R</var><span class="hyp-type"><b>: </b><span>a ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk104"><span class="nb">apply</span> (Hinv1 a b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) b w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_R</var><span class="hyp-type"><b>: </b><span>a ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk105" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) b w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_R</var><span class="hyp-type"><b>: </b><span>a ‚àà `R</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk105"><hr></label><div class="goal-conclusion">voted_for (s a) b w</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk106">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) b w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_R</var><span class="hyp-type"><b>: </b><span>a ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk107">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s b w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) b w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w b</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Ha_R</var><span class="hyp-type"><b>: </b><span>a ‚àà `R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hw.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk108">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_c_lt_b</var><span class="hyp-type"><b>: </b><span>(c &lt; b)%N</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk109"><span class="nb">apply</span> N.lt_gt <span class="kr">in</span> H_c_lt_b.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hinv1</var><span class="hyp-type"><b>: </b><span>acceptor_no_conflict_prop s</span></span></span><br><span><var>Hinv2</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>v, w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_v</var><span class="hyp-type"><b>: </b><span>ballot_chose s b v</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hchose_w</var><span class="hyp-type"><b>: </b><span>ballot_chose s c w</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>R</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum R
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) c w)</span></span></span><br><span><var>av</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hav</var><span class="hyp-type"><b>: </b><span>voted_for (s av) b v</span></span></span><br><span><var>aw</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Haw</var><span class="hyp-type"><b>: </b><span>voted_for (s aw) c w</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w c</span></span></span><br><span><var>H_c_lt_b</var><span class="hyp-type"><b>: </b><span>(b &gt; c)%N</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v = w</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> VT0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10a"><span class="kn">Lemma</span> <span class="nf">prev_vote_committed</span> :
  <span class="kr">forall</span> [l s s&#39; om om&#39;],
    input_valid_transition (voting_vlsm Quorum) l (s, om) (s&#39;, om&#39;) -&gt;
    <span class="kr">forall</span> <span class="nv">a</span> <span class="nv">b</span> <span class="nv">v</span>, vote_committed (s a) b -&gt; voted_for (s&#39; a) b v -&gt; voted_for (s a) b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span>
                                    <span class="nv">s&#39;</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> <span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      vote_committed (s a) b
      ‚Üí voted_for (s&#39; a) b v ‚Üí voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span>
                                    <span class="nv">s&#39;</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> <span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      vote_committed (s a) b
      ‚Üí voted_for (s&#39; a) b v ‚Üí voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10c"><span class="nb">intros</span> * Ht *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vote_committed (s a) b
‚Üí voted_for (s&#39; a) b v ‚Üí voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10d"><span class="nb">apply</span> step_cases&#39; <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {|
          votes := votes (s i); maxBal := Some b&#39;
        |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes :=
                  mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vote_committed (s a) b
‚Üí voted_for (s&#39; a) b v ‚Üí voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10e"><span class="nb">unfold</span> vote_committed, voted_for.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {|
          votes := votes (s i); maxBal := Some b&#39;
        |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes :=
                  mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v ‚àà votes (s&#39; a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk10f"><span class="nb">destruct</span> l <span class="kr">as</span> [i []].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) &lt; b0)%Z
‚àß s&#39; =
  state_update IM s i
    {| votes := votes (s i); maxBal := Some b0 |}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v ‚àà votes (s&#39; a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk110" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) ‚â§ b0)%Z
‚àß did_not_vote_in (s i) b0
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
       j ‚â† i ‚Üí voted_none_but (s j) b0 v0)
    ‚àß SafeAt Quorum s v0 b0
      ‚àß s&#39; =
        state_update IM s i
          {|
            votes :=
              mmap_insert b0 v0 (votes (s i));
            maxBal := Some b0
          |}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk110"><hr></label><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v ‚àà votes (s&#39; a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk111">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) &lt; b0)%Z
‚àß s&#39; =
  state_update IM s i
    {| votes := votes (s i); maxBal := Some b0 |}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v ‚àà votes (s&#39; a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk112"><span class="nb">destruct</span> Ht <span class="kr">as</span> [Hb -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) &lt; b0)%Z</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v
  ‚àà votes
      (state_update IM s i
         {| votes := votes (s i); maxBal := Some b0 |}
         a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk113"><span class="nb">destruct</span> (decide (a = i)); [| <span class="bp">by</span> <span class="nb">rewrite</span> state_update_neq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) &lt; b0)%Z</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v
  ‚àà votes
      (state_update IM s i
         {| votes := votes (s i); maxBal := Some b0 |}
         a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span> i; <span class="nb">rewrite</span> state_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk114">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) ‚â§ b0)%Z
‚àß did_not_vote_in (s i) b0
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
       j ‚â† i ‚Üí voted_none_but (s j) b0 v0)
    ‚àß SafeAt Quorum s v0 b0
      ‚àß s&#39; =
        state_update IM s i
          {|
            votes :=
              mmap_insert b0 v0 (votes (s i));
            maxBal := Some b0
          |}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v ‚àà votes (s&#39; a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk115"><span class="nb">destruct</span> Ht <span class="kr">as</span> (Hbal &amp; Hnv &amp; _ &amp; _ &amp; -&gt;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) ‚â§ b0)%Z</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s i) b0</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v
  ‚àà votes
      (state_update IM s i
         {|
           votes := mmap_insert b0 v0 (votes (s i));
           maxBal := Some b0
         |} a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk116"><span class="nb">destruct</span> (decide (a = i)); [| <span class="bp">by</span> <span class="nb">rewrite</span> state_update_neq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(maxBal (s i) ‚â§ b0)%Z</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s i) b0</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v
  ‚àà votes
      (state_update IM s i
         {|
           votes := mmap_insert b0 v0 (votes (s i));
           maxBal := Some b0
         |} a) !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk117"><span class="nb">subst</span> i; <span class="nb">rewrite</span> state_update_eq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s a) b0</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(maxBal (s a) ‚â§ b0)%Z</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; b)%Z
‚Üí v
  ‚àà votes
      {|
        votes := mmap_insert b0 v0 (votes (s a));
        maxBal := Some b0
      |} !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk118"><span class="nb">destruct</span> (maxBal (s a)) <span class="kr">as</span> [mb_a |]; [| <span class="bp">by</span> <span class="nb">simpl</span>; ballot_lia].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s a) b0</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(Some mb_a ‚â§ b0)%Z</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Some mb_a &gt; b)%Z
‚Üí v
  ‚àà votes
      {|
        votes := mmap_insert b0 v0 (votes (s a));
        maxBal := Some b0
      |} !!! b ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk119"><span class="nb">simpl</span> <span class="kr">in</span> Hbal |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s a) b0</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a ‚â§ b0)%Z</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(Z.of_N mb_a &gt; b)%Z
‚Üí v ‚àà mmap_insert b0 v0 (votes (s a)) !!! b
  ‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk11a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk11a"><span class="nb">intros</span> Hb.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s a) b0</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a ‚â§ b0)%Z</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a &gt; b)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà mmap_insert b0 v0 (votes (s a)) !!! b
‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk11b"><span class="nb">assert</span> (b &lt;&gt; b0)%Z <span class="bp">by</span> ballot_lia.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s a) b0</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a ‚â§ b0)%Z</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a &gt; b)%Z</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>b ‚â† b0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà mmap_insert b0 v0 (votes (s a)) !!! b
‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk11c"><span class="nb">rewrite</span> elem_of_mmap_insert.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hnv</var><span class="hyp-type"><b>: </b><span>did_not_vote_in (s a) b0</span></span></span><br><span><var>mb_a</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a ‚â§ b0)%Z</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hb</var><span class="hyp-type"><b>: </b><span>(Z.of_N mb_a &gt; b)%Z</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>b ‚â† b0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v0 = v ‚àß b0 = b ‚à® v ‚àà votes (s a) !!! b
‚Üí v ‚àà votes (s a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk11d"><span class="kn">Lemma</span> <span class="nf">safe_at_preserved</span> :
  <span class="kr">forall</span> [l s s&#39; om om&#39;],
    input_valid_transition (voting_vlsm Quorum) l (s, om) (s&#39;, om&#39;) -&gt;
    <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">v</span>, SafeAt Quorum s b v -&gt; SafeAt Quorum s&#39; b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span>
                                    <span class="nv">s&#39;</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> <span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b</span> : Value) (<span class="nv">v</span> : Ballot),
      SafeAt Quorum s b v ‚Üí SafeAt Quorum s&#39; b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk11e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span>
                                    <span class="nv">s&#39;</span> : state
                                           (voting_vlsm
                                              Quorum)) 
  (<span class="nv">om</span> <span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b</span> : Value) (<span class="nv">v</span> : Ballot),
      SafeAt Quorum s b v ‚Üí SafeAt Quorum s&#39; b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk11f"><span class="nb">intros</span> l s s&#39; om om&#39; Ht b v Hsafe d Hd.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum Quorum s&#39; d b Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk120"><span class="nb">destruct</span> (Hsafe d Hd) <span class="kr">as</span> (Q &amp; Hbal &amp; Hvotes).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) d)</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Q</span> : {x : ASet | Quorum x},
  consensus_blocking_quorum Quorum s&#39; d b Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk121"><span class="kr">exists</span> <span class="nv">Q</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, vote_committed (s a) d)</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_none_but (s a) d b)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">consensus_blocking_quorum Quorum s&#39; d b Q</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk122"><span class="nb">split</span>; <span class="nb">intros</span> a Ha; <span class="nb">specialize</span> (Hbal a Ha); <span class="nb">specialize</span> (Hvotes a Ha); <span class="nb">simpl</span> <span class="kr">in</span> Hbal, Hvotes.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>vote_committed (s a) d</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vote_committed (s&#39; a) d</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk123" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>vote_committed (s a) d</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk123"><hr></label><div class="goal-conclusion">voted_none_but (s&#39; a) d b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk124">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>vote_committed (s a) d</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vote_committed (s&#39; a) d</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk125"><span class="nb">revert</span> Hbal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">vote_committed (s a) d ‚Üí vote_committed (s&#39; a) d</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk126"><span class="nb">unfold</span> vote_committed.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; d)%Z ‚Üí (maxBal (s&#39; a) &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk127"><span class="nb">pose proof</span> (step_cases&#39;&#39; Ht a) <span class="kr">as</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">if</span> decide (a = i)
<span class="kr">then</span>
 s&#39; a =
 {|
   votes :=
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound _ =&gt; votes (s a)
     | Vote b v =&gt;
         mmap_insert b v (votes (s a))
     <span class="kr">end</span>;
   maxBal :=
     Some
       <span class="kr">match</span> l <span class="kr">with</span>
       | SkipToRound b&#39; =&gt; b&#39;
       | Vote b _ =&gt; b
       <span class="kr">end</span>
 |}
<span class="kr">else</span> s&#39; a = s a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; d)%Z ‚Üí (maxBal (s&#39; a) &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk128"><span class="nb">destruct</span> l <span class="kr">as</span> [i l].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i l) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span> decide (a = i)
<span class="kr">then</span>
 s&#39; a =
 {|
   votes :=
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound _ =&gt; votes (s a)
     | Vote b v =&gt;
         mmap_insert b v (votes (s a))
     <span class="kr">end</span>;
   maxBal :=
     Some
       <span class="kr">match</span> l <span class="kr">with</span>
       | SkipToRound b&#39; =&gt; b&#39;
       | Vote b _ =&gt; b
       <span class="kr">end</span>
 |}
<span class="kr">else</span> s&#39; a = s a</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; d)%Z ‚Üí (maxBal (s&#39; a) &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk129"><span class="nb">destruct</span> (decide (a = i)); [| <span class="bp">by</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i l) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br><span><var>Hstep</var><span class="hyp-type"><b>: </b><span>s&#39; a =
{|
  votes :=
    <span class="kr">match</span> l <span class="kr">with</span>
    | SkipToRound _ =&gt; votes (s a)
    | Vote b v =&gt;
        mmap_insert b v (votes (s a))
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> l <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; d)%Z ‚Üí (maxBal (s&#39; a) &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12a"><span class="nb">rewrite</span> Hstep; <span class="nb">cbn</span>; <span class="nb">clear</span> Hstep.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i l) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; d)%Z
‚Üí (Z.of_N
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound b&#39; =&gt; b&#39;
     | Vote b _ =&gt; b
     <span class="kr">end</span> &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12b"><span class="nb">apply</span> step_cases&#39; <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {|
          votes := votes (s i); maxBal := Some b&#39;
        |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes :=
                  mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s a) &gt; d)%Z
‚Üí (Z.of_N
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound b&#39; =&gt; b&#39;
     | Vote b _ =&gt; b
     <span class="kr">end</span> &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12c"><span class="nb">subst</span> a.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label acceptor_vlsm</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound b&#39; =&gt;
    (maxBal (s i) &lt; b&#39;)%Z
    ‚àß s&#39; =
      state_update IM s i
        {|
          votes := votes (s i); maxBal := Some b&#39;
        |}
| Vote b v =&gt;
    (maxBal (s i) ‚â§ b)%Z
    ‚àß did_not_vote_in (s i) b
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">j</span> : Acceptor,
           j ‚â† i ‚Üí voted_none_but (s j) b v)
        ‚àß SafeAt Quorum s v b
          ‚àß s&#39; =
            state_update IM s i
              {|
                votes :=
                  mmap_insert b v (votes (s i));
                maxBal := Some b
              |}
<span class="kr">end</span></span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>i ‚àà `Q</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s i) d b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(maxBal (s i) &gt; d)%Z
‚Üí (Z.of_N
     <span class="kr">match</span> l <span class="kr">with</span>
     | SkipToRound b&#39; =&gt; b&#39;
     | Vote b _ =&gt; b
     <span class="kr">end</span> &gt; d)%Z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l; <span class="nb">simpl</span> <span class="kr">in</span> Ht |- *;
      <span class="nb">destruct</span> Ht <span class="kr">as</span> [Ht _]; <span class="nb">revert</span> Ht;
      <span class="nb">destruct</span> (maxBal (s i)); <span class="nb">simpl</span>; ballot_lia.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>vote_committed (s a) d</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_none_but (s&#39; a) d b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12e"><span class="nb">unfold</span> voted_none_but.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>vote_committed (s a) d</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">w</span> : Value, voted_for (s&#39; a) d w ‚Üí w = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk12f"><span class="nb">intros</span> w Hw.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s b v</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>(d &lt; v)%Z</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Hbal</var><span class="hyp-type"><b>: </b><span>vote_committed (s a) d</span></span></span><br><span><var>Hvotes</var><span class="hyp-type"><b>: </b><span>voted_none_but (s a) d b</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>voted_for (s&#39; a) d w</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">w = b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hvotes, (prev_vote_committed Ht).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
<span class="c">(* Need invariance of VInv2 VInv3 VInv4 *)</span>

</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk130"><span class="kn">Lemma</span> <span class="nf">inv_acceptor_votes_safe</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    acceptor_votes_safe_prop s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí acceptor_votes_safe_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk131"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí acceptor_votes_safe_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk132"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">acceptor_votes_safe_prop s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk133"><span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind; <span class="nb">unfold</span> acceptor_votes_safe_prop; <span class="nb">intros</span> a b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí SafeAt Quorum s v b</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk134" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk134"><hr></label><div class="goal-conclusion">voted_for (s&#39; a) b v ‚Üí SafeAt Quorum s&#39; v b</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk135">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí SafeAt Quorum s v b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk136"><span class="nb">intros</span> Hvote; <span class="bp">contradict</span> Hvote.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ voted_for (s a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk137"><span class="nb">rewrite</span> (Hs a).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ voted_for acceptor_initial b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk138"><span class="nb">unfold</span> voted_for; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ ‚àÖ !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk139"><span class="nb">rewrite</span> lookup_total_empty; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àâ ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> not_elem_of_empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s&#39; a) b v ‚Üí SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13b"><span class="nb">intros</span> Hvote.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hvote</var><span class="hyp-type"><b>: </b><span>voted_for (s&#39; a) b v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13c"><span class="nb">apply</span> (prev_votes Ht) <span class="kr">in</span> Hvote.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hvote</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b v
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß v = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13d"><span class="nb">pose proof</span> (Hpres := safe_at_preserved Ht v b).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>acceptor_votes_safe_prop s</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hvote</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b v
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß v = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
<span class="kr">end</span></span></span></span><br><span><var>Hpres</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b ‚Üí SafeAt Quorum s&#39; v b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13e"><span class="nb">specialize</span> (IHHs a b v).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>voted_for (s a) b v ‚Üí SafeAt Quorum s v b</span></span></span><br><span><var>Hvote</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, l) := l <span class="kr">in</span>
<span class="kr">match</span> l <span class="kr">with</span>
| SkipToRound _ =&gt; voted_for (s a) b v
| Vote bv vv =&gt;
    a = i ‚àß b = bv ‚àß v = vv
    ‚à® (a ‚â† i ‚à® b ‚â† bv) ‚àß voted_for (s a) b v
<span class="kr">end</span></span></span></span><br><span><var>Hpres</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b ‚Üí SafeAt Quorum s&#39; v b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk13f"><span class="nb">destruct</span> l <span class="kr">as</span> [i [b&#39; | b&#39; w]]; [<span class="bp">by</span> <span class="nb">auto</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i (Vote b&#39; w)) (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>voted_for (s a) b v ‚Üí SafeAt Quorum s v b</span></span></span><br><span><var>Hvote</var><span class="hyp-type"><b>: </b><span>a = i ‚àß b = b&#39; ‚àß v = w
‚à® (a ‚â† i ‚à® b ‚â† b&#39;) ‚àß voted_for (s a) b v</span></span></span><br><span><var>Hpres</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b ‚Üí SafeAt Quorum s&#39; v b</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk140"><span class="nb">assert</span> (Hw : SafeAt Quorum s w b&#39;) <span class="bp">by</span> (<span class="nb">apply</span> step_cases <span class="kr">in</span> Ht; <span class="nb">apply</span> Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b'</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>w</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (existT i (Vote b&#39; w)) (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>voted_for (s a) b v ‚Üí SafeAt Quorum s v b</span></span></span><br><span><var>Hvote</var><span class="hyp-type"><b>: </b><span>a = i ‚àß b = b&#39; ‚àß v = w
‚à® (a ‚â† i ‚à® b ‚â† b&#39;) ‚àß voted_for (s a) b v</span></span></span><br><span><var>Hpres</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s v b ‚Üí SafeAt Quorum s&#39; v b</span></span></span><br><span><var>Hw</var><span class="hyp-type"><b>: </b><span>SafeAt Quorum s w b&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">SafeAt Quorum s&#39; v b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">decompose</span> [<span class="kn">and</span> or] Hvote; <span class="nb">subst</span>; <span class="nb">auto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk141"><span class="kn">Lemma</span> <span class="nf">vote_stable</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>,
    input_valid_transition (voting_vlsm Quorum) l (s, om) (s&#39;, om&#39;) -&gt;
    <span class="kr">forall</span> <span class="nv">a</span> (<span class="nv">b</span> : Ballot) <span class="nv">v</span>,
      voted_for (s a) b v -&gt; voted_for (s&#39; a) b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                          (voting_vlsm
                                             Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      voted_for (s a) b v ‚Üí voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk142"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                          (voting_vlsm
                                             Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">a</span> : Acceptor) (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      voted_for (s a) b v ‚Üí voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk143"><span class="nb">intros</span> * Ht a b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk144"><span class="nb">pose proof</span> (sigT_prod_sigT l); <span class="nb">destruct</span> (prod_of_sigT l) <span class="kr">as</span> [i li]; <span class="nb">subst</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>acceptor_label</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum)
  (sigT_of_prod (i, li)) (
  s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk145"><span class="nb">apply</span> step_cases&#39;&#39; <span class="kr">with</span> (a := a) <span class="kr">in</span> Ht; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>acceptor_label</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">if</span> decide (a = i)
<span class="kr">then</span>
 s&#39; a =
 {|
   votes :=
     <span class="kr">match</span> li <span class="kr">with</span>
     | SkipToRound _ =&gt; votes (s a)
     | Vote b v =&gt; mmap_insert b v (votes (s a))
     <span class="kr">end</span>;
   maxBal :=
     Some
       <span class="kr">match</span> li <span class="kr">with</span>
       | SkipToRound b&#39; =&gt; b&#39;
       | Vote b _ =&gt; b
       <span class="kr">end</span>
 |}
<span class="kr">else</span> s&#39; a = s a</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk146"><span class="nb">destruct</span> (decide (a = i)); [| <span class="bp">by</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>acceptor_label</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>s&#39; a =
{|
  votes :=
    <span class="kr">match</span> li <span class="kr">with</span>
    | SkipToRound _ =&gt; votes (s a)
    | Vote b v =&gt; mmap_insert b v (votes (s a))
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> li <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s a) b v ‚Üí voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk147"><span class="nb">unfold</span> voted_for.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>acceptor_label</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>s&#39; a =
{|
  votes :=
    <span class="kr">match</span> li <span class="kr">with</span>
    | SkipToRound _ =&gt; votes (s a)
    | Vote b v =&gt; mmap_insert b v (votes (s a))
    <span class="kr">end</span>;
  maxBal :=
    Some
      <span class="kr">match</span> li <span class="kr">with</span>
      | SkipToRound b&#39; =&gt; b&#39;
      | Vote b _ =&gt; b
      <span class="kr">end</span>
|}</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà votes (s a) !!! b ‚Üí v ‚àà votes (s&#39; a) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk148"><span class="nb">destruct</span> li; <span class="nb">rewrite</span> Ht; <span class="nb">cbn</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>b0</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v0</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>a = i</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>s&#39; a =
{|
  votes := mmap_insert b0 v0 (votes (s a));
  maxBal := Some b0
|}</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà votes (s a) !!! b
‚Üí v ‚àà mmap_insert b0 v0 (votes (s a)) !!! b</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> elem_of_mmap_insert; itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk149"><span class="kn">Lemma</span> <span class="nf">choice_stable</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>,
    input_valid_transition (voting_vlsm Quorum) l (s, om) (s&#39;, om&#39;) -&gt;
    <span class="kr">forall</span> <span class="nv">b</span> <span class="nv">v</span>,
      ballot_chose s b v -&gt; ballot_chose s&#39; b v.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                          (voting_vlsm
                                             Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      ballot_chose s b v ‚Üí ballot_chose s&#39; b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm Quorum)) (<span class="nv">s</span> : state
                                          (voting_vlsm
                                             Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state (voting_vlsm Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition (voting_vlsm Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : Value),
      ballot_chose s b v ‚Üí ballot_chose s&#39; b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14b"><span class="nb">intros</span> l s om s&#39; om&#39; Ht b v [Q HQ].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ballot_chose s&#39; b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14c"><span class="kr">exists</span> <span class="nv">Q</span>; <span class="nb">intros</span> a Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm Quorum)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition (voting_vlsm Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>b</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HQ</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for (s&#39; a) b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> vote_stable, HQ.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14d"><span class="kn">Lemma</span> <span class="nf">voting_safe</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">v1</span> <span class="nv">b2</span> <span class="nv">v2</span>,
      ballot_chose s b1 v1 -&gt; ballot_chose s b2 v2 -&gt;
      v1 = v2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
      ballot_chose s b1 v1
      ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
      ballot_chose s b1 v1
      ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk14f"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk150"><span class="kr">match goal with</span>
  |- <span class="kr">forall</span> <span class="nv">b1</span> <span class="nv">v1</span> <span class="nv">b2</span> <span class="nv">v2</span>, @<span class="nl">?P</span> b1 v1 b2 v2 =&gt;
      <span class="nb">cut</span> (<span class="kr">forall</span> (<span class="nv">b1</span> : Ballot) <span class="nv">v1</span> (<span class="nv">b2</span> : Ballot) <span class="nv">v2</span>, (b1 &lt; b2)%Z -&gt; P b1 v1 b2 v2)
  <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
   (b1 &lt; b2)%Z
   ‚Üí (<span class="kr">Œª</span> (<span class="nv">b3</span> : Ballot) (<span class="nv">v3</span> : Value) (<span class="nv">b4</span> : Ballot) (<span class="nv">v4</span> : Value),
        ballot_chose s b3 v3
        ‚Üí ballot_chose s b4 v4 ‚Üí v3 = v4) b1 v1 b2 v2)
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
    ballot_chose s b1 v1
    ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk151" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk151"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  (b1 &lt; b2)%Z
  ‚Üí (<span class="kr">Œª</span> (<span class="nv">b3</span> : Ballot) (<span class="nv">v3</span> : Value) 
       (<span class="nv">b4</span> : Ballot) (<span class="nv">v4</span> : Value),
       ballot_chose s b3 v3
       ‚Üí ballot_chose s b4 v4 ‚Üí v3 = v4) b1 v1 b2 v2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk152">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
   (b1 &lt; b2)%Z
   ‚Üí (<span class="kr">Œª</span> (<span class="nv">b3</span> : Ballot) (<span class="nv">v3</span> : Value) (<span class="nv">b4</span> : Ballot) (<span class="nv">v4</span> : Value),
        ballot_chose s b3 v3
        ‚Üí ballot_chose s b4 v4 ‚Üí v3 = v4) b1 v1 b2 v2)
‚Üí <span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
    ballot_chose s b1 v1
    ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk153"><span class="nb">intros</span> Hwlog * Hv1 Hv2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>Hwlog</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  (b1 &lt; b2)%Z
  ‚Üí (<span class="kr">Œª</span> (<span class="nv">b3</span> : Ballot) (<span class="nv">v3</span> : Value) 
       (<span class="nv">b4</span> : Ballot) (<span class="nv">v4</span> : Value),
       ballot_chose s b3 v3
       ‚Üí ballot_chose s b4 v4 ‚Üí v3 = v4) b1 v1
      b2 v2</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv1</var><span class="hyp-type"><b>: </b><span>ballot_chose s b1 v1</span></span></span><br><span><var>Hv2</var><span class="hyp-type"><b>: </b><span>ballot_chose s b2 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk154"><span class="nb">destruct</span> (Z.lt_total b1 b2) <span class="kr">as</span> [| [Heq |]]; [<span class="bp">by</span> <span class="nb">eauto</span> | <span class="nb">clear</span> Hwlog | <span class="bp">by</span> <span class="nb">symmetry</span>; <span class="nb">eauto</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv1</var><span class="hyp-type"><b>: </b><span>ballot_chose s b1 v1</span></span></span><br><span><var>Hv2</var><span class="hyp-type"><b>: </b><span>ballot_chose s b2 v2</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>b1 = b2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk155"><span class="nb">apply</span> (inj_iff Ballot_to_Z) <span class="kr">in</span> Heq; <span class="nb">subst</span> b2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv1</var><span class="hyp-type"><b>: </b><span>ballot_chose s b1 v1</span></span></span><br><span><var>Hv2</var><span class="hyp-type"><b>: </b><span>ballot_chose s b1 v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk156"><span class="nb">destruct</span> Hv1 <span class="kr">as</span> [Q_v1 Hv1], Hv2 <span class="kr">as</span> [Q_v2 Hv2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk157"><span class="nb">destruct</span> (QA Q_v1 Q_v2) <span class="kr">as</span> [a [Ha_Q1 Ha_Q2]%elem_of_intersection].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1, v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>Hv2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v2)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q1</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q_v1</span></span></span><br><span><var>Ha_Q2</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q_v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> (inv_acceptor_no_conflict _ Hs); <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk158">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  (b1 &lt; b2)%Z
  ‚Üí (<span class="kr">Œª</span> (<span class="nv">b3</span> : Ballot) (<span class="nv">v3</span> : Value) (<span class="nv">b4</span> : Ballot) (<span class="nv">v4</span> : Value),
       ballot_chose s b3 v3
       ‚Üí ballot_chose s b4 v4 ‚Üí v3 = v4) b1 v1 b2 v2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk159"><span class="nb">intros</span> b1 v1 b2 v2 H_lt [Q_v1 H_v1] [Q_v2 H_v2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>H_lt</var><span class="hyp-type"><b>: </b><span>(b1 &lt; b2)%Z</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b2 v2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15a"><span class="nb">destruct</span> (Q_nonempty Q_v2) <span class="kr">as</span> [a2 Ha2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>H_lt</var><span class="hyp-type"><b>: </b><span>(b1 &lt; b2)%Z</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b2 v2)</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a2 ‚àà `Q_v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15b"><span class="nb">pose proof</span> (inv_acceptor_votes_safe _ Hs a2 _ _ (H_v2 _ Ha2) b1 H_lt) <span class="kr">as</span> [Q12 H_b1_v2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>H_lt</var><span class="hyp-type"><b>: </b><span>(b1 &lt; b2)%Z</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b2 v2)</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a2 ‚àà `Q_v2</span></span></span><br><span><var>Q12</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_b1_v2</var><span class="hyp-type"><b>: </b><span>consensus_blocking_quorum Quorum s b1 v2 Q12</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15c"><span class="nb">destruct</span> (QA Q_v1 Q12) <span class="kr">as</span> [a [Ha_Q1 Ha_Q12]%elem_of_intersection].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>H_lt</var><span class="hyp-type"><b>: </b><span>(b1 &lt; b2)%Z</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b2 v2)</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a2 ‚àà `Q_v2</span></span></span><br><span><var>Q12</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_b1_v2</var><span class="hyp-type"><b>: </b><span>consensus_blocking_quorum Quorum s b1 v2 Q12</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q1</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q_v1</span></span></span><br><span><var>Ha_Q12</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q12</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15d"><span class="nb">destruct</span> H_b1_v2 <span class="kr">as</span> [_ H_b1_v2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>b1</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v1</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>b2</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>v2</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>H_lt</var><span class="hyp-type"><b>: </b><span>(b1 &lt; b2)%Z</span></span></span><br><span><var>Q_v1</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v1</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v1
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b1 v1)</span></span></span><br><span><var>Q_v2</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_v2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q_v2
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for (s a) b2 v2)</span></span></span><br><span><var>a2</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha2</var><span class="hyp-type"><b>: </b><span>a2 ‚àà `Q_v2</span></span></span><br><span><var>Q12</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>H_b1_v2</var><span class="hyp-type"><b>: </b><span>allQuorum Quorum Q12
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor,
     voted_none_but (s a) b1 v2)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha_Q1</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q_v1</span></span></span><br><span><var>Ha_Q12</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q12</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v1 = v2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (H_b1_v2 _ Ha_Q12) <span class="kr">in</span> H_v1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15e"><span class="kn">Lemma</span> <span class="nf">chosen_subsingleton</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm Quorum) s -&gt;
    <span class="kr">forall</span> <span class="nv">v</span>, v ‚àà chosen s -&gt; chosen s ‚â° {[ v ]}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">v</span> : Value, v ‚àà chosen s ‚Üí chosen s ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk15f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm Quorum),
  valid_state_prop (voting_vlsm Quorum) s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">v</span> : Value, v ‚àà chosen s ‚Üí chosen s ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk160"><span class="nb">intros</span> s Hs v Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">chosen s ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk161"><span class="nb">pose proof</span> (Hsafe := voting_safe s Hs).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">chosen s ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk162"><span class="nb">rewrite</span> set_equiv; <span class="nb">intros</span> x; <span class="nb">rewrite</span> elem_of_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà chosen s ‚Üî x = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk163"><span class="nb">split</span>; [| <span class="bp">by</span> <span class="nb">intros</span> -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x ‚àà chosen s ‚Üí x = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk164"><span class="nb">intros</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà chosen s</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà chosen s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk165"><span class="nb">apply</span> chosen_iff <span class="kr">in</span> Hv <span class="kr">as</span> [bv Hv].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>ballot_chose s bv v</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x ‚àà chosen s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk166"><span class="nb">apply</span> chosen_iff <span class="kr">in</span> Hx <span class="kr">as</span> [bx Hx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Value, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf Value VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton Value VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements Value VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision Value</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet Value VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>IM</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">_</span> : Acceptor, acceptor_vlsm</span></span><span class="hyp-type"><b>: </b><span>Acceptor ‚Üí VLSM <span class="kt">False</span></span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (voting_vlsm Quorum) s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>ballot_chose s bv v</span></span></span><br><span><var>Hsafe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : Value) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : Value),
  ballot_chose s b1 v1
  ‚Üí ballot_chose s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Value</span></span></span><br><span><var>bx</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>ballot_chose s bx x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hsafe.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_voting_spec</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_voting_simulates_consensus</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">V</span> : <span class="kt">Type</span>)
  (<span class="nv">VSet</span> : <span class="kt">Type</span>) `{FinSet V VSet}
  {VSDec : RelDecision (‚àà@{VSet})}
  (CV : VLSM <span class="kt">False</span> := consensus_vlsm V VSet)
  (Acceptor : <span class="kt">Type</span>) `{finite.Finite Acceptor}
  (ASet : <span class="kt">Type</span>) `{FinSet Acceptor ASet}
  (Quorum : ASet -&gt; <span class="kt">Prop</span>) (QDec : <span class="kr">forall</span> <span class="nv">Q</span>, Decision (Quorum Q))
  (QA : <span class="kr">forall</span> (<span class="nv">Q1</span> <span class="nv">Q2</span> : sig Quorum), <span class="kr">exists</span> <span class="nv">a</span>, a ‚àà `Q1 ‚à© `Q2)
  (QClosed : Proper (subseteq ==&gt; impl) Quorum)
  (VV := voting_vlsm V VSet Acceptor ASet Quorum)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk167"><span class="kn">Lemma</span> <span class="nf">check_quorum</span> (<span class="nv">Q</span> : ASet) : {Quorum Q} + {<span class="kr">forall</span> <span class="nv">Q&#39;</span>, Q&#39; ‚äÜ Q -&gt; ¬¨ Quorum Q&#39;}.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Quorum Q} + {<span class="kr">‚àÄ</span> <span class="nv">Q&#39;</span> : ASet, Q&#39; ‚äÜ Q ‚Üí ¬¨ Quorum Q&#39;}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk168"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>ASet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{Quorum Q} + {<span class="kr">‚àÄ</span> <span class="nv">Q&#39;</span> : ASet, Q&#39; ‚äÜ Q ‚Üí ¬¨ Quorum Q&#39;}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (QDec Q); [<span class="nb">left</span> | <span class="nb">right</span>; <span class="nb">intros</span> Q&#39; -&gt;].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state_project</span> (<span class="nv">s</span> : state VV) : state CV :=
  chosen V VSet Acceptor ASet Quorum QDec QClosed s.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">label_state_project</span> (<span class="nv">s</span> : state VV) (<span class="nv">l</span> : label VV) : label CV :=
  <span class="kr">let</span> <span class="nv">cs</span> := state_project s <span class="kr">in</span>
  <span class="kr">if</span> decide (elements cs = [])
  <span class="kr">then</span>
    <span class="kr">let</span> <span class="nv">s&#39;</span> := fst (transition VV l (s, None)) <span class="kr">in</span>
    <span class="kr">match</span> elements (state_project s&#39;) <span class="kr">with</span>
    | v :: _ =&gt; Some (Decided _ v)
    | _ =&gt; None
    <span class="kr">end</span>
  <span class="kr">else</span> None.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">H_VSet_L</span> : LeibnizEquiv VSet)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk169"><span class="kn">Lemma</span> <span class="nf">voting_step_in_consensus</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s</span> <span class="nv">om</span> <span class="nv">s&#39;</span> <span class="nv">om&#39;</span>,
    input_valid_transition (voting_vlsm _ VSet _ ASet Quorum) l (s, om) (s&#39;, om&#39;) -&gt;
    valid_state_prop (consensus_vlsm _ VSet) (state_project s) -&gt;
    input_valid_transition (consensus_vlsm _ VSet)
      (label_state_project s l) (state_project s, om) (state_project s&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm V VSet Acceptor ASet Quorum)) 
  (<span class="nv">s</span> : state (voting_vlsm V VSet Acceptor ASet Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state
                              (voting_vlsm V VSet
                                 Acceptor ASet Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition
    (voting_vlsm V VSet Acceptor ASet Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí valid_state_prop (consensus_vlsm V VSet)
      (state_project s)
    ‚Üí input_valid_transition (consensus_vlsm V VSet)
        (label_state_project s l)
        (state_project s, om) (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk16a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (voting_vlsm V VSet Acceptor ASet Quorum)) 
  (<span class="nv">s</span> : state (voting_vlsm V VSet Acceptor ASet Quorum)) 
  (<span class="nv">om</span> : option <span class="kt">False</span>) (<span class="nv">s&#39;</span> : state
                              (voting_vlsm V VSet
                                 Acceptor ASet Quorum)) 
  (<span class="nv">om&#39;</span> : option <span class="kt">False</span>),
  input_valid_transition
    (voting_vlsm V VSet Acceptor ASet Quorum) l
    (s, om) (s&#39;, om&#39;)
  ‚Üí valid_state_prop (consensus_vlsm V VSet)
      (state_project s)
    ‚Üí input_valid_transition (consensus_vlsm V VSet)
        (label_state_project s l)
        (state_project s, om) (state_project s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk16b"><span class="nb">intros</span> l s [] s&#39; [] Ht H_proj_s; [<span class="bp">done</span>.. |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (consensus_vlsm V VSet)
  (label_state_project s l) (state_project s, None)
  (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk16c"><span class="nb">cut</span> (<span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
       <span class="kr">match</span> lc <span class="kr">with</span> Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ | None =&gt; <span class="kt">True</span> <span class="kr">end</span>
       /\ consensus_transition _ VSet lc (state_project s, None) = (state_project s&#39;, None)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
 <span class="kr">match</span> lc <span class="kr">with</span>
 | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
 | None =&gt; <span class="kt">True</span>
 <span class="kr">end</span>
 ‚àß consensus_transition V VSet lc
     (state_project s, None) =
   (state_project s&#39;, None))
‚Üí input_valid_transition (consensus_vlsm V VSet)
    (label_state_project s l) (state_project s, None)
    (state_project s&#39;, None)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk16d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk16d"><hr></label><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (
  state_project s&#39;, None)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk16e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
 <span class="kr">match</span> lc <span class="kr">with</span>
 | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
 | None =&gt; <span class="kt">True</span>
 <span class="kr">end</span>
 ‚àß consensus_transition V VSet lc
     (state_project s, None) =
   (state_project s&#39;, None))
‚Üí input_valid_transition (consensus_vlsm V VSet)
    (label_state_project s l) (state_project s, None)
    (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk16f"><span class="nb">pose proof</span> (option_valid_message_None (consensus_vlsm V VSet)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (consensus_vlsm V VSet) None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
 <span class="kr">match</span> lc <span class="kr">with</span>
 | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
 | None =&gt; <span class="kt">True</span>
 <span class="kr">end</span>
 ‚àß consensus_transition V VSet lc
     (state_project s, None) =
   (state_project s&#39;, None))
‚Üí input_valid_transition (consensus_vlsm V VSet)
    (label_state_project s l) (state_project s, None)
    (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> NewGoal; <span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="nb">apply</span> NewGoal..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk170">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk171"><span class="nb">apply</span> input_valid_transition_origin <span class="kr">in</span> Ht <span class="kr">as</span> Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk172"><span class="nb">apply</span> input_valid_transition_destination <span class="kr">in</span> Ht <span class="kr">as</span> Hs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk173"><span class="nb">pose proof</span> (Hs_safe := voting_safe _ VSet _ ASet Quorum QA QClosed s Hs).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk174"><span class="nb">pose proof</span> (Hs&#39;_safe := voting_safe _ VSet _ ASet Quorum QA QClosed s&#39; Hs&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk175"><span class="nb">pose proof</span> (Hchoice_stable := choice_stable _ VSet _ ASet Quorum _ _ _ _ _ Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">lc</span> := label_state_project s l <span class="kr">in</span>
<span class="kr">match</span> lc <span class="kr">with</span>
| Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß consensus_transition V VSet lc
    (state_project s, None) = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk176"><span class="nb">intro</span> lc_def; <span class="nb">remember</span> lc_def <span class="kr">as</span> lc; <span class="nb">subst</span> lc_def; <span class="nb">revert</span> Heqlc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc = label_state_project s l
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß consensus_transition V VSet lc
      (state_project s, None) =
    (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk177"><span class="nb">unfold</span> label_state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc =
(<span class="kr">if</span> decide (elements (state_project s) = [])
 <span class="kr">then</span>
  <span class="kr">match</span>
    elements
      (state_project (transition l (s, None)).<span class="mi">1</span>)
  <span class="kr">with</span>
  | [] =&gt; None
  | v :: _ =&gt; Some (Decided V v)
  <span class="kr">end</span>
 <span class="kr">else</span> None)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß consensus_transition V VSet lc
      (state_project s, None) =
    (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk178"><span class="nb">replace</span> (transition VV l _) <span class="kr">with</span> (s&#39;, @None <span class="kt">False</span>) <span class="bp">by</span> (<span class="nb">symmetry</span>; <span class="nb">apply</span> Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc =
(<span class="kr">if</span> decide (elements (state_project s) = [])
 <span class="kr">then</span>
  <span class="kr">match</span> elements (state_project (s&#39;, None).<span class="mi">1</span>) <span class="kr">with</span>
  | [] =&gt; None
  | v :: _ =&gt; Some (Decided V v)
  <span class="kr">end</span>
 <span class="kr">else</span> None)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß consensus_transition V VSet lc
      (state_project s, None) =
    (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk179"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc =
(<span class="kr">if</span> decide (elements (state_project s) = [])
 <span class="kr">then</span>
  <span class="kr">match</span> elements (state_project s&#39;) <span class="kr">with</span>
  | [] =&gt; None
  | v :: _ =&gt; Some (Decided V v)
  <span class="kr">end</span>
 <span class="kr">else</span> None)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; state_project s ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt;
        ({[v]} ‚à™ state_project s, None)
    | None =&gt; (state_project s, None)
    <span class="kr">end</span> = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk17a"><span class="nb">remember</span> (state_project s) <span class="kr">as</span> cs <span class="nb">eqn</span>:H_eqn_cs; <span class="nb">cbn</span> <span class="kr">in</span> cs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc =
(<span class="kr">if</span> decide (elements cs = [])
 <span class="kr">then</span>
  <span class="kr">match</span> elements (state_project s&#39;) <span class="kr">with</span>
  | [] =&gt; None
  | v :: _ =&gt; Some (Decided V v)
  <span class="kr">end</span>
 <span class="kr">else</span> None)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (state_project s&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk17b"><span class="nb">remember</span> (state_project s&#39;) <span class="kr">as</span> cs&#39; <span class="nb">eqn</span>:H_eqn_cs&#39;; <span class="nb">cbn</span> <span class="kr">in</span> cs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc =
(<span class="kr">if</span> decide (elements cs = [])
 <span class="kr">then</span>
  <span class="kr">match</span> elements cs&#39; <span class="kr">with</span>
  | [] =&gt; None
  | v :: _ =&gt; Some (Decided V v)
  <span class="kr">end</span>
 <span class="kr">else</span> None)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk17c"><span class="nb">destruct</span> (decide (elements cs = [])) <span class="kr">as</span> [Hcs | Hcs]; [<span class="nb">destruct</span> (elements cs&#39;) <span class="nb">eqn</span>: Hcs&#39; |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc = None
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk17d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk17d"><hr></label><div class="goal-conclusion">lc = Some (Decided V v)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Voting-v-chk17e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs ‚â† []</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk17e"><hr></label><div class="goal-conclusion">lc = None
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk17f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc = None
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk180"><span class="nb">intros</span> -&gt;; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> ‚àß (cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk181"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk182"><span class="nb">simpl</span>; <span class="nb">f_equal</span>; <span class="nb">apply</span> leibniz_equiv_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk183"><span class="nb">apply</span> elements_empty_iff <span class="kr">in</span> Hcs, Hcs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>cs&#39; ‚â° ‚àÖ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">etransitivity</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk184">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc = Some (Decided V v)
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk185"><span class="nb">intros</span> -&gt;; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs = []</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° ‚àÖ ‚àß ({[v]} ‚à™ cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk186"><span class="nb">apply</span> elements_empty_iff <span class="kr">in</span> Hcs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° ‚àÖ ‚àß ({[v]} ‚à™ cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk187"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">({[v]} ‚à™ cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk188"><span class="nb">f_equal</span>; <span class="nb">apply</span> leibniz_equiv_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{[v]} ‚à™ cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk189"><span class="nb">rewrite</span> Hcs, right_id <span class="bp">by</span> (<span class="nb">apply</span> union_empty_r).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{[v]} ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk18a"><span class="nb">assert</span> (v ‚àà cs&#39;) <span class="kr">as</span> Hv_cs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà cs&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk18b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br><span><var>Hv_cs'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk18b"><hr></label><div class="goal-conclusion">{[v]} ‚â° cs&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk18c">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk18d"><span class="nb">apply</span> elem_of_elements.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà elements cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk18e"><span class="nb">rewrite</span> Hcs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà v :: l0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_list_here.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk18f">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br><span><var>Hv_cs'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">{[v]} ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk190"><span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br><span><var>Hv_cs'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs&#39; ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk191"><span class="nb">unfold</span> state_project <span class="kr">in</span> H_eqn_cs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; =
chosen V VSet Acceptor ASet Quorum QDec
  QClosed s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements cs&#39; = v :: l0</span></span></span><br><span><var>Hv_cs'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs&#39; ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk192"><span class="nb">subst</span> cs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â° ‚àÖ</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>list V</span></span></span><br><span><var>Hv_cs'</var><span class="hyp-type"><b>: </b><span>v
‚àà chosen V VSet Acceptor ASet Quorum QDec
    QClosed s&#39;</span></span></span><br><span><var>Hcs'</var><span class="hyp-type"><b>: </b><span>elements
  (chosen V VSet Acceptor ASet Quorum QDec
     QClosed s&#39;) = v :: l0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">chosen V VSet Acceptor ASet Quorum QDec QClosed s&#39;
‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> chosen_subsingleton.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk193">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>lc</var><span class="hyp-type"><b>: </b><span>label CV</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lc = None
‚Üí <span class="kr">match</span> lc <span class="kr">with</span>
  | Some (Decided _ _) =&gt; cs ‚â° ‚àÖ
  | None =&gt; <span class="kt">True</span>
  <span class="kr">end</span>
  ‚àß <span class="kr">match</span> lc <span class="kr">with</span>
    | Some (Decided _ v) =&gt; ({[v]} ‚à™ cs, None)
    | None =&gt; (cs, None)
    <span class="kr">end</span> = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk194"><span class="nb">intros</span> -&gt;; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">True</span> ‚àß (cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk195"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(cs, None) = (cs&#39;, None)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk196"><span class="nb">f_equal</span>; <span class="nb">apply</span> leibniz_equiv_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>elements cs ‚â† []</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk197"><span class="nb">rewrite</span> elements_empty_iff <span class="kr">in</span> Hcs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>Hcs</var><span class="hyp-type"><b>: </b><span>cs ‚â¢ ‚àÖ</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk198"><span class="nb">apply</span> set_choose <span class="kr">in</span> Hcs <span class="kr">as</span> [v Hv].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk199"><span class="nb">assert</span> (v ‚àà cs&#39;) <span class="kr">as</span> Hv&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà cs&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk19a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br><span><var>Hv'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk19a"><hr></label><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk19b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk19c"><span class="nb">subst</span> cs cs&#39;; <span class="nb">unfold</span> state_project <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (chosen V VSet Acceptor ASet Quorum QDec
     QClosed s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v
‚àà chosen V VSet Acceptor ASet Quorum QDec QClosed
    s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen V VSet Acceptor ASet Quorum QDec QClosed s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk19d"><span class="nb">apply</span> chosen_iff <span class="kr">in</span> Hv <span class="kr">as</span> [bv Hv]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (chosen V VSet Acceptor ASet Quorum QDec
     QClosed s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>ballot_chose V VSet Acceptor ASet Quorum s bv v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen V VSet Acceptor ASet Quorum QDec QClosed s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk19e"><span class="nb">apply</span> Hchoice_stable <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (chosen V VSet Acceptor ASet Quorum QDec
     QClosed s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>ballot_chose V VSet Acceptor ASet Quorum s&#39; bv v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà chosen V VSet Acceptor ASet Quorum QDec QClosed s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk19f"><span class="nb">apply</span> chosen_iff; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (chosen V VSet Acceptor ASet Quorum QDec
     QClosed s)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>ballot_chose V VSet Acceptor ASet Quorum s&#39; bv v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">b</span> : Ballot,
  ballot_chose V VSet Acceptor ASet Quorum s&#39; b v</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">bv</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a0">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br><span><var>Hv'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° cs&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a1"><span class="nb">transitivity</span> (@singleton _ _ H1 v); [| <span class="nb">symmetry</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br><span><var>Hv'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° {[v]}</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk1a2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br><span><var>Hv'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk1a2"><hr></label><div class="goal-conclusion">cs&#39; ‚â° {[v]}</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br><span><var>Hv'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span> cs; <span class="nb">apply</span> chosen_subsingleton.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, None) (s&#39;, None)</span></span></span><br><span><var>cs</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs</var><span class="hyp-type"><b>: </b><span>cs = state_project s</span></span></span><br><span><var>H_proj_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet) cs</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (voting_vlsm V VSet Acceptor ASet Quorum) s&#39;</span></span></span><br><span><var>Hs_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum s
    b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet Quorum
      s b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hs'_safe</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b1</span> : Ballot) (<span class="nv">v1</span> : V) 
  (<span class="nv">b2</span> : Ballot) (<span class="nv">v2</span> : V),
  ballot_chose V VSet Acceptor ASet Quorum
    s&#39; b1 v1
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b2 v2 ‚Üí v1 = v2</span></span></span><br><span><var>Hchoice_stable</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">b</span> : Ballot) (<span class="nv">v</span> : V),
  ballot_chose V VSet Acceptor ASet
    Quorum s b v
  ‚Üí ballot_chose V VSet Acceptor ASet
      Quorum s&#39; b v</span></span></span><br><span><var>cs'</var><span class="hyp-type"><b>: </b><span>consensus_state VSet</span></span></span><br><span><var>H_eqn_cs'</var><span class="hyp-type"><b>: </b><span>cs&#39; = state_project s&#39;</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà cs</span></span></span><br><span><var>Hv'</var><span class="hyp-type"><b>: </b><span>v ‚àà cs&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">cs&#39; ‚â° {[v]}</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span> cs&#39;; <span class="nb">apply</span> chosen_subsingleton.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a5"><span class="kn">Lemma</span> <span class="nf">voting_initial_in_consensus</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    initial_state_prop (voting_vlsm _ VSet _ ASet Quorum) s -&gt;
    initial_state_prop (consensus_vlsm _ VSet) (state_project s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm V VSet Acceptor ASet Quorum),
  initial_state_prop s
  ‚Üí initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm V VSet Acceptor ASet Quorum),
  initial_state_prop s
  ‚Üí initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a7"><span class="nb">intros</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a8"><span class="nb">change</span> (state_project s ‚â° ‚àÖ).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_project s ‚â° ‚àÖ</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1a9"><span class="nb">apply</span> elem_of_equiv_empty; <span class="nb">intros</span> v Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà state_project s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1aa"><span class="nb">apply</span> chosen_iff <span class="kr">in</span> Hv <span class="kr">as</span> [bv Hv]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>ballot_chose V VSet Acceptor ASet Quorum s bv v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1ab"><span class="nb">destruct</span> Hv <span class="kr">as</span> [Q HvQ], (QA Q Q) <span class="kr">as</span> [a Ha].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HvQ</var><span class="hyp-type"><b>: </b><span>allQuorum Acceptor ASet Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for V VSet (s a) bv v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1ac"><span class="nb">lapply</span> (HvQ a); [| <span class="bp">by</span> set_solver].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HvQ</var><span class="hyp-type"><b>: </b><span>allQuorum Acceptor ASet Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for V VSet (s a) bv v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">voted_for V VSet (s a) bv v ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1ad"><span class="nb">unfold</span> voted_for.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HvQ</var><span class="hyp-type"><b>: </b><span>allQuorum Acceptor ASet Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for V VSet (s a) bv v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà votes VSet (s a) !!! bv ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1ae"><span class="nb">rewrite</span> (Hs a); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HvQ</var><span class="hyp-type"><b>: </b><span>allQuorum Acceptor ASet Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for V VSet (s a) bv v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà ‚àÖ !!! bv ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1af"><span class="nb">rewrite</span> lookup_total_empty.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>V</span></span></span><br><span><var>bv</var><span class="hyp-type"><b>: </b><span>Ballot</span></span></span><br><span><var>Q</var><span class="hyp-type"><b>: </b><span>{x : ASet | Quorum x}</span></span></span><br><span><var>HvQ</var><span class="hyp-type"><b>: </b><span>allQuorum Acceptor ASet Quorum Q
  (<span class="kr">Œª</span> <span class="nv">a</span> : Acceptor, voted_for V VSet (s a) bv v)</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>Acceptor</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>a ‚àà `Q ‚à© `Q</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà inhabitant ‚Üí <span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_empty.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b0"><span class="kn">Lemma</span> <span class="nf">voting_simulates_consensus</span> :
  <span class="kr">forall</span> <span class="nv">s</span>,
    valid_state_prop (voting_vlsm _ VSet _ ASet Quorum) s -&gt;
    valid_state_prop (consensus_vlsm _ VSet) (state_project s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm V VSet Acceptor ASet Quorum),
  valid_state_prop
    (voting_vlsm V VSet Acceptor ASet Quorum) s
  ‚Üí valid_state_prop (consensus_vlsm V VSet)
      (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (voting_vlsm V VSet Acceptor ASet Quorum),
  valid_state_prop
    (voting_vlsm V VSet Acceptor ASet Quorum) s
  ‚Üí valid_state_prop (consensus_vlsm V VSet)
      (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b2"><span class="nb">intros</span> s Hs; <span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Voting-v-chk1b3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><label class="goal-separator" for="Voting-v-chk1b3"><hr></label><div class="goal-conclusion">valid_state_prop (consensus_vlsm V VSet)
  (state_project s&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b5"><span class="nb">apply</span> initial_state_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (state_project s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> voting_initial_in_consensus.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Voting-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Voting-v-chk1b6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>V, VSet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf V VSet</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty VSet</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton V VSet</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union VSet</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection VSet</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference VSet</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements V VSet</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision V</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet V VSet</span></span></span><br><span><var>VSDec</var><span class="hyp-type"><b>: </b><span>RelDecision elem_of</span></span></span><br><span><var>CV</var><span><span class="hyp-body"><b>:= </b><span>consensus_vlsm V VSet</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>Acceptor</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite Acceptor</span></span></span><br><span><var>ASet</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>ElemOf Acceptor ASet</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>Empty ASet</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>Singleton Acceptor ASet</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Union ASet</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Intersection ASet</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Difference ASet</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Elements Acceptor ASet</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision Acceptor</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>FinSet Acceptor ASet</span></span></span><br><span><var>Quorum</var><span class="hyp-type"><b>: </b><span>ASet ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>QDec</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q</span> : ASet, Decision (Quorum Q)</span></span></span><br><span><var>QA</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Q1</span> <span class="nv">Q2</span> : {x : ASet | Quorum x},
  <span class="kr">‚àÉ</span> <span class="nv">a</span> : Acceptor, a ‚àà `Q1 ‚à© `Q2</span></span></span><br><span><var>QClosed</var><span class="hyp-type"><b>: </b><span>Proper (subseteq ==&gt; impl) Quorum</span></span></span><br><span><var>VV</var><span><span class="hyp-body"><b>:= </b><span>voting_vlsm V VSet Acceptor ASet Quorum</span></span><span class="hyp-type"><b>: </b><span>VLSM <span class="kt">False</span></span></span></span></span><br><span><var>H_VSet_L</var><span class="hyp-type"><b>: </b><span>LeibnizEquiv VSet</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option <span class="kt">False</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (voting_vlsm V VSet Acceptor ASet Quorum)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (voting_vlsm V VSet Acceptor ASet Quorum) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>valid_state_prop (consensus_vlsm V VSet)
  (state_project s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (consensus_vlsm V VSet)
  (state_project s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_destination, voting_step_in_consensus.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_voting_simulates_consensus</span>.</span></span></pre></article></body></html>