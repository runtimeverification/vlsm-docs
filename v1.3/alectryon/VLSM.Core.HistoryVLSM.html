<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>HistoryVLSM.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk0"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Itauto.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FunctionalExtensionality.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListExtras.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM PreloadedVLSM Composition.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Core: History VLSMs</h1>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Class</span> <span class="nf">HistoryVLSM</span> `(X : VLSM message) : <span class="kt">Prop</span> :=
{
  not_valid_transition_next_initial :
    <span class="kr">forall</span> <span class="nv">s2</span>, initial_state_prop X s2 -&gt;
    <span class="kr">forall</span> <span class="nv">s1</span>, ~ valid_transition_next X s1 s2;
  unique_transition_to_state :
    <span class="kr">forall</span> [s : state X],
    <span class="kr">forall</span> [l1 s1 iom1 oom1], valid_transition X l1 s1 iom1 s oom1 -&gt;
    <span class="kr">forall</span> [l2 s2 iom2 oom2], valid_transition X l2 s2 iom2 s oom2 -&gt;
    l1 = l2 /\ s1 = s2 /\ iom1 = iom2 /\ oom1 = oom2;
}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[<span class="kn">global</span>] <span class="kn">Hint Mode</span> HistoryVLSM - ! : typeclass_instances.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_history_vlsm_preloaded</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `{HistoryVLSM message X}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1">#[export] <span class="kn">Instance</span> <span class="nf">preloaded_history_vlsm</span> :
  HistoryVLSM (preloaded_with_all_messages_vlsm X).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HistoryVLSM (preloaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HistoryVLSM (preloaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3"><span class="nb">split</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop s2</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ valid_transition_next
    (preloaded_with_all_messages_vlsm X) s1 s2</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom1, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l1 s1 iom1
  s oom1</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l2 s2 iom2
  s oom2</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk4"><hr></label><div class="goal-conclusion">l1 = l2 ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop s2</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ valid_transition_next
    (preloaded_with_all_messages_vlsm X) s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk6"><span class="nb">rewrite</span> &lt;- valid_transition_next_preloaded_iff.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop s2</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ valid_transition_next X s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> not_valid_transition_next_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l1</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom1, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l1 s1 iom1
  s oom1</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l2 s2 iom2
  s oom2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">l1 = l2 ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> (@unique_transition_to_state _ X);
      [| <span class="nb">apply</span> valid_transition_preloaded_iff..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk8"><span class="kn">Lemma</span> <span class="nf">history_unique_trace_to_reachable</span> :
  <span class="kr">forall</span> <span class="nv">is</span> <span class="nv">s</span> <span class="nv">tr</span>,
    finite_constrained_trace_init_to X <span class="kr">is</span> s tr -&gt;
  <span class="kr">forall</span> <span class="nv">is&#39;</span> <span class="nv">tr&#39;</span>,
    finite_constrained_trace_init_to X is&#39; s tr&#39; -&gt;
      is&#39; = <span class="kr">is</span> /\ tr&#39; = tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to X <span class="kr">is</span> s tr
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
               (preloaded_with_all_messages_vlsm X)) 
      (<span class="nv">tr&#39;</span> : list transition_item),
      finite_constrained_trace_init_to X is&#39; s tr&#39;
      ‚Üí is&#39; = <span class="kr">is</span> ‚àß tr&#39; = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">is</span> <span class="nv">s</span> : state (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr</span> : list transition_item),
  finite_constrained_trace_init_to X <span class="kr">is</span> s tr
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
               (preloaded_with_all_messages_vlsm X)) 
      (<span class="nv">tr&#39;</span> : list transition_item),
      finite_constrained_trace_init_to X is&#39; s tr&#39;
      ‚Üí is&#39; = <span class="kr">is</span> ‚àß tr&#39; = tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chka"><span class="nb">intros</span> <span class="kr">is</span> s tr Htr; <span class="nb">induction</span> Htr <span class="nb">using</span> finite_valid_trace_init_to_rev_ind;
    <span class="nb">intros</span> is&#39; tr&#39; [Htr&#39; His&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; si
  tr&#39;</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si ‚àß tr&#39; = []</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chkb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; sf
  tr&#39;</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chkb"><hr></label><div class="goal-conclusion">is&#39; = si
‚àß tr&#39; =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chkc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; si
  tr&#39;</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si ‚àß tr&#39; = []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chkd">destruct_list_last tr&#39; tr&#39;&#39; item Heqtr&#39;; [<span class="bp">by</span> <span class="nb">inversion</span> Htr&#39; | <span class="nb">subst</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; si
  (tr&#39;&#39; ++ [item])</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si ‚àß tr&#39;&#39; ++ [item] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chke"><span class="nb">apply</span> finite_valid_trace_from_to_app_split <span class="kr">in</span> Htr&#39; <span class="kr">as</span> [_ Hitem].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X)
  (finite_trace_last is&#39; tr&#39;&#39;) si [item]</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si ‚àß tr&#39;&#39; ++ [item] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chkf"><span class="nb">inversion</span> Hitem; <span class="nb">inversion</span> Htl; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X)
  (finite_trace_last is&#39; tr&#39;&#39;) si
  [{|
     l := l;
     input := iom;
     destination := si;
     output := oom
   |}]</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l
  (finite_trace_last is&#39; tr&#39;&#39;, iom) (
  si, oom)</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) si si []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l;
     input := iom;
     destination := si;
     output := oom
   |}] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk10"><span class="nb">destruct</span> Ht <span class="kr">as</span> [(_ &amp; _ &amp; Hv) Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X)
  (finite_trace_last is&#39; tr&#39;&#39;) si
  [{|
     l := l;
     input := iom;
     destination := si;
     output := oom
   |}]</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last is&#39; tr&#39;&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last is&#39; tr&#39;&#39;, iom) =
(si, oom)</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) si si []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l;
     input := iom;
     destination := si;
     output := oom
   |}] = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk11"><span class="nb">exfalso</span>; <span class="nb">clear</span> His&#39;; <span class="nb">eapply</span> @not_valid_transition_next_initial;
      [| <span class="bp">done</span> | <span class="bp">by</span> <span class="nb">esplit</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X)
  (finite_trace_last is&#39; tr&#39;&#39;) si
  [{|
     l := l;
     input := iom;
     destination := si;
     output := oom
   |}]</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (finite_trace_last is&#39; tr&#39;&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (finite_trace_last is&#39; tr&#39;&#39;, iom) =
(si, oom)</span></span></span><br><span><var>Htl</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) si si []</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HistoryVLSM (preloaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk12">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; sf
  tr&#39;</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39; =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk13">destruct_list_last tr&#39; tr&#39;&#39; item Heqtr&#39;; <span class="nb">subst</span> tr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; sf
  []</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß [] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk14" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; sf
  (tr&#39;&#39; ++ [item])</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk14"><hr></label><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++ [item] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk15">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; sf
  []</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß [] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk16"><span class="nb">inversion</span> Htr&#39;; <span class="nb">subst</span>; <span class="nb">clear</span> Htr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sf</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sf = si
‚àß [] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk17"><span class="nb">destruct</span> Ht <span class="kr">as</span> [(_ &amp; _ &amp; Hv) Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, iom) = (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sf</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sf = si
‚àß [] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk18"><span class="nb">exfalso</span>; <span class="nb">eapply</span> @not_valid_transition_next_initial; [| <span class="bp">done</span> | <span class="bp">by</span> <span class="nb">esplit</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, iom) = (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sf</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">HistoryVLSM (preloaded_with_all_messages_vlsm X)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk19">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39; sf
  (tr&#39;&#39; ++ [item])</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++ [item] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1a"><span class="nb">apply</span> finite_valid_trace_from_to_app_split <span class="kr">in</span> Htr&#39; <span class="kr">as</span> [Htr&#39; Hitem].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39;
  (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;&#39;</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X)
  (finite_trace_last is&#39; tr&#39;&#39;) sf [item]</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++ [item] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1b"><span class="nb">inversion</span> Hitem; <span class="nb">inversion</span> Htl; <span class="nb">subst</span>; <span class="nb">clear</span> Hitem Htl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l (
  s, iom) (sf, oom)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39;
  (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;&#39;</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;, iom0) (
  sf, oom0)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1c"><span class="nb">apply</span> input_valid_transition_forget_input <span class="kr">in</span> Ht, Ht0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l s iom sf
  oom</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39;
  (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;&#39;</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;) iom0 sf oom0</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1d"><span class="nb">specialize</span> (unique_transition_to_state Ht Ht0) <span class="kr">as</span> Heqs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si, s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si s tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l s iom sf
  oom</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;</span> : state
           (preloaded_with_all_messages_vlsm X)) 
  (<span class="nv">tr&#39;</span> : list transition_item),
  finite_constrained_trace_init_to X is&#39; s tr&#39;
  ‚Üí is&#39; = si ‚àß tr&#39; = tr</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39;
  (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;&#39;</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;) iom0 sf oom0</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>l = l0
‚àß s = finite_trace_last is&#39; tr&#39;&#39;
  ‚àß iom = iom0 ‚àß oom = oom0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}] =
  tr ++
  [{|
     l := l;
     input := iom;
     destination := sf;
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1e">destruct_and! Heqs; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si
  (finite_trace_last is&#39; tr&#39;&#39;) tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">is&#39;0</span> : state
            (preloaded_with_all_messages_vlsm
               X)) (<span class="nv">tr&#39;</span> : 
                    list transition_item),
  finite_constrained_trace_init_to X is&#39;0
    (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;
  ‚Üí is&#39;0 = si ‚àß tr&#39; = tr</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;) iom0 sf oom0</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39;
  (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;&#39;</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;) iom0 sf oom0</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}] =
  tr ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk1f"><span class="nb">specialize</span> (IHHtr _ _  (conj Htr&#39; His&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>HistoryVLSM X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>is'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>tr''</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm X) si
  (finite_trace_last is&#39; tr&#39;&#39;) tr</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm X)</span></span></span><br><span><var>IHHtr</var><span class="hyp-type"><b>: </b><span>is&#39; = si ‚àß tr&#39;&#39; = tr</span></span></span><br><span><var>iom0, oom0</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;) iom0 sf oom0</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm X) is&#39;
  (finite_trace_last is&#39; tr&#39;&#39;) tr&#39;&#39;</span></span></span><br><span><var>His'</var><span class="hyp-type"><b>: </b><span>initial_state_prop is&#39;</span></span></span><br><span><var>Ht0</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm X) l0
  (finite_trace_last is&#39; tr&#39;&#39;) iom0 sf oom0</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm X) sf</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is&#39; = si
‚àß tr&#39;&#39; ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}] =
  tr ++
  [{|
     l := l0;
     input := iom0;
     destination := sf;
     output := oom0
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> destruct_and! IHHtr; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_history_vlsm_preloaded</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_history_vlsm_composite</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{EqDecision index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)}
  (Free := free_composite_vlsm IM)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk20"><span class="kn">Lemma</span> <span class="nf">not_composite_valid_transition_next_initial</span> :
  <span class="kr">forall</span> <span class="nv">s2</span>, composite_initial_state_prop IM s2 -&gt;
  <span class="kr">forall</span> <span class="nv">s1</span>, ~ composite_valid_transition_next IM s1 s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s2</span> : composite_state IM,
  composite_initial_state_prop IM s2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s1</span> : state (free_composite_vlsm IM),
      ¬¨ composite_valid_transition_next IM s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s2</span> : composite_state IM,
  composite_initial_state_prop IM s2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s1</span> : state (free_composite_vlsm IM),
      ¬¨ composite_valid_transition_next IM s1 s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk22"><span class="nb">intros</span> s2 Hs2 s1 [* Hs1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s2</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>valid_transition (free_composite_vlsm IM) l s1
  iom s2 oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk23"><span class="nb">apply</span> composite_valid_transition_projection, proj1, transition_next <span class="kr">in</span> Hs1; <span class="nb">cbn</span> <span class="kr">in</span> Hs1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop IM s2</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>valid_transition_next (IM (projT1 l))
  (s1 (projT1 l)) (s2 (projT1 l))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Hs1; <span class="nb">apply</span> not_valid_transition_next_initial, Hs2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk24"><span class="kn">Lemma</span> <span class="nf">composite_quasi_unique_transition_to_state</span> :
  <span class="kr">forall</span> [s],
  <span class="kr">forall</span> [l1 s1 iom1 oom1], composite_valid_transition IM l1 s1 iom1 s oom1 -&gt;
  <span class="kr">forall</span> [l2 s2 iom2 oom2], composite_valid_transition IM l2 s2 iom2 s oom2 -&gt;
  projT1 l1 = projT1 l2 -&gt;
  l1 = l2 /\ s1 = s2 /\ iom1 = iom2 /\ oom1 = oom2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state (free_composite_vlsm IM)) (<span class="nv">l1</span> : label
                                               (free_composite_vlsm
                                                 IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) (<span class="nv">iom1</span>
                                         <span class="nv">oom1</span> : option
                                                 message),
  composite_valid_transition IM l1 s1 iom1 s oom1
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l2</span> : label (free_composite_vlsm IM)) (<span class="nv">s2</span> : 
                                             state
                                               (free_composite_vlsm
                                                 IM)) 
      (<span class="nv">iom2</span> <span class="nv">oom2</span> : option message),
      composite_valid_transition IM l2 s2 iom2 s oom2
      ‚Üí projT1 l1 = projT1 l2
        ‚Üí l1 = l2
          ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk25"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : state (free_composite_vlsm IM)) (<span class="nv">l1</span> : label
                                               (free_composite_vlsm
                                                 IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) (<span class="nv">iom1</span>
                                         <span class="nv">oom1</span> : option
                                                 message),
  composite_valid_transition IM l1 s1 iom1 s oom1
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">l2</span> : label (free_composite_vlsm IM)) (<span class="nv">s2</span> : 
                                             state
                                               (free_composite_vlsm
                                                 IM)) 
      (<span class="nv">iom2</span> <span class="nv">oom2</span> : option message),
      composite_valid_transition IM l2 s2 iom2 s oom2
      ‚Üí projT1 l1 = projT1 l2
        ‚Üí l1 = l2
          ‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk26"><span class="nb">intros</span> ? [i li1] * Ht1 [_i li2] * Ht2 [=]; <span class="nb">subst</span> _i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li1</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom1, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT i li1) s1 iom1 s oom1</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT i li2) s2 iom2 s oom2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existT i li1 = existT i li2
‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk27"><span class="nb">apply</span> composite_valid_transition_projection <span class="kr">in</span> Ht1, Ht2; <span class="nb">cbn</span> <span class="kr">in</span> Ht1, Ht2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li1</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom1, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li1 
  (s1 i) iom1 (s i) oom1
‚àß s = state_update IM s1 i (s i)</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2
‚àß s = state_update IM s2 i (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existT i li1 = existT i li2
‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk28"><span class="nb">destruct</span> Ht1 <span class="kr">as</span> [Ht1 Heq_s], Ht2 <span class="kr">as</span> [Ht2 Heqs].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li1</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom1, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li1 
  (s1 i) iom1 (s i) oom1</span></span></span><br><span><var>Heq_s</var><span class="hyp-type"><b>: </b><span>s = state_update IM s1 i (s i)</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>s = state_update IM s2 i (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existT i li1 = existT i li2
‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk29"><span class="nb">rewrite</span> Heq_s <span class="kr">in</span> Heqs <span class="nb">at</span> <span class="mi">1</span>; <span class="nb">clear</span> Heq_s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li1</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom1, oom1</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li1 
  (s1 i) iom1 (s i) oom1</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_update IM s1 i (s i) =
state_update IM s2 i (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existT i li1 = existT i li2
‚àß s1 = s2 ‚àß iom1 = iom2 ‚àß oom1 = oom2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2a"><span class="nb">specialize</span> (unique_transition_to_state Ht1 Ht2) <span class="kr">as</span> Heq;
    destruct_and! Heq; <span class="nb">subst</span>; <span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s1 i) iom2 (s i) oom2</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_update IM s1 i (s i) =
state_update IM s2 i (s i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 i = s2 i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 = s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2b">extensionality j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s1 i) iom2 (s i) oom2</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_update IM s1 i (s i) =
state_update IM s2 i (s i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 i = s2 i</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 j = s2 j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2c"><span class="nb">destruct</span> (decide (i = j)); <span class="nb">subst</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s1 i) iom2 (s i) oom2</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_update IM s1 i (s i) =
state_update IM s2 i (s i)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 i = s2 i</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 j = s2 j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2d"><span class="nb">apply</span> <span class="nb">f_equal</span> <span class="kr">with</span> (f := <span class="kr">fun</span> <span class="nv">s</span> =&gt; s j) <span class="kr">in</span> Heqs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>li2</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>iom2, oom2</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht1</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s1 i) iom2 (s i) oom2</span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>Ht2</var><span class="hyp-type"><b>: </b><span>valid_transition (IM i) li2 
  (s2 i) iom2 (s i) oom2</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqs</var><span class="hyp-type"><b>: </b><span>state_update IM s1 i (s i) j =
state_update IM s2 i (s i) j</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>s1 i = s2 i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s1 j = s2 j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2e"><span class="kn">Lemma</span> <span class="nf">composite_valid_transition_reflects_rechability</span> :
  <span class="kr">forall</span> <span class="nv">l</span> <span class="nv">s1</span> <span class="nv">iom</span> <span class="nv">s2</span> <span class="nv">oom</span>,
  composite_valid_transition IM l s1 iom s2 oom -&gt;
  constrained_state_prop Free s2 -&gt;
  input_constrained_transition Free l (s1, iom) (s2, oom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) (<span class="nv">s1</span> : state
                                               (free_composite_vlsm
                                                 IM)) 
  (<span class="nv">iom</span> : option message) (<span class="nv">s2</span> : state
                                 (free_composite_vlsm
                                    IM)) (<span class="nv">oom</span> : option
                                                 message),
  composite_valid_transition IM l s1 iom s2 oom
  ‚Üí constrained_state_prop Free s2
    ‚Üí input_constrained_transition Free l (s1, iom)
        (s2, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) (<span class="nv">s1</span> : state
                                               (free_composite_vlsm
                                                 IM)) 
  (<span class="nv">iom</span> : option message) (<span class="nv">s2</span> : state
                                 (free_composite_vlsm
                                    IM)) (<span class="nv">oom</span> : option
                                                 message),
  composite_valid_transition IM l s1 iom s2 oom
  ‚Üí constrained_state_prop Free s2
    ‚Üí input_constrained_transition Free l (s1, iom)
        (s2, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk30"><span class="nb">intros</span> * Hnext Hs2; <span class="nb">revert</span> l s1 iom oom Hnext.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s2</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>Hs2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) (<span class="nv">s1</span> : state
                                               (free_composite_vlsm
                                                 IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s2 oom
  ‚Üí input_constrained_transition Free l (s1, iom)
      (s2, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk31"><span class="nb">induction</span> Hs2 <span class="nb">using</span> valid_state_prop_ind; <span class="nb">intros</span> * Hnext.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM l s1 iom s oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free l (s1, iom) (s, oom)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk32" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM l0 s1 iom s&#39; oom</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk32"><hr></label><div class="goal-conclusion">input_constrained_transition Free l0 (
  s1, iom) (s&#39;, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk33">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM l s1 iom s oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free l (s1, iom) (s, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk34"><span class="nb">apply</span> transition_next <span class="kr">in</span> Hnext.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>valid_transition_next (free_composite_vlsm IM)
  s1 s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free l (s1, iom) (s, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Hnext; <span class="nb">apply</span> not_composite_valid_transition_next_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk35">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free) l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label (free_composite_vlsm IM)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM l0 s1 iom s&#39; oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free l0 (s1, iom)
  (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk36"><span class="nb">destruct</span> l <span class="kr">as</span> [i li], l0 <span class="kr">as</span> [j lj].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk37"><span class="nb">destruct</span> (decide (i = j)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk38" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk38"><hr></label><div class="goal-conclusion">input_constrained_transition Free 
  (existT j lj) (s1, iom) (
  s&#39;, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk39">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i = j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3a"><span class="nb">subst</span>; <span class="nb">apply</span> input_valid_transition_forget_input <span class="kr">in</span> Ht <span class="kr">as</span> Hvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT j li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>Hvt</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT j li) s om s&#39; om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3b"><span class="nb">apply</span> composite_valid_transition_reachable_iff <span class="kr">in</span> Hvt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT j li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>Hvt</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j li) s om s&#39; om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3c"><span class="nb">specialize</span> (composite_quasi_unique_transition_to_state Hnext Hvt eq_refl) <span class="kr">as</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT j li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>Hvt</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j li) s om s&#39; om&#39;</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>existT j lj = existT j li
‚àß s1 = s ‚àß iom = om ‚àß oom = om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> destruct_and! Heq; <span class="nb">simplify_eq</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3e"><span class="nb">apply</span> input_valid_transition_forget_input <span class="kr">in</span> Ht <span class="kr">as</span> Hti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) s om s&#39; om&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk3f"><span class="nb">apply</span> composite_valid_transition_reachable_iff,
        composite_valid_transition_projection <span class="kr">in</span> Hti;
        <span class="nb">cbn</span> <span class="kr">in</span> Hti; <span class="nb">destruct</span> Hti <span class="kr">as</span> [[Hvi Hti] Heqs&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hnext</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) s1 iom s&#39; oom</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s i (s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk40"><span class="nb">apply</span> composite_valid_transition_projection <span class="kr">in</span> Hnext;
        <span class="nb">cbn</span> <span class="kr">in</span> Hnext; <span class="nb">destruct</span> Hnext <span class="kr">as</span> [[Hvj Htj] Heq_s&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s i (s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk41"><span class="nb">rewrite</span> Heq_s&#39; <span class="kr">in</span> Heqs&#39;; state_update_simpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">l</span> : label (free_composite_vlsm IM)) 
  (<span class="nv">s1</span> : state (free_composite_vlsm IM)) 
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message),
  composite_valid_transition IM l s1 iom s oom
  ‚Üí input_constrained_transition Free l
      (s1, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk42"><span class="nb">specialize</span> (IHHs2 (existT j lj) (state_update IM s j (s1 j)) iom oom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk43">spec IHHs2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid_transition IM (existT j lj)
  (state_update IM s j (s1 j)) iom s oom</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk44" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk44"><hr></label><div class="goal-conclusion">input_constrained_transition Free 
  (existT j lj) (s1, iom) (
  s&#39;, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk45">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_valid_transition IM (existT j lj)
  (state_update IM s j (s1 j)) iom s oom</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk46"><span class="nb">apply</span> composite_valid_transition_projection_inv <span class="kr">with</span> (s1 j) (s&#39; j); [<span class="bp">done</span> | |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM s j (s1 j) j = s1 j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk47" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk47"><hr></label><div class="goal-conclusion">s =
state_update IM (state_update IM s j (s1 j)) j (s&#39; j)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk48">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM s j (s1 j) j = s1 j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk49">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s =
state_update IM (state_update IM s j (s1 j)) j (s&#39; j)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk4a"><span class="nb">rewrite</span> state_update_twice.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state_update IM s j (s&#39; j)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk4b"><span class="nb">symmetry</span>; <span class="nb">apply</span> state_update_id.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s j = s&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk4c"><span class="nb">apply</span> <span class="nb">f_equal</span> <span class="kr">with</span> (f := <span class="kr">fun</span> <span class="nv">s</span> =&gt; s j) <span class="kr">in</span> Heqs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>composite_valid_transition IM 
  (existT j lj) (state_update IM s j (s1 j))
  iom s oom
‚Üí input_constrained_transition Free
    (existT j lj)
    (state_update IM s j (s1 j), iom) (
    s, oom)</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) j =
state_update IM s i (s1 i) j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s j = s&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">          </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk4d">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk4e"><span class="nb">assert</span> (Hss1 : input_constrained_transition Free (existT i li)
                  (state_update IM s j (s1 j), om) (s1, om&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT i li)
  (state_update IM s j (s1 j), om) (s1, om&#39;)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk4f"><hr></label><div class="goal-conclusion">input_constrained_transition Free 
  (existT j lj) (s1, iom) (
  s&#39;, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk50">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT i li)
  (state_update IM s j (s1 j), om) (s1, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk51"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">apply</span> IHHs2 | <span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded | ..]
        ; <span class="nb">cbn</span>; state_update_simpl; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, om) <span class="kr">in</span>
 (state_update IM (state_update IM s j (s1 j)) i si&#39;,
  om&#39;)) = (s1, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk52"><span class="nb">replace</span> (transition _ _ _) <span class="kr">with</span> (s&#39; i, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(state_update IM (state_update IM s j (s1 j)) i (s&#39; i),
 om&#39;) = (s1, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk53"><span class="nb">f_equal</span>; extensionality k; <span class="nb">apply</span> <span class="nb">f_equal</span> <span class="kr">with</span> (f := <span class="kr">fun</span> <span class="nv">s</span> =&gt; s k) <span class="kr">in</span> Heqs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) k =
state_update IM s i (s1 i) k</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (state_update IM s j (s1 j)) i (s&#39; i)
  k = s1 k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk54"><span class="nb">rewrite</span> Heq_s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>k</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) k =
state_update IM s i (s1 i) k</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM (state_update IM s j (s1 j)) i
  (state_update IM s1 j (s&#39; j) i) k = s1 k</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (decide (i = k)), (decide (j = k)); <span class="nb">subst</span>; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk55">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition Free (existT j lj)
  (s1, iom) (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk56"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm Free) s1</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk57"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm Free) iom</div></blockquote><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk58"><hr></label><div class="goal-conclusion">valid lj (s1 j, iom)</div></blockquote><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk59" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk59"><hr></label><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lj (s1 j, iom) <span class="kr">in</span>
 (state_update IM s1 j si&#39;, om&#39;)) = (
s&#39;, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm Free) s1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_destination.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5b">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm Free) iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5c">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid lj (s1 j, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5d">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (IM i)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm Free)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm Free)
  (existT i li) (s, om) (
  s&#39;, om&#39;)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (IM j)</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (free_composite_vlsm IM)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hvj</var><span class="hyp-type"><b>: </b><span>valid lj (s1 j, iom)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>transition lj (s1 j, iom) = (s&#39; j, oom)</span></span></span><br><span><var>Heq_s'</var><span class="hyp-type"><b>: </b><span>s&#39; = state_update IM s1 j (s&#39; j)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br><span><var>Hvi</var><span class="hyp-type"><b>: </b><span>valid li (s i, om)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition li (s i, om) = (s&#39; i, om&#39;)</span></span></span><br><span><var>Heqs'</var><span class="hyp-type"><b>: </b><span>state_update IM s1 j (s&#39; j) =
state_update IM s i (s1 i)</span></span></span><br><span><var>IHHs2</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free
  (existT j lj)
  (state_update IM s j (s1 j), iom) (
  s, oom)</span></span></span><br><span><var>Hss1</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (existT i li)
  (state_update IM s j (s1 j), om) (
  s1, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lj (s1 j, iom) <span class="kr">in</span>
 (state_update IM s1 j si&#39;, om&#39;)) = (s&#39;, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">replace</span> (transition _ _ _) <span class="kr">with</span> (s&#39; j, oom); <span class="nb">f_equal</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5e"><span class="kn">Lemma</span> <span class="nf">composite_valid_transition_next_reflects_rechability</span> :
  <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>, composite_valid_transition_next IM s1 s2 -&gt;
    constrained_state_prop Free s2 -&gt; constrained_state_prop Free s1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : state (free_composite_vlsm IM),
  composite_valid_transition_next IM s1 s2
  ‚Üí constrained_state_prop Free s2
    ‚Üí constrained_state_prop Free s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : state (free_composite_vlsm IM),
  composite_valid_transition_next IM s1 s2
  ‚Üí constrained_state_prop Free s2
    ‚Üí constrained_state_prop Free s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> s1 s2 []; <span class="nb">eapply</span> composite_valid_transition_reflects_rechability.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk60"><span class="kn">Lemma</span> <span class="nf">composite_valid_transition_future_reflects_rechability</span> :
  <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>, composite_valid_transition_future IM s1 s2 -&gt;
    constrained_state_prop Free s2 -&gt; constrained_state_prop Free s1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_valid_transition_future IM s1 s2
  ‚Üí constrained_state_prop Free s2
    ‚Üí constrained_state_prop Free s1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk61"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state IM,
  composite_valid_transition_future IM s1 s2
  ‚Üí constrained_state_prop Free s2
    ‚Üí constrained_state_prop Free s1</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> tc_reflect, composite_valid_transition_next_reflects_rechability.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk62"><span class="kn">Lemma</span> <span class="nf">composite_valid_transitions_from_to_reflects_reachability</span> :
  <span class="kr">forall</span> <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">tr</span>,
  composite_valid_transitions_from_to IM s s&#39; tr -&gt;
  constrained_state_prop Free s&#39; -&gt; finite_constrained_trace_from_to Free s s&#39; tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : composite_state IM) (<span class="nv">tr</span> : list
                                      (composite_transition_item
                                         IM)),
  composite_valid_transitions_from_to IM s s&#39; tr
  ‚Üí constrained_state_prop Free s&#39;
    ‚Üí finite_constrained_trace_from_to Free s s&#39; tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk63"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> <span class="nv">s&#39;</span> : composite_state IM) (<span class="nv">tr</span> : list
                                      (composite_transition_item
                                         IM)),
  composite_valid_transitions_from_to IM s s&#39; tr
  ‚Üí constrained_state_prop Free s&#39;
    ‚Üí finite_constrained_trace_from_to Free s s&#39; tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk64"><span class="nb">induction</span> <span class="mi">1</span>; <span class="nb">intros</span>; [<span class="bp">by</span> <span class="nb">constructor</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to Free s
  (destination item) (tr ++ [item])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk65"><span class="nb">assert</span> (Hitem : input_constrained_transition Free (l item) (s&#39;, input item)
                          (destination item, output item))
    <span class="bp">by</span> (<span class="nb">apply</span> composite_valid_transition_reflects_rechability; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (l item) (
  s&#39;, input item)
  (destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_from_to Free s
  (destination item) (tr ++ [item])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk66"><span class="nb">eapply</span> finite_valid_trace_from_to_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (l item) (
  s&#39;, input item)
  (destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Free) s <span class="nl">?m</span> tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="HistoryVLSM-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (l item) (
  s&#39;, input item)
  (destination item, output item)</span></span></span><br></div><label class="goal-separator" for="HistoryVLSM-v-chk67"><hr></label><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Free) 
  <span class="nl">?m</span> (destination item) [item]</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk68">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (l item) (
  s&#39;, input item)
  (destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Free) s <span class="nl">?m</span> tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk69"><span class="nb">apply</span> IHcomposite_valid_transitions_from_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (l item) (
  s&#39;, input item)
  (destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop Free s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_origin.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="HistoryVLSM-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="HistoryVLSM-v-chk6a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HistoryVLSM (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>composite_transition_item IM</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>composite_valid_transitions_from_to IM s s&#39; tr</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>composite_valid_transition_item IM s&#39; item</span></span></span><br><span><var>IHcomposite_valid_transitions_from_to</var><span class="hyp-type"><b>: </b><span>constrained_state_prop
  Free s&#39;
‚Üí finite_constrained_trace_from_to
    Free s s&#39; tr</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>constrained_state_prop Free (destination item)</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>input_constrained_transition Free 
  (l item) (
  s&#39;, input item)
  (destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm Free) s&#39;
  (destination item) [item]</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> item; <span class="nb">apply</span> finite_valid_trace_from_to_singleton.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_history_vlsm_composite</span>.</span></span></pre></article></body></html>