<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>Multiply.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM PreloadedVLSM VLSMProjections Composition.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FunctionalExtensionality.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Tutorial: VLSMs that Multiply</h1>
<div class="paragraph"> </div>

  This module demonstrates some basic notions of the VLSM framework.

<div class="paragraph"> </div>

  We define a family of VLSMs that store an integer and continually decrement it
  using input messages (also integers), while a constraint is checked at each step.
  The definitions and lemmas tap into concepts such as valid and constrained
  traces, transitions, states, and messages.

<div class="paragraph"> </div>

  The "doubling" VLSM has 2 as its only initial message and as output doubles
  the messages it receives as input. Therefore, constrained messages are
  positive even numbers (<span class="inlinecode"><span class="id" title="var">doubling_constrained_messages</span></span>) and valid messages are
  powers of 2 (<span class="inlinecode"><span class="id" title="var">doubling_valid_messages_powers_of_2</span></span>). Similarly, the "tripling"
  VLSM has 3 as its only initial message and as output triples the messages it
  receives as input.

<div class="paragraph"> </div>

  When composing the doubling and tripling VLSMs, they become more than
  the sum of their parts: the free composition's valid messages are
  all integers which can be decomposed as a product of powers of 2 and 3.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input">#[local] <span class="kn">Open Scope</span> Z_scope.</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Definition of common features of the multiplying VLSMs</h2>
<div class="paragraph"> </div>

  The multiplying VLSMs have only one type of transition, decrementing their
  state and multiplying their input message as an output.
  For this reason, the <span class="inlinecode"><span class="id" title="var">unit</span></span> type can be used as a label.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_label</span> : <span class="kt">Type</span> := unit.</span></span></pre><div class="doc">
The state will hold an integer. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_state</span> : <span class="kt">Type</span> := Z.</span></span></pre><div class="doc">
Messages are integers. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_message</span> : <span class="kt">Type</span> := Z.</span></span></pre><div class="doc">
A VLSM Type is defined using <span class="inlinecode"><span class="id" title="var">multiplying_state</span></span> and <span class="inlinecode"><span class="id" title="var">multiplying_label</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_type</span> : VLSMType multiplying_message :=
{|
  state := multiplying_state;
  label := multiplying_label;
|}.</span></span></pre><div class="doc">
  To improve readability, we explicitly define <span class="inlinecode"><span class="id" title="var">multiply_label</span></span> as the value of
  the unit type.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiply_label</span> : label multiplying_type := ().</span></span></pre><div class="doc">
The initial states of multiplying VLSMs will be positive integers. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_initial_state_prop</span> (<span class="nv">st</span> : multiplying_state) : <span class="kt">Prop</span> :=
  st &gt;= <span class="mi">1</span>.</span></span></pre><div class="doc">
  We must also provide a proof that the intial state type
  is inhabited as the set of initial states is non-empty.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_initial_state_type</span> : <span class="kt">Type</span> :=
  {st : multiplying_state | multiplying_initial_state_prop st}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Program Definition</span> <span class="nf">multiplying_initial_state</span> :
  multiplying_initial_state_type := exist _ <span class="mi">1</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">Œª</span> <span class="nv">st</span> : multiplying_state,
   multiplying_initial_state_prop st) <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">Œª</span> <span class="nv">st</span> : multiplying_state,
   multiplying_initial_state_prop st) <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Instance</span> <span class="nf">multiplying_initial_state_type_inhabited</span> :
 Inhabited (multiplying_initial_state_type) :=
  populate (multiplying_initial_state).</span></span></pre><div class="doc">
  The transition validity predicate is also common for all multiplying VLSMs:
  the message must exist, must be larger than 1, and not larger than the current state.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplying_valid</span>
  (<span class="nv">l</span> : multiplying_label) (<span class="nv">st</span> : multiplying_state) (<span class="nv">om</span> : option multiplying_message) : <span class="kt">Prop</span> :=
  <span class="kr">match</span> om <span class="kr">with</span>
  | Some msg =&gt; <span class="mi">2</span> &lt;= msg &lt;= st
  | None     =&gt; <span class="kt">False</span>
  <span class="kr">end</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">Definition of the doubling VLSM</h2>
<div class="paragraph"> </div>

  The doubling VLSM is a multiplying VLSM whose initial message is 2 and which
  outputs the double of the received input, while using it to decrement the
  current state; the <span class="inlinecode"><span class="id" title="var">multiplying_valid</span></span> constraint ensures that the valid/constraines
  states don't become negative.

<div class="paragraph"> </div>

  Not that, since the transition function must be total, it must also be defined
  for the case in which no input is provided, although that case will be
  filtered out by the transition validity predicate.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_transition</span>
  (<span class="nv">l</span> : multiplying_label) (<span class="nv">st</span> : multiplying_state) (<span class="nv">om</span> : option multiplying_message)
  : multiplying_state * option multiplying_message :=
  <span class="kr">match</span> om <span class="kr">with</span>
  | Some j  =&gt; (st - j, Some (<span class="mi">2</span> * j))
  | None    =&gt; (st, None)
  <span class="kr">end</span>.</span></span></pre><div class="doc">
  An intermediate representation for the VLSM is required.
  It uses the previously defined specifications with the addition that it
  states that 2 is the only initial message.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_machine</span> : VLSMMachine multiplying_type :=
{|
  initial_state_prop := multiplying_initial_state_prop;
  initial_message_prop := <span class="kr">fun</span> (<span class="nv">ms</span> : multiplying_message) =&gt; ms = <span class="mi">2</span>;
  s0 := multiplying_initial_state_type_inhabited;
  transition := <span class="kr">fun</span> <span class="nv">l</span> &#39;(st, om) =&gt; doubling_transition l st om;
  valid := <span class="kr">fun</span> <span class="nv">l</span> &#39;(st, om) =&gt; multiplying_valid l st om;
|}.</span></span></pre><div class="doc">
The definition of the doubling VLSM 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_vlsm</span> : VLSM multiplying_message :=
{|
  vlsm_type := multiplying_type;
  vlsm_machine := doubling_machine;
|}.</span></span></pre><div class="doc">
<a id="lab4"></a><h3 class="section">Doubling VLSM examples</h3>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
<a id="lab5"></a><h4 class="section">Example of an arbitrary transition</h4>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4"><span class="kn">Lemma</span> <span class="nf">doubling_example_transition_1</span> `(X : VLSM multiplying_message) :
  transition doubling_vlsm multiply_label (<span class="mi">4</span>, Some <span class="mi">10</span>) = (-<span class="mi">6</span>, Some <span class="mi">20</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition multiply_label (<span class="mi">4</span>, Some <span class="mi">10</span>) = (-<span class="mi">6</span>, Some <span class="mi">20</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition multiply_label (<span class="mi">4</span>, Some <span class="mi">10</span>) = (-<span class="mi">6</span>, Some <span class="mi">20</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab6"></a><h4 class="section">Example of a valid trace</h4>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
The initial state cannot be included to this definition, because, since there is no
    transition reaching this state, it cannot be expressed in the below manner
    Regarding the transition which leads to the final state, it technically could be
    included, but we choose to model this way, in order to be consistent
    with the subsequent example, where adding the last transition makes a qualitative
    difference to the trace

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace1_init</span> : list (transition_item doubling_vlsm) :=
  [ Build_transition_item multiply_label (Some <span class="mi">4</span>)
     <span class="mi">4</span> (Some <span class="mi">8</span>)
  ; Build_transition_item multiply_label (Some <span class="mi">2</span>)
     <span class="mi">2</span> (Some <span class="mi">4</span>) ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace1_last_item</span> : transition_item doubling_vlsm :=
  Build_transition_item multiply_label (Some <span class="mi">2</span>)
    <span class="mi">0</span> (Some <span class="mi">4</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace1</span> : list (transition_item doubling_vlsm) :=
  doubling_trace1_init ++ [doubling_trace1_last_item].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace1_first_state</span> : multiplying_state := <span class="mi">8</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace1_last_state</span> : multiplying_state :=
  destination doubling_trace1_last_item.</span></span></pre><div class="doc">
Defined trace is valid: 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6"><span class="kn">Example</span> <span class="nf">doubling_valid_message_prop_2</span> : valid_message_prop doubling_vlsm <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8"><span class="kn">Example</span> <span class="nf">doubling_can_emit_4</span> : can_emit doubling_vlsm <span class="mi">4</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit doubling_vlsm <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk9"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit doubling_vlsm <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka"><span class="kr">exists</span> (<span class="mi">2</span>, Some <span class="mi">2</span>), multiply_label, <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">by</span> <span class="bp">lia</span>.. | <span class="bp">by</span> <span class="nb">cbn</span>; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">f_equal</span>; <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>; <span class="nb">unfold</span> multiplying_initial_state_prop; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> app_valid_tran.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke"><span class="kn">Example</span> <span class="nf">doubling_valid_message_prop_4</span> : valid_message_prop doubling_vlsm <span class="mi">4</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (emitted_messages_are_valid doubling_vlsm <span class="mi">4</span> doubling_can_emit_4).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk10"><span class="kn">Proposition</span> <span class="nf">doubling_valid_transition_1</span> :
  input_valid_transition doubling_vlsm multiply_label (<span class="mi">8</span>, Some <span class="mi">4</span>) (<span class="mi">4</span>, Some <span class="mi">8</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">8</span>, Some <span class="mi">4</span>) (<span class="mi">4</span>, Some <span class="mi">8</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk11"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">8</span>, Some <span class="mi">4</span>) (<span class="mi">4</span>, Some <span class="mi">8</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12"><span class="kp">repeat</span> <span class="nb">split</span>; [| | | <span class="bp">by</span> <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">8</span></div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">4</span>)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">4</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk13">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">8</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>;
      <span class="nb">unfold</span> multiplying_initial_state_prop, doubling_trace1_first_state; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk14">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_message_prop_4.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk15">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> doubling_trace1_first_state; <span class="bp">nia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk16"><span class="kn">Proposition</span> <span class="nf">doubling_valid_transition_2</span> :
  input_valid_transition doubling_vlsm multiply_label (<span class="mi">4</span>, Some <span class="mi">2</span>) (<span class="mi">2</span>, Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">4</span>, Some <span class="mi">2</span>) (<span class="mi">2</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk17"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">4</span>, Some <span class="mi">2</span>) (<span class="mi">2</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk18"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">by</span> <span class="bp">lia</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">4</span></div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk19">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> app_valid_tran; <span class="nb">eapply</span> doubling_valid_transition_1; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_message_prop_2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b"><span class="kn">Proposition</span> <span class="nf">doubling_valid_transition_3</span> :
  input_valid_transition doubling_vlsm multiply_label (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">by</span> <span class="bp">lia</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> app_valid_tran; <span class="nb">apply</span> doubling_valid_transition_2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_message_prop_2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk20"><span class="kn">Example</span> <span class="nf">doubling_valid_trace1</span> :
  finite_valid_trace_init_to doubling_vlsm
   doubling_trace1_first_state doubling_trace1_last_state doubling_trace1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk22"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk23"><span class="kp">repeat</span> <span class="nb">apply</span> finite_valid_trace_from_to_extend.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm <span class="mi">0</span>
  doubling_trace1_last_state []</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">4</span>, Some <span class="mi">2</span>) (<span class="mi">2</span>, Some <span class="mi">4</span>)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (doubling_trace1_first_state, Some <span class="mi">4</span>) (<span class="mi">4</span>, Some <span class="mi">8</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk24">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm <span class="mi">0</span>
  doubling_trace1_last_state []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_valid_trace_from_to_empty,
      input_valid_transition_destination, doubling_valid_transition_3.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_transition_3.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk26">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">4</span>, Some <span class="mi">2</span>) (<span class="mi">2</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_transition_2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk27">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (doubling_trace1_first_state, Some <span class="mi">4</span>) (<span class="mi">4</span>, Some <span class="mi">8</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_transition_1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk28"><span class="kn">Example</span> <span class="nf">doubling_valid_trace1_alt</span> :
  finite_valid_trace_init_to_alt doubling_vlsm
   doubling_trace1_first_state doubling_trace1_last_state doubling_trace1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to_alt doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk29"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to_alt doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">message_valid_transitions_from_to doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">apply</span> mvt_extend; [.. | <span class="nb">apply</span> mvt_empty]; <span class="kp">try</span> <span class="bp">done</span>;
    [<span class="nb">apply</span> doubling_valid_message_prop_4 | <span class="nb">apply</span> doubling_valid_message_prop_2 ..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab7"></a><h4 class="section">Example of a constrained trace</h4>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
Previously defined trace is obviously constrained, since it's valid 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_trace1</span> :
  finite_constrained_trace_init_to_direct doubling_vlsm
   doubling_trace1_first_state doubling_trace1_last_state doubling_trace1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to_direct doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to_direct doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2d"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_transitions_from_to doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">apply</span> ct_extend; [.. | <span class="nb">apply</span> ct_empty].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace2_init</span> : list (transition_item doubling_vlsm) :=
  [ Build_transition_item multiply_label (Some <span class="mi">2</span>) <span class="mi">5</span> (Some <span class="mi">4</span>)
  ; Build_transition_item multiply_label (Some <span class="mi">2</span>) <span class="mi">3</span> (Some <span class="mi">4</span>) ].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace2_last_item</span> : transition_item doubling_vlsm :=
  Build_transition_item multiply_label (Some <span class="mi">3</span>) <span class="mi">0</span> (Some <span class="mi">6</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace2</span> : list (transition_item doubling_vlsm) :=
  doubling_trace2_init ++ [doubling_trace2_last_item].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace2_init_first_state</span> : multiplying_state := <span class="mi">7</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace2_init_last_state</span> : multiplying_state := <span class="mi">3</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">doubling_trace2_last_state</span> : multiplying_state :=
  destination doubling_trace2_last_item.</span></span></pre><div class="doc">
The given trace is valid without the last transition. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2e"><span class="kn">Proposition</span> <span class="nf">doubling_valid_transition_1&#39;</span> :
  input_valid_transition doubling_vlsm multiply_label
   (doubling_trace2_init_first_state, Some <span class="mi">2</span>) (<span class="mi">5</span>, Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (doubling_trace2_init_first_state, Some <span class="mi">2</span>)
  (<span class="mi">5</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (doubling_trace2_init_first_state, Some <span class="mi">2</span>)
  (<span class="mi">5</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> app_valid_tran.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk30"><span class="kn">Proposition</span> <span class="nf">doubling_valid_transition_2&#39;</span> :
  input_valid_transition doubling_vlsm multiply_label
   (<span class="mi">5</span>, Some <span class="mi">2</span>) (<span class="mi">3</span>, Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">5</span>, Some <span class="mi">2</span>) (<span class="mi">3</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">5</span>, Some <span class="mi">2</span>) (<span class="mi">3</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> app_valid_tran; <span class="nb">apply</span> doubling_valid_transition_1&#39;.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk32"><span class="kn">Example</span> <span class="nf">doubling_valid_trace2_init</span> :
  finite_valid_trace_init_to doubling_vlsm
   doubling_trace2_init_first_state doubling_trace2_init_last_state doubling_trace2_init.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk33"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk34"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk35"><span class="kp">repeat</span> <span class="nb">apply</span> finite_valid_trace_from_to_extend.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm <span class="mi">3</span>
  doubling_trace2_init_last_state []</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">5</span>, Some <span class="mi">2</span>) (<span class="mi">3</span>, Some <span class="mi">4</span>)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (doubling_trace2_init_first_state, Some <span class="mi">2</span>)
  (<span class="mi">5</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm <span class="mi">3</span>
  doubling_trace2_init_last_state []</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_valid_trace_from_to_empty,
      input_valid_transition_destination, doubling_valid_transition_2&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk37">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">5</span>, Some <span class="mi">2</span>) (<span class="mi">3</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_transition_2&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk38">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (doubling_trace2_init_first_state, Some <span class="mi">2</span>)
  (<span class="mi">5</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_transition_1&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk39"><span class="kn">Example</span> <span class="nf">doubling_valid_trace2_init_alt</span> :
  finite_valid_trace_init_to_alt doubling_vlsm
   doubling_trace2_init_first_state doubling_trace2_init_last_state doubling_trace2_init.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to_alt doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to_alt doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3b"><span class="nb">constructor</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">message_valid_transitions_from_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">apply</span> mvt_extend; [..| <span class="nb">apply</span> mvt_empty]; <span class="kp">try</span> <span class="bp">done</span>;
    <span class="nb">apply</span> doubling_valid_message_prop_2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  From the previous lemmas, it follows that the given trace
  without its last transition is constrained.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3c"><span class="kn">Example</span> <span class="nf">doubling_constrained_trace2_init</span> :
  finite_constrained_trace_init_to doubling_vlsm
   doubling_trace2_init_first_state doubling_trace2_init_last_state doubling_trace2_init.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3e"><span class="nb">apply</span> VLSM_incl_finite_valid_trace_init_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part doubling_machine
  (preloaded_vlsm_machine doubling_vlsm
     (<span class="kr">Œª</span> <span class="nv">_</span> : multiplying_message, <span class="kt">True</span>))</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to
  {|
    vlsm_type := doubling_vlsm;
    vlsm_machine := doubling_machine
  |} doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk3f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part doubling_machine
  (preloaded_vlsm_machine doubling_vlsm
     (<span class="kr">Œª</span> <span class="nv">_</span> : multiplying_message, <span class="kt">True</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk40">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_init_to
  {|
    vlsm_type := doubling_vlsm;
    vlsm_machine := doubling_machine
  |} doubling_trace2_init_first_state
  doubling_trace2_init_last_state doubling_trace2_init</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_trace2_init.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The trace is valid (in the preloaded doubling VLSM) without
  its last element and appending it to the end also gives
  a valid trace (in the preloaded doubling VLSM).
  It follows that the full trace is constrained in
  the original doubling VLSM.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk41"><span class="kn">Example</span> <span class="nf">doubling_constrained_trace2</span> :
  finite_constrained_trace_init_to doubling_vlsm
    doubling_trace2_init_first_state doubling_trace2_last_state doubling_trace2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_last_state doubling_trace2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_last_state doubling_trace2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk43"><span class="nb">destruct</span> doubling_constrained_trace2_init.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_constrained_trace_init_to doubling_vlsm
  doubling_trace2_init_first_state
  doubling_trace2_last_state doubling_trace2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk44"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_last_state doubling_trace2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk45"><span class="nb">eapply</span> (extend_right_finite_trace_from_to (preloaded_with_all_messages_vlsm doubling_vlsm));
    [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  multiply_label
  (doubling_trace2_init_last_state, Some <span class="mi">3</span>)
  (<span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk46"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">done</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_last_state</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk47" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk47"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (Some <span class="mi">3</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk48">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_last_state</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> finite_valid_trace_from_to_last_pstate.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk49">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_init_last_state
  doubling_trace2_init</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  doubling_trace2_init_first_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (Some <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab8"></a><h4 class="section">Example of a valid transition</h4>
<div class="paragraph"> </div>

  The last transition of a valid trace is valid.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4a"><span class="kn">Lemma</span> <span class="nf">doubling_example_valid_transition</span> :
  input_valid_transition doubling_vlsm multiply_label
   (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4c"><span class="nb">apply</span> (finite_valid_trace_from_to_last_transition doubling_vlsm
    doubling_trace1_first_state doubling_trace1_last_state
    doubling_trace1_init doubling_trace1 doubling_trace1_last_item); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to doubling_vlsm
  doubling_trace1_first_state
  doubling_trace1_last_state doubling_trace1</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_trace1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab9"></a><h4 class="section">Example of a constrained transition</h4>
<div class="paragraph"> </div>

  The last transition of a constrained trace is constrained.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4d"><span class="kn">Example</span> <span class="nf">doubling_example_constrained_transition</span> :
  input_constrained_transition doubling_vlsm multiply_label
   (<span class="mi">3</span>, Some <span class="mi">3</span>) (<span class="mi">0</span>, Some <span class="mi">6</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition doubling_vlsm
  multiply_label (<span class="mi">3</span>, Some <span class="mi">3</span>) (<span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_constrained_transition doubling_vlsm
  multiply_label (<span class="mi">3</span>, Some <span class="mi">3</span>) (<span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk4f"><span class="nb">apply</span> (finite_valid_trace_from_to_last_transition
    (preloaded_with_all_messages_vlsm doubling_vlsm)
    doubling_trace2_init_first_state doubling_trace2_last_state doubling_trace2_init
    doubling_trace2 doubling_trace2_last_item); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  doubling_trace2_init_first_state
  doubling_trace2_last_state doubling_trace2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_constrained_trace2.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab10"></a><h3 class="section">Doubling VLSM properties</h3>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
<a id="lab11"></a><h4 class="section">Inclusion into preloaded with all messages</h4>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk50"><span class="kn">Lemma</span> <span class="nf">doubling_valid_is_constrained</span> :
  VLSM_incl doubling_vlsm (preloaded_with_all_messages_vlsm doubling_vlsm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl doubling_vlsm
  (preloaded_with_all_messages_vlsm doubling_vlsm)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk51"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl doubling_vlsm
  (preloaded_with_all_messages_vlsm doubling_vlsm)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> vlsm_incl_preloaded_with_all_messages_vlsm.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab12"></a><h3 class="section">Constrained messages are positive even integers</h3>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk52"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_messages_left</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message), constrained_message_prop doubling_vlsm m -&gt;
   Z.Even m /\ m &gt;= <span class="mi">4</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  constrained_message_prop doubling_vlsm m
  ‚Üí Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk53"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  constrained_message_prop doubling_vlsm m
  ‚Üí Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk54"><span class="nb">intros</span> m ([s []] &amp; [] &amp; s&#39; &amp; (_ &amp; _ &amp; []) &amp; Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m0 ‚â§ s</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition () (s, Some m0) = (s&#39;, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk55"><span class="nb">inversion</span> Ht; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m0</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m0 ‚â§ s</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition () (s, Some m0) =
(s - m0, Some (<span class="mi">2</span> * m0))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.Even (<span class="mi">2</span> * m0) ‚àß <span class="mi">2</span> * m0 &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; [<span class="nb">eexists</span> | <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk56"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_messages_right</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message), Z.Even m -&gt; m &gt;= <span class="mi">4</span> -&gt;
   constrained_message_prop doubling_vlsm m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  Z.Even m
  ‚Üí m &gt;= <span class="mi">4</span> ‚Üí constrained_message_prop doubling_vlsm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk57"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  Z.Even m
  ‚Üí m &gt;= <span class="mi">4</span> ‚Üí constrained_message_prop doubling_vlsm m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk58"><span class="nb">intros</span> m [n -&gt;] Hmgt0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hmgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * n &gt;= <span class="mi">4</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_message_prop doubling_vlsm (<span class="mi">2</span> * n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk59"><span class="kr">exists</span> (<span class="nv">n</span>, Some n), multiply_label, <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hmgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * n &gt;= <span class="mi">4</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  multiply_label (n, Some n) (<span class="mi">0</span>, Some (<span class="mi">2</span> * n))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk5a"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">by</span> <span class="bp">lia</span>.. | <span class="bp">by</span> <span class="nb">cbn</span>; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">f_equal</span>; <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hmgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * n &gt;= <span class="mi">4</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm) n</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk5b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hmgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * n &gt;= <span class="mi">4</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk5b"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (Some n)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk5c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hmgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * n &gt;= <span class="mi">4</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm) n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk5d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hmgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> * n &gt;= <span class="mi">4</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (Some n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk5e"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_messages</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
   constrained_message_prop doubling_vlsm m &lt;-&gt; (Z.Even m /\ m &gt;= <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  constrained_message_prop doubling_vlsm m
  ‚Üî Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  constrained_message_prop doubling_vlsm m
  ‚Üî Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk60"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_message_prop doubling_vlsm m
‚Üí Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk61" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk61"><hr></label><div class="goal-conclusion">Z.Even m ‚àß m &gt;= <span class="mi">4</span>
‚Üí constrained_message_prop doubling_vlsm m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk62">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_message_prop doubling_vlsm m
‚Üí Z.Even m ‚àß m &gt;= <span class="mi">4</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_constrained_messages_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk63">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.Even m ‚àß m &gt;= <span class="mi">4</span>
‚Üí constrained_message_prop doubling_vlsm m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [? ?]; <span class="nb">apply</span> doubling_constrained_messages_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab13"></a><h3 class="section">Constrained states property</h3>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk64"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_states_right</span> :
 <span class="kr">forall</span> (<span class="nv">st</span> : multiplying_state),
  constrained_state_prop doubling_vlsm st -&gt;
   st &gt;= <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">st</span> : multiplying_state,
  constrained_state_prop doubling_vlsm st ‚Üí st &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk65"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">st</span> : multiplying_state,
  constrained_state_prop doubling_vlsm st ‚Üí st &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk66"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> valid_state_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s &gt;= <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk67" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  l (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk67"><hr></label><div class="goal-conclusion">s&#39; &gt;= <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk68">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span> <span class="kr">in</span> Hs; <span class="nb">red</span> <span class="kr">in</span> Hs; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk69">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  l (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6a"><span class="nb">destruct</span> l, om, Ht <span class="kr">as</span> [(Hs &amp; _ &amp; []) Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm doubling_vlsm)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  s</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>m ‚â§ s</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition () (s, Some m) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6b"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_states_left</span> :
  <span class="kr">forall</span> (<span class="nv">st</span> : multiplying_state), st &gt;= <span class="mi">0</span> -&gt;
    constrained_state_prop doubling_vlsm st.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">st</span> : multiplying_state,
  st &gt;= <span class="mi">0</span> ‚Üí constrained_state_prop doubling_vlsm st</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">st</span> : multiplying_state,
  st &gt;= <span class="mi">0</span> ‚Üí constrained_state_prop doubling_vlsm st</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6d"><span class="nb">intros</span> st Hst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hst</var><span class="hyp-type"><b>: </b><span>st &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop doubling_vlsm st</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6e"><span class="nb">apply</span> input_valid_transition_destination
    <span class="kr">with</span> (l := multiply_label) (s := st + <span class="mi">2</span>) (om := Some <span class="mi">2</span>) (om&#39; := Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hst</var><span class="hyp-type"><b>: </b><span>st &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  multiply_label (st + <span class="mi">2</span>, Some <span class="mi">2</span>) (st, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk6f"><span class="kp">repeat</span> <span class="nb">split</span>; [| | <span class="bp">by</span> <span class="bp">lia</span>.. | <span class="bp">by</span> <span class="nb">cbn</span>; <span class="kp">do</span> <span class="mi">2</span> <span class="nb">f_equal</span>; <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hst</var><span class="hyp-type"><b>: </b><span>st &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (st + <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk70" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hst</var><span class="hyp-type"><b>: </b><span>st &gt;= <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk70"><hr></label><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk71">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hst</var><span class="hyp-type"><b>: </b><span>st &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (st + <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk72">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hst</var><span class="hyp-type"><b>: </b><span>st &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop
  (preloaded_with_all_messages_vlsm doubling_vlsm)
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> any_message_is_valid_in_preloaded.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk73"><span class="kn">Lemma</span> <span class="nf">doubling_constrained_states</span> :
  <span class="kr">forall</span> (<span class="nv">st</span> : multiplying_state),
    constrained_state_prop doubling_vlsm st &lt;-&gt; st &gt;= <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">st</span> : multiplying_state,
  constrained_state_prop doubling_vlsm st ‚Üî st &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk74"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">st</span> : multiplying_state,
  constrained_state_prop doubling_vlsm st ‚Üî st &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk75"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop doubling_vlsm st ‚Üí st &gt;= <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk76" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk76"><hr></label><div class="goal-conclusion">st &gt;= <span class="mi">0</span> ‚Üí constrained_state_prop doubling_vlsm st</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk77">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">constrained_state_prop doubling_vlsm st ‚Üí st &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_constrained_states_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk78">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>st</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">st &gt;= <span class="mi">0</span> ‚Üí constrained_state_prop doubling_vlsm st</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_constrained_states_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab14"></a><h3 class="section">Powers of 2 greater than or equal to 2 are valid messages</h3>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk79"><span class="kn">Lemma</span> <span class="nf">doubling_valid_messages_powers_of_2_right</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
    valid_message_prop doubling_vlsm m -&gt;
      <span class="kr">exists</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> /\ m = <span class="mi">2</span> ^ p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop doubling_vlsm m
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop doubling_vlsm m
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7b"><span class="nb">intros</span> m [s Hvsm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s
  (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7c"><span class="nb">assert</span> (Hom : is_Some (Some m)) <span class="bp">by</span> (<span class="nb">eexists</span>; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s
  (Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7d"><span class="nb">replace</span> m <span class="kr">with</span> (is_Some_proj Hom) <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s
  (Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7e"><span class="nb">revert</span> Hvsm Hom; <span class="nb">generalize</span> (Some m) <span class="kr">as</span> om; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk7f"><span class="nb">clear</span> m; <span class="nb">induction</span> Hvsm <span class="nb">using</span> valid_state_message_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop doubling_vlsm om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk80" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk80"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk81">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop doubling_vlsm om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk82"><span class="nb">destruct</span> Hom <span class="kr">as</span> [m -&gt;]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>multiplying_initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß <span class="mi">2</span> = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="mi">1</span>; <span class="nb">split</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk83">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk84"><span class="nb">destruct</span> om <span class="kr">as</span> [m |]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s
  (Some m)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some m)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some m) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some m),
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk85"><span class="nb">unshelve</span> <span class="nb">edestruct</span> IHHvsm2 <span class="kr">as</span> [x Hx]; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s
  (Some m)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some m)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some m) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some m),
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span>
‚àß is_Some_proj
    (ex_intro
       (<span class="kr">Œª</span> <span class="nv">x</span> : multiplying_message,
          Some m = Some x) m eq_refl) = 
  <span class="mi">2</span> ^ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk86"><span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s
  (Some m)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some m),
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span>
‚àß is_Some_proj
    (ex_intro
       (<span class="kr">Œª</span> <span class="nv">x</span> : multiplying_message,
          Some m = Some x) m eq_refl) = 
  <span class="mi">2</span> ^ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk87"><span class="nb">cbn</span> <span class="kr">in</span> Hx |- *; <span class="nb">destruct</span> Hx <span class="kr">as</span> [Hgeq1 -&gt;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s
  (Some (<span class="mi">2</span> ^ x))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * <span class="mi">2</span> ^ x))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some (<span class="mi">2</span> ^ x))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some (<span class="mi">2</span> ^ x)),
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>Hgeq1</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß <span class="mi">2</span> * <span class="mi">2</span> ^ x = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk88"><span class="kr">exists</span> (<span class="nv">x</span> + <span class="mi">1</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s
  (Some (<span class="mi">2</span> ^ x))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * <span class="mi">2</span> ^ x))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some (<span class="mi">2</span> ^ x))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some (<span class="mi">2</span> ^ x)),
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>Hgeq1</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x + <span class="mi">1</span> &gt;= <span class="mi">1</span> ‚àß <span class="mi">2</span> * <span class="mi">2</span> ^ x = <span class="mi">2</span> ^ (x + <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk89"><span class="nb">split</span>; [<span class="bp">by</span> <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop doubling_vlsm _s
  (Some (<span class="mi">2</span> ^ x))</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * <span class="mi">2</span> ^ x))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some (<span class="mi">2</span> ^ x))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some (<span class="mi">2</span> ^ x)),
  <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p</span></span></span><br><span><var>Hgeq1</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> * <span class="mi">2</span> ^ x = <span class="mi">2</span> ^ (x + <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> &lt;- Z.pow_succ_r; [| <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8a"><span class="kn">Lemma</span> <span class="nf">doubling_valid_messages_powers_of_2_left</span> :
  <span class="kr">forall</span> (<span class="nv">p</span> : Z),
    p &gt;= <span class="mi">1</span> -&gt; valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ p).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p</span> : Z,
  p &gt;= <span class="mi">1</span> ‚Üí valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p</span> : Z,
  p &gt;= <span class="mi">1</span> ‚Üí valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8c"><span class="nb">intros</span> p Hp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>p &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8d"><span class="nb">assert</span> (Hle : <span class="mi">0</span> &lt;= p - <span class="mi">1</span>) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>p &gt;= <span class="mi">1</span></span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8e"><span class="nb">replace</span> p <span class="kr">with</span> (p - <span class="mi">1</span> + <span class="mi">1</span>) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>p &gt;= <span class="mi">1</span></span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p - <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (p - <span class="mi">1</span> + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk8f"><span class="nb">remember</span> (p - <span class="mi">1</span>) <span class="kr">as</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>p &gt;= <span class="mi">1</span></span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Heqx</var><span class="hyp-type"><b>: </b><span>x = p - <span class="mi">1</span></span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk90"><span class="nb">clear</span> p Hp Heqx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hle</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk91"><span class="nb">revert</span> x Hle.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  <span class="mi">0</span> ‚â§ x
  ‚Üí valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk92"><span class="nb">apply</span> natlike_ind; [<span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid; <span class="nb">cbn</span>; <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  <span class="mi">0</span> ‚â§ x
  ‚Üí valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))
    ‚Üí valid_message_prop doubling_vlsm
        (<span class="mi">2</span> ^ (Z.succ x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk93"><span class="nb">intros</span> x Hxgt0 Hindh.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (Z.succ x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk94"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit doubling_vlsm (<span class="mi">2</span> ^ (Z.succ x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk95"><span class="kr">exists</span> (<span class="mi">2</span> ^ (x + <span class="mi">1</span>), Some (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))), multiply_label, <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span> ^ (x + <span class="mi">1</span>), Some (<span class="mi">2</span> ^ (x + <span class="mi">1</span>)))
  (<span class="mi">0</span>, Some (<span class="mi">2</span> ^ (Z.succ x + <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk96"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk97" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk97"><hr></label><div class="goal-conclusion">option_valid_message_prop doubling_vlsm
  (Some (<span class="mi">2</span> ^ (x + <span class="mi">1</span>)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk98" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk98"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (x + <span class="mi">1</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk99" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk99"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ^ (x + <span class="mi">1</span>) ‚â§ <span class="mi">2</span> ^ (x + <span class="mi">1</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk9a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk9a"><hr></label><div class="goal-conclusion">transition multiply_label
  (<span class="mi">2</span> ^ (x + <span class="mi">1</span>), Some (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))) =
(<span class="mi">0</span>, Some (<span class="mi">2</span> ^ (Z.succ x + <span class="mi">1</span>)))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk9b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk9c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm
  (Some (<span class="mi">2</span> ^ (x + <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hindh.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk9d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (x + <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk9e"><span class="nb">replace</span> (x + <span class="mi">1</span>) <span class="kr">with</span> (Z.succ x) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ Z.succ x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk9f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ (x + <span class="mi">1</span>) ‚â§ <span class="mi">2</span> ^ (x + <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hxgt0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ x</span></span></span><br><span><var>Hindh</var><span class="hyp-type"><b>: </b><span>valid_message_prop doubling_vlsm (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition multiply_label
  (<span class="mi">2</span> ^ (x + <span class="mi">1</span>), Some (<span class="mi">2</span> ^ (x + <span class="mi">1</span>))) =
(<span class="mi">0</span>, Some (<span class="mi">2</span> ^ (Z.succ x + <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">rewrite</span> &lt;- Z.pow_succ_r, Z.add_succ_l; [<span class="kp">do</span> <span class="mi">2</span> <span class="nb">f_equal</span>; <span class="bp">lia</span> | <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka1"><span class="kn">Lemma</span> <span class="nf">doubling_valid_messages_powers_of_2</span> : <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
  valid_message_prop doubling_vlsm m &lt;-&gt;
    <span class="kr">exists</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> /\ m = <span class="mi">2</span> ^ p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop doubling_vlsm m
  ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop doubling_vlsm m
  ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka3"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm m
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chka4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chka4"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p)
‚Üí valid_message_prop doubling_vlsm m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop doubling_vlsm m
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">apply</span> doubling_valid_messages_powers_of_2_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">p</span> : Z, p &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p)
‚Üí valid_message_prop doubling_vlsm m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> (p &amp; Hpgt0 &amp; [= -&gt;]); <span class="nb">apply</span> doubling_valid_messages_powers_of_2_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The constrained transition from <span class="inlinecode"><span class="id" title="var">doubling_example_constrained_transition</span></span>
  is not also valid.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka7"><span class="kn">Example</span> <span class="nf">doubling_example_constrained_transition_not_valid</span> :
  ~ input_valid_transition doubling_vlsm multiply_label
    (<span class="mi">3</span>, Some <span class="mi">3</span>) (<span class="mi">0</span>, Some <span class="mi">6</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ input_valid_transition doubling_vlsm multiply_label
    (<span class="mi">3</span>, Some <span class="mi">3</span>) (<span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ input_valid_transition doubling_vlsm multiply_label
    (<span class="mi">3</span>, Some <span class="mi">3</span>) (<span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chka9"><span class="nb">intros</span> [(_ &amp; Hm &amp; _) _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop doubling_vlsm (Some <span class="mi">3</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkaa"><span class="nb">apply</span> doubling_valid_messages_powers_of_2 <span class="kr">in</span> Hm <span class="kr">as</span> (p &amp; Hp &amp; Heq).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>p &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span><span class="mi">3</span> = <span class="mi">2</span> ^ p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkab"><span class="nb">rewrite</span> &lt;- (Z.succ_pred p) <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span>p &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span><span class="mi">3</span> = <span class="mi">2</span> ^ Z.succ (Z.pred p)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r <span class="kr">in</span> Heq; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab15"></a><h4 class="section">Valid states hold non-negative integers</h4>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkac"><span class="kn">Lemma</span> <span class="nf">doubling_valid_states_right</span> (<span class="nv">s</span> : multiplying_state) :
  valid_state_prop doubling_vlsm s -&gt; s &gt;= <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm s ‚Üí s &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkad"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm s ‚Üí s &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkae"><span class="nb">induction</span> <span class="mi">1</span> <span class="nb">using</span> valid_state_prop_ind;
    [<span class="bp">by</span> <span class="nb">cbn</span> <span class="kr">in</span> Hs; <span class="nb">red</span> <span class="kr">in</span> Hs; <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label doubling_vlsm</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition doubling_vlsm l (s, om)
  (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkaf"><span class="nb">destruct</span> om, l, Ht <span class="kr">as</span> [(Hs &amp; Hm &amp; Hv) Ht]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop doubling_vlsm s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop doubling_vlsm (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid () (s, Some m)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition () (s, Some m) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb0"><span class="nb">inversion</span> Ht; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state doubling_vlsm</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop doubling_vlsm s</span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop doubling_vlsm (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid () (s, Some m)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition () (s, Some m) = (s - m, Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHvalid_state_prop</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s - m &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Hv; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb1"><span class="kn">Lemma</span> <span class="nf">doubling_valid_states_left</span> (<span class="nv">s</span> : multiplying_state) :
  s &gt;= <span class="mi">0</span> -&gt; valid_state_prop doubling_vlsm s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s &gt;= <span class="mi">0</span> ‚Üí valid_state_prop doubling_vlsm s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s &gt;= <span class="mi">0</span> ‚Üí valid_state_prop doubling_vlsm s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb3"><span class="nb">intro</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb4"><span class="nb">destruct</span> (decide (s = <span class="mi">0</span>)) <span class="kr">as</span> [-&gt; |];
    [| <span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb5"><span class="nb">apply</span> input_valid_transition_destination
      <span class="kr">with</span> (l := multiply_label) (s := <span class="mi">2</span>) (om := Some <span class="mi">2</span>) (om&#39; := Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition doubling_vlsm multiply_label
  (<span class="mi">2</span>, Some <span class="mi">2</span>) (<span class="mi">0</span>, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb6"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">cbn</span>; [| | <span class="bp">by</span> <span class="bp">lia</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">2</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkb7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkb7"><hr></label><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkb9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop doubling_vlsm (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkba"><span class="kn">Lemma</span> <span class="nf">doubling_valid_states</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : multiplying_state),
  valid_state_prop doubling_vlsm s &lt;-&gt; s &gt;= <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : multiplying_state,
  valid_state_prop doubling_vlsm s ‚Üî s &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkbb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : multiplying_state,
  valid_state_prop doubling_vlsm s ‚Üî s &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkbc"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm s ‚Üí s &gt;= <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkbd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkbd"><hr></label><div class="goal-conclusion">s &gt;= <span class="mi">0</span> ‚Üí valid_state_prop doubling_vlsm s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkbe">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop doubling_vlsm s ‚Üí s &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_states_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkbf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>multiplying_state</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s &gt;= <span class="mi">0</span> ‚Üí valid_state_prop doubling_vlsm s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> doubling_valid_states_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab16"></a><h2 class="section">Definition of the tripling VLSM</h2>
<div class="paragraph"> </div>

  Similarly to the doubling VLSM, the tripling VLSM is a multiplying VLSM,
  differing only by the fact that its initial message is 3 and that it
  outputs the triple of the received input.

<div class="paragraph"> </div>

  It can be shown that its constrained messages are multiples of three and that
  its valid messages are powers of three, but the proofs will be similar to
  those for the doubling VLSM so we will omit them. The development in module
  <span class="inlinecode"><span class="id" title="var">PrimesComposition</span></span> will make the results for the doubling and tripling VLSM be
  particular instances of more general results.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">tripling_transition</span>
  (<span class="nv">l</span> : multiplying_label) (<span class="nv">st</span> : multiplying_state) (<span class="nv">om</span> : option multiplying_message)
  : multiplying_state * option multiplying_message :=
  <span class="kr">match</span> om <span class="kr">with</span>
  | Some j  =&gt; (st - j, Some (<span class="mi">3</span> * j))
  | None    =&gt; (st, None)
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">tripling_machine</span> : VLSMMachine multiplying_type :=
{|
  initial_state_prop := multiplying_initial_state_prop;
  initial_message_prop := <span class="kr">fun</span> (<span class="nv">ms</span> : multiplying_message) =&gt; ms = <span class="mi">3</span>;
  s0 := multiplying_initial_state_type_inhabited;
  transition := <span class="kr">fun</span> <span class="nv">l</span> &#39;(st, om) =&gt; tripling_transition l st om;
  valid := <span class="kr">fun</span> <span class="nv">l</span> &#39;(st, om) =&gt; multiplying_valid l st om;
|}.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">tripling_vlsm</span> : VLSM multiplying_message := mk_vlsm tripling_machine.</span></span></pre><div class="doc">
<a id="lab17"></a><h2 class="section">Composition of doubling and tripling VLSMs</h2>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_23_composition</span>.</span></span></pre><div class="doc">
  Since our notion of <span class="inlinecode"><span class="id" title="var">composite_vlsm</span></span> is based on an indexed set of components,
  we need to define a base index type

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Inductive</span> <span class="nf">index23</span> := two | three.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc0">#[local] <span class="kn">Instance</span> <span class="nf">eq_dec_index23</span> : EqDecision index23.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EqDecision index23</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">EqDecision index23</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> x y; <span class="nb">unfold</span> Decision; <span class="bp">decide equality</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">components_23</span> (<span class="nv">i</span> : index23) : VLSM multiplying_message :=
  <span class="kr">match</span> i <span class="kr">with</span>
  | two =&gt; doubling_vlsm
  | three =&gt; tripling_vlsm
  <span class="kr">end</span>.</span></span></pre><div class="doc">
We define a helper function to make composite state easier to write. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state_23</span> (<span class="nv">n</span> <span class="nv">m</span> : Z) : composite_state components_23 :=
  <span class="kr">fun</span> (<span class="nv">i</span> : index23) =&gt; <span class="kr">match</span> i <span class="kr">with</span> two =&gt; n | three =&gt; m <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state00</span> := state_23 <span class="mi">0</span> <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state01</span> := state_23 <span class="mi">0</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state10</span> := state_23 <span class="mi">1</span> <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state11</span> := state_23 <span class="mi">1</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state12</span> := state_23 <span class="mi">1</span> <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state21</span> := state_23 <span class="mi">2</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state22</span> := state_23 <span class="mi">2</span> <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state02</span> := state_23 <span class="mi">0</span> <span class="mi">2</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">zproj</span> (<span class="nv">s</span> : composite_state components_23) (<span class="nv">i</span> : index23) : Z :=
  <span class="kr">match</span> i <span class="kr">with</span>
  | two =&gt; s two
  | three =&gt; s three
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">free_composition_23</span> : VLSM multiplying_message :=
  free_composite_vlsm components_23.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc2"><span class="kn">Lemma</span> <span class="nf">composition_23_2_initial</span> :
  composite_initial_message_prop components_23 <span class="mi">2</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop components_23 <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop components_23 <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">two</span>; <span class="nb">unshelve</span> <span class="nb">eexists</span> (exist _ <span class="mi">2</span> _); <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc4"><span class="kn">Lemma</span> <span class="nf">composition_23_3_initial</span> :
  composite_initial_message_prop components_23 <span class="mi">3</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop components_23 <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_message_prop components_23 <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">three</span>; <span class="nb">unshelve</span> <span class="nb">eexists</span> (exist _ <span class="mi">3</span> _); <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc6"><span class="kn">Lemma</span> <span class="nf">free_composition_23_valid_messages_powers_of_23_right</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
    valid_message_prop free_composition_23 m -&gt;
      <span class="kr">exists</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z, p2 &gt;= <span class="mi">0</span> /\ p3 &gt;= <span class="mi">0</span> /\ p2 + p3 &gt;= <span class="mi">1</span> /\
        m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop free_composition_23 m
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc7"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop free_composition_23 m
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc8"><span class="nb">intros</span> m [s Hvsm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkc9"><span class="nb">assert</span> (Hom : is_Some (Some m)) <span class="bp">by</span> (<span class="nb">eexists</span>; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  (Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkca"><span class="nb">replace</span> m <span class="kr">with</span> (is_Some_proj Hom) <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  (Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span>
    ‚àß p2 + p3 &gt;= <span class="mi">1</span>
      ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkcb"><span class="nb">revert</span> Hvsm Hom; <span class="nb">generalize</span> (Some m) <span class="kr">as</span> om; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span>
    ‚àß p2 + p3 &gt;= <span class="mi">1</span>
      ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkcc"><span class="nb">clear</span> m; <span class="nb">induction</span> Hvsm <span class="nb">using</span> valid_state_message_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop free_composition_23
  om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span>
    ‚àß p2 + p3 &gt;= <span class="mi">1</span>
      ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkcd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label free_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkcd"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span>
    ‚àß p2 + p3 &gt;= <span class="mi">1</span>
      ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkce">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop free_composition_23
  om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span>
    ‚àß p2 + p3 &gt;= <span class="mi">1</span>
      ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkcf"><span class="nb">destruct</span> Hom <span class="kr">as</span> [m -&gt;]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>composite_initial_message_prop components_23 m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd0"><span class="nb">destruct</span> Hom0 <span class="kr">as</span> ([] &amp; [] &amp; &lt;-); <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>x = <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß x = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkd1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>x = <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkd1"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß x = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>x = <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß x = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="mi">1</span>, <span class="mi">0</span>; <span class="nb">split</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>x = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß x = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="mi">0</span>, <span class="mi">1</span>; <span class="nb">split</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label free_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state free_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span>
    ‚àß p2 + p3 &gt;= <span class="mi">1</span>
      ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd5"><span class="nb">destruct</span> l <span class="kr">as</span> [[] []];
      (<span class="nb">destruct</span> om <span class="kr">as</span> [m |]; [| <span class="bp">done</span>]);
      (<span class="nb">unshelve</span> <span class="nb">edestruct</span> IHHvsm2 <span class="kr">as</span> (p2 &amp; p3 &amp; Hgt1 &amp; Heq); [<span class="bp">done</span> |]);
      <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkd6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkd6"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd8"><span class="kr">exists</span> (<span class="nv">Z</span>.succ p2), p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.succ p2 &gt;= <span class="mi">0</span>
‚àß p3 &gt;= <span class="mi">0</span>
  ‚àß Z.succ p2 + p3 &gt;= <span class="mi">1</span>
    ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ Z.succ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkd9"><span class="nb">split</span>; [<span class="bp">by</span> <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p3 &gt;= <span class="mi">0</span>
‚àß Z.succ p2 + p3 &gt;= <span class="mi">1</span> ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ Z.succ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkda">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkdb"><span class="kr">exists</span> <span class="nv">p2</span>, (Z.succ p3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p2 &gt;= <span class="mi">0</span>
‚àß Z.succ p3 &gt;= <span class="mi">0</span>
  ‚àß p2 + Z.succ p3 &gt;= <span class="mi">1</span>
    ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ Z.succ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkdc"><span class="nb">split</span>; [<span class="bp">by</span> <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23 s
  _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop free_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span>
        ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span>
      ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.succ p3 &gt;= <span class="mi">0</span>
‚àß p2 + Z.succ p3 &gt;= <span class="mi">1</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ Z.succ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkdd"><span class="kn">Lemma</span> <span class="nf">free_composition_23_valid_messages_powers_of_23_left</span> :
  <span class="kr">forall</span> (<span class="nv">p2</span> <span class="nv">p3</span> : Z), p2 &gt;= <span class="mi">0</span> -&gt; p3 &gt;= <span class="mi">0</span> -&gt; <span class="mi">1</span> &lt;= p2 + p3 -&gt;
    valid_message_prop free_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚Üí p3 &gt;= <span class="mi">0</span>
    ‚Üí <span class="mi">1</span> ‚â§ p2 + p3
      ‚Üí valid_message_prop free_composition_23
          (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkde"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚Üí p3 &gt;= <span class="mi">0</span>
    ‚Üí <span class="mi">1</span> ‚â§ p2 + p3
      ‚Üí valid_message_prop free_composition_23
          (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkdf"><span class="nb">intros</span> p2 p3 Hp2 Hp3 Hp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke0"><span class="nb">remember</span> (p2 + p3) <span class="kr">as</span> p.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Heqp</var><span class="hyp-type"><b>: </b><span>p = p2 + p3</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke1"><span class="nb">revert</span> p2 p3 Hp2 Hp3 Heqp.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚Üí p3 &gt;= <span class="mi">0</span>
    ‚Üí p = p2 + p3
      ‚Üí valid_message_prop free_composition_23
          (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke2"><span class="nb">pose</span> (P (p : Z) := <span class="kr">forall</span> (<span class="nv">p2</span> <span class="nv">p3</span> : Z), p2 &gt;= <span class="mi">0</span> -&gt; p3 &gt;= <span class="mi">0</span> -&gt; p = p2 + p3 -&gt;
    valid_message_prop free_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">p</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚Üí p3 &gt;= <span class="mi">0</span>
      ‚Üí p = p2 + p3
        ‚Üí valid_message_prop free_composition_23
            (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">0</span>
  ‚Üí p3 &gt;= <span class="mi">0</span>
    ‚Üí p = p2 + p3
      ‚Üí valid_message_prop free_composition_23
          (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke3"><span class="nb">cut</span> (P p); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">p</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚Üí p3 &gt;= <span class="mi">0</span>
      ‚Üí p = p2 + p3
        ‚Üí valid_message_prop free_composition_23
            (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P p</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke4"><span class="nb">revert</span> p Hp; <span class="nb">apply</span> Zlt_lower_bound_ind; <span class="nb">subst</span> P; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  (<span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
     <span class="mi">1</span> ‚â§ y &lt; x
     ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
         p2 &gt;= <span class="mi">0</span>
         ‚Üí p3 &gt;= <span class="mi">0</span>
           ‚Üí y = p2 + p3
             ‚Üí valid_message_prop free_composition_23
                 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))
  ‚Üí <span class="mi">1</span> ‚â§ x
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
        p2 &gt;= <span class="mi">0</span>
        ‚Üí p3 &gt;= <span class="mi">0</span>
          ‚Üí x = p2 + p3
            ‚Üí valid_message_prop free_composition_23
                (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke5"><span class="nb">intros</span> p Hind Hp p2 p3 Hp2 Hp3 -&gt;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke6"><span class="nb">destruct</span> (decide (p2 = <span class="mi">0</span>)) <span class="kr">as</span> [-&gt; |], (decide (p3 = <span class="mi">0</span>)) <span class="kr">as</span> [-&gt; |];
    [<span class="bp">by</span> <span class="bp">lia</span> |..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chke7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chke7"><hr></label><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chke8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chke8"><hr></label><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chke9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkea"><span class="nb">destruct</span> (decide (p3 = <span class="mi">1</span>)) <span class="kr">as</span> [-&gt; |];
      [<span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_3_initial |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkeb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkeb"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit free_composition_23 (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkec"><span class="kr">exists</span> (<span class="nv">state_23</span> <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)), Some (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>))),
      (existT three multiply_label), state10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)), Some (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))
  (state10, Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chked"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23
  (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkee"><hr></label><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkef" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkef"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkf0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkf0"><hr></label><div class="goal-conclusion"><span class="mi">3</span> ^ (p3 - <span class="mi">1</span>) ‚â§ state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) three</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkf1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkf1"><hr></label><div class="goal-conclusion">transition (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)), Some (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>))) =
(state10, Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23
  (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf4"><span class="nb">replace</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) <span class="kr">with</span> (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hind; <span class="nb">cycle</span> <span class="mi">3</span>; [<span class="bp">done</span> | <span class="bp">lia</span>..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf6"><span class="nb">replace</span> (p3 - <span class="mi">1</span>) <span class="kr">with</span> (Z.succ (p3 - <span class="mi">2</span>)) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">3</span> ^ Z.succ (p3 - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">3</span> ^ (p3 - <span class="mi">1</span>) ‚â§ state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) three</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)), Some (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>))) =
(state10, Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkf9"><span class="nb">cbn</span>; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23 (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))
  three (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>) - <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) = state10</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chkfa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chkfa"><hr></label><div class="goal-conclusion">Some (<span class="mi">3</span> * <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) = Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkfb">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23 (state_23 <span class="mi">1</span> (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)))
  three (<span class="mi">3</span> ^ (p3 - <span class="mi">1</span>) - <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) = state10</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> extensionality i; <span class="nb">destruct</span> i; state_update_simpl; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkfc">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">3</span> * <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) = Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkfd"><span class="nb">replace</span> p3 <span class="kr">with</span> (Z.succ (p3 - <span class="mi">1</span>)) <span class="nb">at</span> <span class="mi">2</span> <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">0</span> + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">0</span> + p3</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">3</span> * <span class="mi">3</span> ^ (p3 - <span class="mi">1</span>)) =
Some (<span class="mi">2</span> ^ <span class="mi">0</span> * <span class="mi">3</span> ^ Z.succ (p3 - <span class="mi">1</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkfe">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chkff" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chkff"><span class="nb">destruct</span> (decide (p2 = <span class="mi">1</span>)) <span class="kr">as</span> [-&gt; |];
      [<span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk100"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit free_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk101"><span class="kr">exists</span> (<span class="nv">state_23</span> (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>, Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>))),
      (existT two multiply_label), state01.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>, Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)))
  (state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk102"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk103" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk103"><hr></label><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk104" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk104"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk105" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk105"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) ‚â§ state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span> two</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk106" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk106"><hr></label><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>, Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>))) =
(state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk107">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk108">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk109"><span class="nb">replace</span> (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="kr">with</span> (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ <span class="mi">0</span>)
        <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ <span class="mi">0</span>))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hind; <span class="nb">cycle</span> <span class="mi">3</span>; [<span class="bp">done</span> | <span class="bp">lia</span>..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk10a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk10b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk10b"><span class="nb">replace</span> (p2 - <span class="mi">1</span>) <span class="kr">with</span> (Z.succ (p2 - <span class="mi">2</span>)) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ Z.succ (p2 - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk10c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) ‚â§ state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span> two</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk10d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>, Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>))) =
(state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk10e"><span class="nb">cbn</span>; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23 (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>)
  two (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) - <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) = state01</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk10f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk10f"><hr></label><div class="goal-conclusion">Some (<span class="mi">2</span> * <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) = Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk110">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23 (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) <span class="mi">1</span>)
  two (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) - <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) = state01</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> extensionality i; <span class="nb">destruct</span> i; state_update_simpl; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk111">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">2</span> * <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) = Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk112"><span class="nb">replace</span> p2 <span class="kr">with</span> (Z.succ (p2 - <span class="mi">1</span>)) <span class="nb">at</span> <span class="mi">2</span> <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + <span class="mi">0</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + <span class="mi">0</span></span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">2</span> * <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>)) =
Some (<span class="mi">2</span> ^ Z.succ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk113">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk114"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit free_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk115"><span class="kr">exists</span>
      (<span class="nv">state_23</span> (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>, Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)),
      (existT two multiply_label), state01.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))
  (state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk116"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk117" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk117"><hr></label><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk118" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk118"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk119" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk119"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3
‚â§ state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span> two</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk11a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk11a"><hr></label><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
(state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk11b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk11c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hind; <span class="nb">cycle</span> <span class="mi">3</span>; [<span class="bp">done</span> | <span class="bp">lia</span>..].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk11d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk11e"><span class="nb">replace</span> p3 <span class="kr">with</span> (Z.succ (p3 - <span class="mi">1</span>)) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ Z.succ (p3 - <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk11f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3
‚â§ state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span> two</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk120">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
(state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk121"><span class="nb">cbn</span>; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>) two
  (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3 - <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) =
state01</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk122" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk122"><hr></label><div class="goal-conclusion">Some (<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk123">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>) two
  (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3 - <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) =
state01</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> extensionality i; <span class="nb">destruct</span> i; state_update_simpl; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk124">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk125"><span class="nb">replace</span> p2 <span class="kr">with</span> (Z.succ (p2 - <span class="mi">1</span>)) <span class="nb">at</span> <span class="mi">2</span> <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2 + p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2 + p3
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
      p2 &gt;= <span class="mi">0</span>
      ‚Üí p3 &gt;= <span class="mi">0</span>
        ‚Üí y = p2 + p3
          ‚Üí valid_message_prop
              free_composition_23
              (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">0</span></span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>p3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ Z.succ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The valid messages of the <span class="inlinecode"><span class="id" title="var">free_composition_23</span></span> VLSM consist of all integers
  larger than 1 which can be decomposed as a product of powers of 2 and 3.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk126"><span class="kn">Theorem</span> <span class="nf">free_composition_23_valid_messages_powers_of_23</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
    valid_message_prop free_composition_23 m &lt;-&gt;
      <span class="kr">exists</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z, p2 &gt;= <span class="mi">0</span> /\ p3 &gt;= <span class="mi">0</span> /\ p2 + p3 &gt;= <span class="mi">1</span> /\
        m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop free_composition_23 m
  ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">0</span>
       ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk127"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop free_composition_23 m
  ‚Üî (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">0</span>
       ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk128"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23 m
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk129" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk129"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
   p2 &gt;= <span class="mi">0</span>
   ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)
‚Üí valid_message_prop free_composition_23 m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23 m
‚Üí <span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
    p2 &gt;= <span class="mi">0</span>
    ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> free_composition_23_valid_messages_powers_of_23_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
   p2 &gt;= <span class="mi">0</span>
   ‚àß p3 &gt;= <span class="mi">0</span> ‚àß p2 + p3 &gt;= <span class="mi">1</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)
‚Üí valid_message_prop free_composition_23 m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12c"><span class="nb">intros</span> (? &amp; ? &amp; ? &amp; ? &amp; ? &amp; -&gt;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, x0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>x0 &gt;= <span class="mi">0</span></span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>x + x0 &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop free_composition_23
  (<span class="mi">2</span> ^ x * <span class="mi">3</span> ^ x0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> free_composition_23_valid_messages_powers_of_23_left; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_state_update_23_def</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">s</span> : composite_state components_23)
  (<span class="nv">i</span> : index23)
  (<span class="nv">z</span> : Z)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">state_update_23</span> (<span class="nv">j</span> : index23) : state (components_23 j) :=
  <span class="kr">if</span> (decide (i = j)) <span class="kr">then</span>
    <span class="kr">match</span> j <span class="kr">with</span>
    | two =&gt; z
    | three  =&gt; z
    <span class="kr">end</span>
  <span class="kr">else</span> s j.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12d"><span class="kn">Lemma</span> <span class="nf">state_update_23_eq</span> :
  zproj state_update_23 i = z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">zproj state_update_23 i = z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">zproj state_update_23 i = z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> state_update_23; <span class="nb">destruct</span> i; <span class="nb">cbn</span>; <span class="nb">rewrite</span> decide_True.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk12f"><span class="kn">Lemma</span> <span class="nf">state_update_23_neq</span> :
  <span class="kr">forall</span> (<span class="nv">j</span> : index23), j &lt;&gt; i -&gt; state_update_23 j = s j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, j ‚â† i ‚Üí state_update_23 j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk130"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, j ‚â† i ‚Üí state_update_23 j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">unfold</span> state_update_23; <span class="nb">rewrite</span> decide_False.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_state_update_23_def</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk131"><span class="kn">Lemma</span> <span class="nf">state_update_23_twice</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state components_23) (<span class="nv">i</span> : index23) (<span class="nv">z</span> <span class="nv">z&#39;</span> : Z),
    state_update_23 (state_update_23 s i z) i z&#39; = state_update_23 s i z&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state components_23) (<span class="nv">i</span> : index23) 
  (<span class="nv">z</span> <span class="nv">z&#39;</span> : Z),
  state_update_23 (state_update_23 s i z) i z&#39; =
  state_update_23 s i z&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk132"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">s</span> : composite_state components_23) (<span class="nv">i</span> : index23) 
  (<span class="nv">z</span> <span class="nv">z&#39;</span> : Z),
  state_update_23 (state_update_23 s i z) i z&#39; =
  state_update_23 s i z&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; extensionality j; <span class="nb">unfold</span> state_update_23; case_decide; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk133"><span class="kn">Lemma</span> <span class="nf">state_update_23_two</span> (<span class="nv">s</span> : composite_state components_23) (<span class="nv">z</span> : Z) :
  state_update_23 s two z = state_update components_23 s two z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two z =
state_update components_23 s two z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk134"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two z =
state_update components_23 s two z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk135">extensionality i; <span class="nb">destruct</span> i; <span class="nb">unfold</span> state_update_23; state_update_simpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (two = two) <span class="kr">then</span> z <span class="kr">else</span> s two) = z</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk136" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk136"><hr></label><div class="goal-conclusion">(<span class="kr">if</span> decide (two = three) <span class="kr">then</span> z <span class="kr">else</span> s three) =
s three</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk137">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (two = two) <span class="kr">then</span> z <span class="kr">else</span> s two) = z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_True.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk138">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (two = three) <span class="kr">then</span> z <span class="kr">else</span> s three) =
s three</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_False.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk139"><span class="kn">Lemma</span> <span class="nf">state_update_23_three</span> (<span class="nv">s</span> : composite_state components_23) (<span class="nv">z</span> : Z) :
  state_update_23 s three z = state_update components_23 s three z.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s three z =
state_update components_23 s three z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk13a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s three z =
state_update components_23 s three z</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk13b">extensionality i; <span class="nb">destruct</span> i; <span class="nb">unfold</span> state_update_23; state_update_simpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (three = two) <span class="kr">then</span> z <span class="kr">else</span> s two) = s two</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk13c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk13c"><hr></label><div class="goal-conclusion">(<span class="kr">if</span> decide (three = three) <span class="kr">then</span> z <span class="kr">else</span> s three) = z</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk13d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (three = two) <span class="kr">then</span> z <span class="kr">else</span> s two) = s two</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_False.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk13e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>z</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span> decide (three = three) <span class="kr">then</span> z <span class="kr">else</span> s three) = z</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_True.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk13f"><span class="kn">Definition</span> <span class="nf">label_23</span> (<span class="nv">i</span> : index23) : composite_label components_23.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_label components_23</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk140"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_label components_23</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk141"><span class="kr">exists</span> <span class="nv">i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">label (components_23 i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> i; <span class="bp">exact</span> ().</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Defined</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">multiplier_23</span> (<span class="nv">i</span> : index23) : Z :=
  <span class="kr">match</span> i <span class="kr">with</span>
  | two =&gt; <span class="mi">2</span>
  | three =&gt; <span class="mi">3</span>
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk142"><span class="kn">Lemma</span> <span class="nf">free_composition_23_reachable_0</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state components_23),
    valid_state_prop free_composition_23 s -&gt;
  <span class="kr">forall</span> (<span class="nv">i</span> : index23), <span class="mi">2</span> &lt;= zproj s i -&gt;
    in_futures free_composition_23 s (state_update_23 s i <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop free_composition_23 s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">i</span> : index23,
      <span class="mi">2</span> ‚â§ zproj s i
      ‚Üí in_futures free_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk143"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop free_composition_23 s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">i</span> : index23,
      <span class="mi">2</span> ‚â§ zproj s i
      ‚Üí in_futures free_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk144"><span class="nb">intros</span> s Hs i Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ zproj s i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk145"><span class="nb">remember</span> (zproj s i) <span class="kr">as</span> si; <span class="nb">revert</span> s Hs Heqsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop free_composition_23 s
  ‚Üí si = zproj s i
    ‚Üí in_futures free_composition_23 s
        (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk146"><span class="nb">pose</span> (P (si : Z) :=
    <span class="kr">forall</span> (<span class="nv">s</span> : composite_state components_23),
      valid_state_prop free_composition_23 s -&gt;
      si = zproj s i -&gt;
    in_futures free_composition_23 s (state_update_23 s i <span class="mi">0</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">si</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
    valid_state_prop free_composition_23 s
    ‚Üí si = zproj s i
      ‚Üí in_futures free_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop free_composition_23 s
  ‚Üí si = zproj s i
    ‚Üí in_futures free_composition_23 s
        (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk147"><span class="nb">cut</span> (P si); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">si</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
    valid_state_prop free_composition_23 s
    ‚Üí si = zproj s i
      ‚Üí in_futures free_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk148"><span class="nb">revert</span> si Hi; <span class="nb">apply</span> Zlt_lower_bound_ind; <span class="nb">subst</span> P; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  (<span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
     <span class="mi">2</span> ‚â§ y &lt; x
     ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
         valid_state_prop free_composition_23 s
         ‚Üí y = zproj s i
           ‚Üí in_futures free_composition_23 s
               (state_update_23 s i <span class="mi">0</span>))
  ‚Üí <span class="mi">2</span> ‚â§ x
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
        valid_state_prop free_composition_23 s
        ‚Üí x = zproj s i
          ‚Üí in_futures free_composition_23 s
              (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk149"><span class="nb">intros</span> si Hind Hlt s Hs Heqsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk14a"><span class="nb">destruct</span> (decide (<span class="mi">4</span> &lt;= si)); [| <span class="nb">destruct</span> (decide (si = <span class="mi">3</span>))].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk14b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk14b"><hr></label><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk14c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk14c"><hr></label><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk14d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk14e"><span class="nb">pose</span> (s&#39; := state_update_23 s i (si - <span class="mi">2</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk14f"><span class="nb">cut</span> (input_valid_transition free_composition_23 (label_23 i)
      (s, Some <span class="mi">2</span>) (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))
‚Üí in_futures free_composition_23 s
    (state_update_23 s i <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk150" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk150"><hr></label><div class="goal-conclusion">input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk151">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))
‚Üí in_futures free_composition_23 s
    (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk152"><span class="nb">transitivity</span> s&#39;; [<span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_in_futures |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s&#39;
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk153"><span class="nb">replace</span> (state_update_23 s i <span class="mi">0</span>) <span class="kr">with</span> (state_update_23 s&#39; i <span class="mi">0</span>)
        <span class="bp">by</span> <span class="nb">apply</span> state_update_23_twice.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s&#39;
  (state_update_23 s&#39; i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk154"><span class="nb">apply</span> (Hind (si - <span class="mi">2</span>)); [<span class="bp">by</span> <span class="bp">lia</span> |..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23 s&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk155" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk155"><hr></label><div class="goal-conclusion">si - <span class="mi">2</span> = zproj s&#39; i</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk156">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23 s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_destination.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk157" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk157">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si - <span class="mi">2</span> = zproj s&#39; i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">symmetry</span>; <span class="nb">apply</span> state_update_23_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk158" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk158">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk159"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span> |..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23 (Some <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk15a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk15a"><hr></label><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk15b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk15b"><hr></label><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">2</span>) =
(s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk15c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23 (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk15d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> i; <span class="nb">cbn</span> <span class="kr">in</span> Heqsi |- *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk15e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (si - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">2</span>) =
(s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk15f"><span class="nb">destruct</span> i; <span class="nb">cbn</span>; <span class="nb">f_equal</span>; <span class="nb">subst</span> si s&#39;; <span class="nb">cbn</span>; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ zproj s two</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; zproj s two
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s two
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ zproj s two</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two (s two - <span class="mi">2</span>) =
state_update components_23 s two (s two - <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk160" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ zproj s three</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; zproj s three
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s three
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ zproj s three</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk160"><hr></label><div class="goal-conclusion">state_update_23 s three (s three - <span class="mi">2</span>) =
state_update components_23 s three (s three - <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk161">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ zproj s two</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; zproj s two
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s two
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ zproj s two</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two (s two - <span class="mi">2</span>) =
state_update components_23 s two (s two - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_update_23_two.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk162">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ zproj s three</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; zproj s three
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s three
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span><span class="mi">4</span> ‚â§ zproj s three</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s three (s three - <span class="mi">2</span>) =
state_update components_23 s three (s three - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_update_23_three.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk163">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk164"><span class="nb">apply</span> input_valid_transition_in_futures
      <span class="kr">with</span> (l := label_23 i) (im := Some <span class="mi">3</span>) (om := Some (<span class="mi">3</span> * multiplier_23 i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">3</span>)
  (state_update_23 s i <span class="mi">0</span>, Some (<span class="mi">3</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk165"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span> |..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23 (Some <span class="mi">3</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk166" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk166"><hr></label><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">3</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk167" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk167"><hr></label><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">3</span>) =
(state_update_23 s i <span class="mi">0</span>, Some (<span class="mi">3</span> * multiplier_23 i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk168">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23 (Some <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_3_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk169">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> i; <span class="nb">cbn</span> <span class="kr">in</span> Heqsi |- *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk16a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>si = <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">3</span>) =
(state_update_23 s i <span class="mi">0</span>, Some (<span class="mi">3</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk16b"><span class="nb">destruct</span> i; <span class="nb">cbn</span>; <span class="nb">f_equal</span>; <span class="nb">subst</span> si; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s two</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s two
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s two
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s two</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two <span class="mi">0</span> =
state_update components_23 s two (s two - <span class="mi">3</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk16c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s three</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s three
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s three
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s three</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk16c"><hr></label><div class="goal-conclusion">state_update_23 s three <span class="mi">0</span> =
state_update components_23 s three (s three - <span class="mi">3</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk16d">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s two</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s two
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s two
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s two</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two <span class="mi">0</span> =
state_update components_23 s two (s two - <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_two; <span class="nb">f_equal</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk16e">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s three</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s three
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s three
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s three</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s three <span class="mi">0</span> =
state_update components_23 s three (s three - <span class="mi">3</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_three; <span class="nb">f_equal</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk16f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk170"><span class="nb">apply</span> input_valid_transition_in_futures
      <span class="kr">with</span> (l := label_23 i) (im := Some <span class="mi">2</span>) (om := Some (<span class="mi">2</span> * multiplier_23 i)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition free_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (state_update_23 s i <span class="mi">0</span>, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk171"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span> |..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23 (Some <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk172" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk172"><hr></label><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk173" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk173"><hr></label><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">2</span>) =
(state_update_23 s i <span class="mi">0</span>, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk174">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop free_composition_23 (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk175">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> i; <span class="nb">cbn</span> <span class="kr">in</span> Heqsi |- *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk176">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; si
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = zproj s i
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ si</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>si = zproj s i</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ si</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>si ‚â† <span class="mi">3</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">2</span>) =
(state_update_23 s i <span class="mi">0</span>, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk177"><span class="nb">destruct</span> i; <span class="nb">cbn</span>; <span class="nb">f_equal</span>; <span class="nb">subst</span> si; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s two</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s two
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s two
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>s two ‚â† <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s two</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two <span class="mi">0</span> =
state_update components_23 s two (s two - <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk178" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s three</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s three
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s three
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>s three ‚â† <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s three</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk178"><hr></label><div class="goal-conclusion">state_update_23 s three <span class="mi">0</span> =
state_update components_23 s three (s three - <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk179">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s two</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s two
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s two
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>s two ‚â† <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s two</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two <span class="mi">0</span> =
state_update components_23 s two (s two - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_two; <span class="nb">f_equal</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk17a">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s three</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">2</span> ‚â§ y &lt; s three
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
      valid_state_prop free_composition_23 s
      ‚Üí y = s three
        ‚Üí in_futures free_composition_23 s
            (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop free_composition_23 s</span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>s three ‚â† <span class="mi">3</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ <span class="mi">4</span> ‚â§ s three</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s three <span class="mi">0</span> =
state_update components_23 s three (s three - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_three; <span class="nb">f_equal</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  From any composite state whose components are larger than 1
  there is a valid trace reaching <span class="inlinecode"><span class="id" title="var">state00</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk17b"><span class="kn">Theorem</span> <span class="nf">free_composite_23_reachable_00</span> :
  <span class="kr">forall</span> (<span class="nv">s2</span> <span class="nv">s3</span> : Z),
    <span class="mi">2</span> &lt;= s2 -&gt; <span class="mi">2</span> &lt;= s3 -&gt;
    in_futures free_composition_23 (state_23 s2 s3) state00.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s2</span> <span class="nv">s3</span> : Z,
  <span class="mi">2</span> ‚â§ s2
  ‚Üí <span class="mi">2</span> ‚â§ s3
    ‚Üí in_futures free_composition_23 (state_23 s2 s3)
        state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk17c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s2</span> <span class="nv">s3</span> : Z,
  <span class="mi">2</span> ‚â§ s2
  ‚Üí <span class="mi">2</span> ‚â§ s3
    ‚Üí in_futures free_composition_23 (state_23 s2 s3)
        state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk17d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk17d"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk17e"><span class="nb">cut</span> (in_futures free_composition_23 (state_23 s2 s3) (state_23 <span class="mi">0</span> s3)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)
‚Üí in_futures free_composition_23 (state_23 s2 s3)
    state00</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk17f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk17f"><hr></label><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk180">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)
‚Üí in_futures free_composition_23 (state_23 s2 s3)
    state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk181"><span class="nb">etransitivity</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 <span class="mi">0</span> s3) state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk182"><span class="nb">replace</span> state00 <span class="kr">with</span> (state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 <span class="mi">0</span> s3)
  (state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk183" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk183"><hr></label><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span> = state00</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk184">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 <span class="mi">0</span> s3)
  (state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk185"><span class="nb">apply</span> free_composition_23_reachable_0; [| <span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23 (state_23 <span class="mi">0</span> s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> in_futures_valid_snd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk186">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span> = state00</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk187">extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span> two = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk188" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk188"><hr></label><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span> three = <span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk189">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span> two = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_neq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk18a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> s3) three <span class="mi">0</span> three = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_three; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk18b">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  (state_23 <span class="mi">0</span> s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk18c"><span class="nb">replace</span> (state_23 <span class="mi">0</span> s3) <span class="kr">with</span> (state_update_23 (state_23 s2 s3) two <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  (state_update_23 (state_23 s2 s3) two <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk18d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk18d"><hr></label><div class="goal-conclusion">state_update_23 (state_23 s2 s3) two <span class="mi">0</span> = state_23 <span class="mi">0</span> s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk18e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures free_composition_23 (state_23 s2 s3)
  (state_update_23 (state_23 s2 s3) two <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk18f"><span class="nb">apply</span> free_composition_23_reachable_0; [| <span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop free_composition_23 (state_23 s2 s3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk190">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 s2 s3) two <span class="mi">0</span> = state_23 <span class="mi">0</span> s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk191">extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 s2 s3) two <span class="mi">0</span> two = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk192" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk192"><hr></label><div class="goal-conclusion">state_update_23 (state_23 s2 s3) two <span class="mi">0</span> three = s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk193">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 s2 s3) two <span class="mi">0</span> two = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_two; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk194">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 s2 s3) two <span class="mi">0</span> three = s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_neq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">composite_state_23_sum</span> (<span class="nv">s</span> : composite_state components_23) : Z :=
  s two + s three.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">parity_constraint_23</span>
  (<span class="nv">l</span> : composite_label components_23)
  (<span class="nv">sm</span> : composite_state components_23 * option multiplying_message) : <span class="kt">Prop</span> :=
    <span class="kr">let</span> <span class="nv">sm&#39;</span> := composite_transition components_23 l sm <span class="kr">in</span>
      Z.Even (composite_state_23_sum sm.<span class="mi">1</span> + composite_state_23_sum sm&#39;.<span class="mi">1</span>).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">parity_composition_23</span> : VLSM multiplying_message :=
  composite_vlsm components_23 parity_constraint_23.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk195"><span class="kn">Lemma</span> <span class="nf">parity_constraint_23_even</span>
  (<span class="nv">l</span> : composite_label components_23) (<span class="nv">s</span> : composite_state components_23)
  (<span class="nv">m</span> : multiplying_message) :
  parity_constraint_23 l (s, Some m) &lt;-&gt; Z.Even m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label components_23</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 l (s, Some m) ‚Üî Z.Even m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk196"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label components_23</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 l (s, Some m) ‚Üî Z.Even m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk197"><span class="nb">unfold</span> parity_constraint_23, composite_state_23_sum.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label components_23</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.Even
  ((s, Some m).<span class="mi">1</span> two + (s, Some m).<span class="mi">1</span> three +
   ((composite_transition components_23 l (s, Some m)).<span class="mi">1</span>
      two +
    (composite_transition components_23 l (s, Some m)).<span class="mi">1</span>
      three)) ‚Üî Z.Even m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; <span class="nb">intros</span> [n Hn]; <span class="nb">destruct</span> l <span class="kr">as</span> [[] li]; <span class="nb">cbn</span> <span class="kr">in</span> *; state_update_simpl;
    <span class="kr">exists</span> (<span class="nv">s</span> <span class="nv">two</span> + s three - n); <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk198"><span class="kn">Lemma</span> <span class="nf">parity_composition_23_valid_messages_powers_of_23_right</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
    valid_message_prop parity_composition_23 m -&gt;
      m = <span class="mi">3</span> \/
      <span class="kr">exists</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z, p2 &gt;= <span class="mi">1</span> /\ p3 &gt;= <span class="mi">0</span> /\
        m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop parity_composition_23 m
  ‚Üí m = <span class="mi">3</span>
    ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
         p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk199"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop parity_composition_23 m
  ‚Üí m = <span class="mi">3</span>
    ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
         p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk19a"><span class="nb">intros</span> m [s Hvsm].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk19b"><span class="nb">assert</span> (Hom : is_Some (Some m)) <span class="bp">by</span> (<span class="nb">eexists</span>; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s (Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk19c"><span class="nb">replace</span> m <span class="kr">with</span> (is_Some_proj Hom) <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s (Some m)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some_proj Hom = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span>
     ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk19d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk19d"><span class="nb">revert</span> Hvsm Hom; <span class="nb">generalize</span> (Some m) <span class="kr">as</span> om; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some_proj Hom = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span>
     ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk19e"><span class="nb">clear</span> m; <span class="nb">induction</span> Hvsm <span class="nb">using</span> valid_state_message_prop_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop
  parity_composition_23 om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some_proj Hom = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span>
     ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk19f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk19f"><hr></label><div class="goal-conclusion">is_Some_proj Hom = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span>
     ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>option_initial_message_prop
  parity_composition_23 om</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some_proj Hom = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span>
     ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a1"><span class="nb">destruct</span> Hom <span class="kr">as</span> [m -&gt;]; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hom0</var><span class="hyp-type"><b>: </b><span>composite_initial_message_prop components_23 m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a2"><span class="nb">destruct</span> Hom0 <span class="kr">as</span> ([] &amp; [] &amp; &lt;-); <span class="nb">cbn</span> <span class="kr">in</span> *; [| <span class="bp">by</span> <span class="nb">left</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop components_23 s</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>x = <span class="mi">2</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß x = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="kr">exists</span> <span class="mi">1</span>, <span class="mi">0</span>; <span class="nb">split</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some_proj Hom = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span>
     ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a4"><span class="nb">right</span>; <span class="nb">destruct</span> Hv <span class="kr">as</span> [Hv Hc]; <span class="nb">unfold</span> parity_constraint_23 <span class="kr">in</span> Hc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum (s, om).<span class="mi">1</span> +
   composite_state_23_sum
     (composite_transition components_23 l
        (s, om)).<span class="mi">1</span>)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a5"><span class="nb">assert</span> (H_om : is_Some om) <span class="bp">by</span> (<span class="nb">destruct</span> l <span class="kr">as</span> [[] []], om; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s om</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum (s, om).<span class="mi">1</span> +
   composite_state_23_sum
     (composite_transition components_23 l
        (s, om)).<span class="mi">1</span>)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a6"><span class="nb">destruct</span> om <span class="kr">as</span> [m |]; [| <span class="bp">by</span> <span class="nb">apply</span> is_Some_None <span class="kr">in</span> H_om].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum (s, Some m).<span class="mi">1</span> +
   composite_state_23_sum
     (composite_transition components_23 l
        (s, Some m)).<span class="mi">1</span>)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, Some m) = (s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some (Some m),
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a7"><span class="nb">specialize</span> (IHHvsm2 H_om); <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label components_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span> valid li (s i, Some m)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (<span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
      <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
        transition li (s i, Some m) <span class="kr">in</span>
      (state_update components_23 s i si&#39;, om&#39;)).<span class="mi">1</span>)</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
 <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (s i, Some m) <span class="kr">in</span>
 (state_update components_23 s i si&#39;, om&#39;)) =
(s&#39;, om&#39;)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some om&#39;</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>IHHvsm2</var><span class="hyp-type"><b>: </b><span>m = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span>
  ‚àß p3 &gt;= <span class="mi">0</span> ‚àß is_Some_proj Hom = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1a8"><span class="nb">destruct</span> l <span class="kr">as</span> [[] []], IHHvsm2 <span class="kr">as</span> [| (p2 &amp; p3 &amp; Hgt1 &amp; Heq)];
      <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">cbn</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s two
        (s two - <span class="mi">3</span>)))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ <span class="mi">3</span> ‚â§ s two</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some <span class="mi">3</span>)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * <span class="mi">3</span>))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - <span class="mi">3</span>),
 Some (<span class="mi">2</span> * <span class="mi">3</span>)) =
(state_update components_23 s two (s two - <span class="mi">3</span>),
 Some (<span class="mi">2</span> * <span class="mi">3</span>))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some <span class="mi">3</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">2</span> * <span class="mi">3</span> = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1a9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s two
        (s two - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1a9"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1aa" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - <span class="mi">3</span>)))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ <span class="mi">3</span> ‚â§ s three</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some <span class="mi">3</span>)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * <span class="mi">3</span>))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - <span class="mi">3</span>),
 Some (<span class="mi">3</span> * <span class="mi">3</span>)) =
(state_update components_23 s three (s three - <span class="mi">3</span>),
 Some (<span class="mi">3</span> * <span class="mi">3</span>))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some <span class="mi">3</span>)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1aa"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">3</span> * <span class="mi">3</span> = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1ab" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1ab"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ac">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s two
        (s two - <span class="mi">3</span>)))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ <span class="mi">3</span> ‚â§ s two</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some <span class="mi">3</span>)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * <span class="mi">3</span>))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - <span class="mi">3</span>),
 Some (<span class="mi">2</span> * <span class="mi">3</span>)) =
(state_update components_23 s two (s two - <span class="mi">3</span>),
 Some (<span class="mi">2</span> * <span class="mi">3</span>))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some <span class="mi">3</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">2</span> * <span class="mi">3</span> = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="mi">1</span>, <span class="mi">1</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ad">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s two
        (s two - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ae"><span class="kr">exists</span> (<span class="nv">Z</span>.succ p2), p3; <span class="nb">split</span>; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s two</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s two
        (s two - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m)) =
(state_update components_23 s two (s two - m),
 Some (<span class="mi">2</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">2</span> * m = <span class="mi">2</span> ^ Z.succ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1af">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - <span class="mi">3</span>)))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ <span class="mi">3</span> ‚â§ s three</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some <span class="mi">3</span>)</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * <span class="mi">3</span>))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - <span class="mi">3</span>),
 Some (<span class="mi">3</span> * <span class="mi">3</span>)) =
(state_update components_23 s three (s three - <span class="mi">3</span>),
 Some (<span class="mi">3</span> * <span class="mi">3</span>))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some <span class="mi">3</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">3</span> * <span class="mi">3</span> = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b0"><span class="nb">exfalso</span>; <span class="nb">clear</span> -Hc.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - <span class="mi">3</span>)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b1"><span class="nb">destruct</span> Hc <span class="kr">as</span> [n Hn]; <span class="nb">unfold</span> composite_state_23_sum <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>s two + s three +
(state_update components_23 s three (s three - <span class="mi">3</span>)
   two +
 state_update components_23 s three (s three - <span class="mi">3</span>)
   three) = <span class="mi">2</span> * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> state_update_simpl; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b3"><span class="kr">exists</span> <span class="nv">p2</span>, (Z.succ p3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">p2 &gt;= <span class="mi">1</span>
‚àß Z.succ p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ Z.succ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b4"><span class="nb">split</span>; [<span class="bp">by</span> <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>_om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>Hvsm1</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  s _om</span></span></span><br><span><var>_s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br><span><var>Hvsm2</var><span class="hyp-type"><b>: </b><span>valid_state_message_prop parity_composition_23
  _s (Some m)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="mi">2</span> ‚â§ m ‚â§ s three</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>Z.Even
  (composite_state_23_sum s +
   composite_state_23_sum
     (state_update components_23 s three
        (s three - m)))</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>is_Some (Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m)) =
(state_update components_23 s three (s three - m),
 Some (<span class="mi">3</span> * m))</span></span></span><br><span><var>IHHvsm1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">Hom</span> : is_Some _om,
  is_Some_proj Hom = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span>
       ‚àß p3 &gt;= <span class="mi">0</span>
         ‚àß is_Some_proj Hom =
           <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>H_om</var><span class="hyp-type"><b>: </b><span>is_Some (Some m)</span></span></span><br><span><var>p2, p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hgt1</var><span class="hyp-type"><b>: </b><span>p2 &gt;= <span class="mi">1</span></span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Z.succ p3 &gt;= <span class="mi">0</span> ‚àß <span class="mi">3</span> * m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ Z.succ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b5"><span class="kn">Lemma</span> <span class="nf">parity_composition_23_valid_messages_powers_of_23_left</span> :
  <span class="kr">forall</span> (<span class="nv">p2</span> <span class="nv">p3</span> : Z), <span class="mi">1</span> &lt;= p2 -&gt; <span class="mi">0</span> &lt;= p3 -&gt;
    valid_message_prop parity_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  <span class="mi">1</span> ‚â§ p2
  ‚Üí <span class="mi">0</span> ‚â§ p3
    ‚Üí valid_message_prop parity_composition_23
        (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
  <span class="mi">1</span> ‚â§ p2
  ‚Üí <span class="mi">0</span> ‚â§ p3
    ‚Üí valid_message_prop parity_composition_23
        (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b7"><span class="nb">intros</span> p2 p3 Hp2; <span class="nb">revert</span> p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b8"><span class="nb">pose</span> (P (p2 : Z) := <span class="kr">forall</span> (<span class="nv">p3</span> : Z), <span class="mi">0</span> &lt;= p3 -&gt;
    valid_message_prop parity_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">p2</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
    <span class="mi">0</span> ‚â§ p3
    ‚Üí valid_message_prop parity_composition_23
        (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1b9"><span class="nb">cut</span> (P p2); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">p2</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
    <span class="mi">0</span> ‚â§ p3
    ‚Üí valid_message_prop parity_composition_23
        (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P p2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ba" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ba"><span class="nb">revert</span> p2 Hp2; <span class="nb">apply</span> Zlt_lower_bound_ind; <span class="nb">subst</span> P; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  (<span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
     <span class="mi">1</span> ‚â§ y &lt; x
     ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
         <span class="mi">0</span> ‚â§ p3
         ‚Üí valid_message_prop parity_composition_23
             (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3))
  ‚Üí <span class="mi">1</span> ‚â§ x
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
        <span class="mi">0</span> ‚â§ p3
        ‚Üí valid_message_prop parity_composition_23
            (<span class="mi">2</span> ^ x * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1bb"><span class="nb">intros</span> p2 Hind Hp2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1bc"><span class="nb">destruct</span> (decide (p2 = <span class="mi">1</span>)) <span class="kr">as</span> [-&gt; |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">1</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1bd" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1bd"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1be">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; <span class="mi">1</span>
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1bf"><span class="nb">clear</span> Hind; <span class="nb">apply</span> natlike_ind;
      [<span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  <span class="mi">0</span> ‚â§ x
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ x)
    ‚Üí valid_message_prop parity_composition_23
        (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1c0"><span class="nb">intros</span> p3 Hp3 Hind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1c1"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit parity_composition_23 (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1c2"><span class="kr">exists</span> (<span class="nv">state_23</span> <span class="mi">1</span> ((<span class="mi">2</span> * <span class="mi">3</span> ^ p3)), Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)),
      (existT three multiply_label), state10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3), Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3))
  (state10, Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1c3"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1c4" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1c4"><hr></label><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1c5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1c5"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1c6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1c6"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3 ‚â§ state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3) three</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1c7"><hr></label><div class="goal-conclusion">parity_constraint_23 (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3), Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1c8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1c8"><hr></label><div class="goal-conclusion">transition (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3), Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)) =
(state10, Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1c9">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ca">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1cb">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1cc">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3 ‚â§ state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3) three</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1cd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3), Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> (<span class="mi">3</span> ^ p3); <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ce">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT three multiply_label)
  (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3), Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)) =
(state10, Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1cf"><span class="nb">cbn</span>; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23 (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3))
  three (<span class="mi">2</span> * <span class="mi">3</span> ^ p3 - <span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3) = state10</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1d0" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1d0"><hr></label><div class="goal-conclusion">Some (<span class="mi">3</span> * (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d1">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23 (state_23 <span class="mi">1</span> (<span class="mi">2</span> * <span class="mi">3</span> ^ p3))
  three (<span class="mi">2</span> * <span class="mi">3</span> ^ p3 - <span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3) = state10</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> extensionality i; <span class="nb">destruct</span> i; state_update_simpl; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span>valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">3</span> * (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ <span class="mi">1</span> * <span class="mi">3</span> ^ Z.succ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
  <span class="mi">0</span> ‚â§ p3
  ‚Üí valid_message_prop parity_composition_23
      (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d4"><span class="nb">intros</span> p3 Hp3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d5"><span class="nb">apply</span> emitted_messages_are_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">can_emit parity_composition_23 (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d6"><span class="kr">exists</span> (<span class="nv">state_23</span> (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>, Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)),
      (existT two multiply_label), state01.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))
  (state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1d7"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1d8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1d8"><hr></label><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1d9" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1d9"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1da" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1da"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3
‚â§ state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span> two</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1db" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1db"><hr></label><div class="goal-conclusion">parity_constraint_23 (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1dc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1dc"><hr></label><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
(state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1dd">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1de" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1de">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Hind; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1df">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e0"><span class="nb">replace</span> (p2 - <span class="mi">1</span>) <span class="kr">with</span> (Z.succ (p2 - <span class="mi">2</span>)) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span> ^ Z.succ (p2 - <span class="mi">2</span>) * <span class="mi">3</span> ^ p3</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3
‚â§ state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span> two</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e3"><span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> (<span class="mi">2</span> ^ (p2 - <span class="mi">2</span>) * <span class="mi">3</span> ^ p3).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3 = <span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">2</span>) * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e4"><span class="nb">replace</span> (p2 - <span class="mi">1</span>) <span class="kr">with</span> (Z.succ (p2 - <span class="mi">2</span>)) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ^ Z.succ (p2 - <span class="mi">2</span>) * <span class="mi">3</span> ^ p3 =
<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">2</span>) * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>,
   Some (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
(state01, Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e6"><span class="nb">cbn</span>; <span class="nb">f_equal</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>) two
  (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3 - <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) =
state01</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1e7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1e7"><hr></label><div class="goal-conclusion">Some (<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e8">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update components_23
  (state_23 (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) <span class="mi">1</span>) two
  (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3 - <span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3) =
state01</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> extensionality i; <span class="nb">destruct</span> i; state_update_simpl; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1e9">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ea"><span class="nb">replace</span> p2 <span class="kr">with</span> (Z.succ (p2 - <span class="mi">1</span>)) <span class="nb">at</span> <span class="mi">2</span> <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>p2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hind</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">y</span> : Z,
  <span class="mi">1</span> ‚â§ y &lt; p2
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">p3</span> : Z,
      <span class="mi">0</span> ‚â§ p3
      ‚Üí valid_message_prop
          parity_composition_23
          (<span class="mi">2</span> ^ y * <span class="mi">3</span> ^ p3)</span></span></span><br><span><var>Hp2</var><span class="hyp-type"><b>: </b><span><span class="mi">1</span> ‚â§ p2</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>p2 ‚â† <span class="mi">1</span></span></span></span><br><span><var>p3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hp3</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ p3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some (<span class="mi">2</span> * (<span class="mi">2</span> ^ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)) =
Some (<span class="mi">2</span> ^ Z.succ (p2 - <span class="mi">1</span>) * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">rewrite</span> !Z.pow_succ_r; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The valid messages of the <span class="inlinecode"><span class="id" title="var">parity_composition_23</span></span> VLSM consist of the initial
  message 3 together with all even integers larger than 1 which can be
  decomposed as a product of powers of 2 and 3.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1eb"><span class="kn">Theorem</span> <span class="nf">parity_composition_23_valid_messages_powers_of_23</span> :
  <span class="kr">forall</span> (<span class="nv">m</span> : multiplying_message),
    valid_message_prop parity_composition_23 m &lt;-&gt;
      m = <span class="mi">3</span> \/
      <span class="kr">exists</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z, p2 &gt;= <span class="mi">1</span> /\ p3 &gt;= <span class="mi">0</span> /\
        m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop parity_composition_23 m
  ‚Üî m = <span class="mi">3</span>
    ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
         p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ec"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">m</span> : multiplying_message,
  valid_message_prop parity_composition_23 m
  ‚Üî m = <span class="mi">3</span>
    ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
         p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ed"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23 m
‚Üí m = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1ee" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1ee"><hr></label><div class="goal-conclusion">m = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)
‚Üí valid_message_prop parity_composition_23 m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1ef">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23 m
‚Üí m = <span class="mi">3</span>
  ‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
       p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_composition_23_valid_messages_powers_of_23_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f0">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>m</var><span class="hyp-type"><b>: </b><span>multiplying_message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">m = <span class="mi">3</span>
‚à® (<span class="kr">‚àÉ</span> <span class="nv">p2</span> <span class="nv">p3</span> : Z,
     p2 &gt;= <span class="mi">1</span> ‚àß p3 &gt;= <span class="mi">0</span> ‚àß m = <span class="mi">2</span> ^ p2 * <span class="mi">3</span> ^ p3)
‚Üí valid_message_prop parity_composition_23 m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f1"><span class="nb">intros</span> [-&gt; | (? &amp; ? &amp; ? &amp; ? &amp; -&gt;)].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23 <span class="mi">3</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1f2" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, x0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>x0 &gt;= <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1f2"><hr></label><div class="goal-conclusion">valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ x * <span class="mi">3</span> ^ x0)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f3">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23 <span class="mi">3</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_3_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>x, x0</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>x &gt;= <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>x0 &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop parity_composition_23
  (<span class="mi">2</span> ^ x * <span class="mi">3</span> ^ x0)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_composition_23_valid_messages_powers_of_23_left; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Final states are valid states from which no further valid transition
  can be taken.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">parity_23_final_state</span> (<span class="nv">s</span> : composite_state components_23) : <span class="kt">Prop</span> :=
  valid_state_prop parity_composition_23 s /\
  ~ <span class="kr">exists</span>
      (<span class="nv">l</span> : composite_label components_23)
      (<span class="nv">om</span> : option multiplying_message)
      (<span class="nv">som&#39;</span> : composite_state components_23 * option multiplying_message),
        input_valid_transition parity_composition_23 l (s, om) som&#39;.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f5"><span class="kn">Example</span> <span class="nf">valid_state_23_geq1</span> (<span class="nv">n</span> <span class="nv">m</span> : Z) (<span class="nv">Hn</span> : n &gt;= <span class="mi">1</span>) (<span class="nv">Hm</span> : m &gt;= <span class="mi">1</span>) :
  valid_state_prop parity_composition_23 (state_23 n m).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>m &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n, m</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>m &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 n m)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid; <span class="nb">intros</span> []; <span class="nb">cbn</span>; <span class="nb">red</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f7"><span class="kn">Example</span> <span class="nf">valid_state11</span> : valid_state_prop parity_composition_23 state11.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f8"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (valid_state_23_geq1 <span class="mi">1</span> <span class="mi">1</span>); <span class="bp">lia</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1f9"><span class="kn">Example</span> <span class="nf">valid_state22</span> : valid_state_prop parity_composition_23 state22.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state22</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1fa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state22</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state_23_geq1.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1fb"><span class="kn">Example</span> <span class="nf">valid_state0n</span> (<span class="nv">n</span> : Z) (<span class="nv">Hn</span> : n &gt;= <span class="mi">1</span>) :
  valid_state_prop parity_composition_23 (state_23 <span class="mi">0</span> n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 <span class="mi">0</span> n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1fc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 <span class="mi">0</span> n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1fd"><span class="nb">apply</span> input_valid_transition_destination
    <span class="kr">with</span> (l := existT two multiply_label) (s := state_23 <span class="mi">2</span> n)
      (om := Some <span class="mi">2</span>) (om&#39; := Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT two multiply_label) (state_23 <span class="mi">2</span> n, Some <span class="mi">2</span>)
  (state_23 <span class="mi">0</span> n, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk1fe"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 <span class="mi">2</span> n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk1ff" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk1ff"><hr></label><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk200" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk200"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk201" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk201"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ state_23 <span class="mi">2</span> n two</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk202" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk202"><hr></label><div class="goal-conclusion">parity_constraint_23 (existT two multiply_label)
  (state_23 <span class="mi">2</span> n, Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk203" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk203"><hr></label><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 <span class="mi">2</span> n, Some <span class="mi">2</span>) = (state_23 <span class="mi">0</span> n, Some <span class="mi">4</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk204">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 <span class="mi">2</span> n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state_23_geq1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk205">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk206">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk207" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk207">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ state_23 <span class="mi">2</span> n two</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk208">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT two multiply_label)
  (state_23 <span class="mi">2</span> n, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> <span class="mi">1</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk209">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT two multiply_label)
  (state_23 <span class="mi">2</span> n, Some <span class="mi">2</span>) = (state_23 <span class="mi">0</span> n, Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">f_equal</span>; extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>; state_update_simpl; <span class="nb">cbn</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk20a"><span class="kn">Example</span> <span class="nf">valid_staten0</span> (<span class="nv">n</span> : Z) (<span class="nv">Hn</span> : n &gt;= <span class="mi">1</span>) :
  valid_state_prop parity_composition_23 (state_23 n <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 n <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk20b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 n <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk20c"><span class="nb">apply</span> input_valid_transition_destination
    <span class="kr">with</span> (l := existT three multiply_label) (s := state_23 n <span class="mi">2</span>)
      (om := Some <span class="mi">2</span>) (om&#39; := Some <span class="mi">6</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT three multiply_label) (state_23 n <span class="mi">2</span>, Some <span class="mi">2</span>)
  (state_23 n <span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk20d"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 n <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk20e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk20e"><hr></label><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk20f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk20f"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk210" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk210"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ state_23 n <span class="mi">2</span> three</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk211" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk211"><hr></label><div class="goal-conclusion">parity_constraint_23 (existT three multiply_label)
  (state_23 n <span class="mi">2</span>, Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk212" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk212"><hr></label><div class="goal-conclusion">transition (existT three multiply_label)
  (state_23 n <span class="mi">2</span>, Some <span class="mi">2</span>) = (state_23 n <span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk213">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 (state_23 n <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state_23_geq1.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk214">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk215">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk216">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ state_23 n <span class="mi">2</span> three</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk217" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk217">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT three multiply_label)
  (state_23 n <span class="mi">2</span>, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> <span class="mi">1</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk218">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &gt;= <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT three multiply_label)
  (state_23 n <span class="mi">2</span>, Some <span class="mi">2</span>) = (state_23 n <span class="mi">0</span>, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">cbn</span>; <span class="nb">f_equal</span>; extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>; state_update_simpl; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk219"><span class="kn">Example</span> <span class="nf">valid_state00</span> : valid_state_prop parity_composition_23 state00.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21b"><span class="nb">apply</span> input_valid_transition_destination
    <span class="kr">with</span> (l := existT three multiply_label) (s := state02) (om := Some <span class="mi">2</span>) (om&#39; := Some <span class="mi">6</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT three multiply_label) (state02, Some <span class="mi">2</span>)
  (state00, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21c"><span class="kp">repeat</span> <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state02</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ state02 three</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT three multiply_label)
  (state02, Some <span class="mi">2</span>)</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT three multiply_label)
  (state02, Some <span class="mi">2</span>) = (state00, Some <span class="mi">6</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state02</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state0n.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk21f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk220">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ state02 three</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> state02; <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk221">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT three multiply_label)
  (state02, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">red</span>; <span class="nb">cbn</span>; <span class="nb">unfold</span> composite_state_23_sum; state_update_simpl; <span class="nb">cbn</span>; <span class="kr">exists</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk222">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (existT three multiply_label)
  (state02, Some <span class="mi">2</span>) = (state00, Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">f_equal</span>; extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>; state_update_simpl; <span class="nb">cbn</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk223"><span class="kn">Example</span> <span class="nf">valid_state01</span> : valid_state_prop parity_composition_23 state01.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state01</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk224"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state01</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state0n.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk225" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk225"><span class="kn">Example</span> <span class="nf">valid_state10</span> : valid_state_prop parity_composition_23 state10.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state10</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk226"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state10</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_staten0.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk227"><span class="kn">Lemma</span> <span class="nf">parity_23_final_state_prop23_left</span> (<span class="nv">s</span> : composite_state components_23) :
  (s = state00 \/ s = state01 \/ s = state10 \/ s = state11) -&gt; parity_23_final_state s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11
‚Üí parity_23_final_state s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk228"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11
‚Üí parity_23_final_state s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk229"><span class="nb">intros</span> Hcases.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk22a"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk22b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk22b"><hr></label><div class="goal-conclusion">¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition parity_composition_23 l
       (s, om) som&#39;)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk22c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk22d"><span class="nb">destruct</span> Hcases <span class="kr">as</span> [Hst | [Hst | [Hst | Hst]]]; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state00</div></blockquote><div class="alectryon-extra-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state01</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state10</div></blockquote><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state11</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk22e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state00</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state00.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk22f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state01</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state01.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk230">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state10</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state10.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk231">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state11.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk232">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                                 multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition parity_composition_23 l
       (s, om) som&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk233"><span class="nb">intros</span> ([i li] &amp; om &amp; som&#39; &amp; (Hs &amp; Hom &amp; Hv &amp; Hc) &amp; _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (components_23 i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>som'</var><span class="hyp-type"><b>: </b><span>(composite_state components_23 *
 option multiplying_message)%type</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop parity_composition_23
  om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>parity_constraint_23 (existT i li) (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk234"><span class="nb">destruct</span> Hc <span class="kr">as</span> [n Hc].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hcases</var><span class="hyp-type"><b>: </b><span>s = state00
‚à® s = state01 ‚à® s = state10 ‚à® s = state11</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (components_23 i)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>som'</var><span class="hyp-type"><b>: </b><span>(composite_state components_23 *
 option multiplying_message)%type</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop parity_composition_23
  om</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT i li) (s, om)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>composite_state_23_sum (s, om).<span class="mi">1</span> +
composite_state_23_sum
  (composite_transition components_23
     (existT i li) (s, om)).<span class="mi">1</span> = 
<span class="mi">2</span> * n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> i; (<span class="nb">destruct</span> om ; [| <span class="bp">done</span>]);
      <span class="nb">unfold</span> composite_state_23_sum <span class="kr">in</span> Hc; <span class="nb">cbn</span> <span class="kr">in</span> *; state_update_simpl;
      <span class="nb">destruct</span> Hcases <span class="kr">as</span> [| [| []]]; <span class="nb">subst</span>; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk235"><span class="kn">Lemma</span> <span class="nf">valid_state_23_pos</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state components_23),
    valid_state_prop parity_composition_23 s -&gt;
  <span class="kr">forall</span> (<span class="nv">i</span> : index23), zproj s i &gt;= <span class="mi">0</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">i</span> : index23, zproj s i &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk236"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí <span class="kr">‚àÄ</span> <span class="nv">i</span> : index23, zproj s i &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk237"><span class="nb">intros</span> s Hs; <span class="nb">induction</span> Hs <span class="nb">using</span> valid_state_prop_ind;
    [<span class="bp">by</span> <span class="nb">intros</span> i; <span class="nb">specialize</span> (Hs i); <span class="nb">destruct</span> i; <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="nb">red</span> <span class="kr">in</span> Hs; <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label parity_composition_23</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23 l
  (s, om) (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index23, zproj s i &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i</span> : index23, zproj s&#39; i &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk238"><span class="nb">destruct</span> l <span class="kr">as</span> [j lj], Ht <span class="kr">as</span> [(_ &amp; _ &amp; Hv &amp; Hc) Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (components_23 j)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT j lj) (s, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>parity_constraint_23 (existT j lj) (s, om)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (existT j lj) (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index23, zproj s i &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">i</span> : index23, zproj s&#39; i &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk239"><span class="nb">intro</span> i; <span class="nb">specialize</span> (IHHs i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s'</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (components_23 j)</span></span></span><br><span><var>om, om'</var><span class="hyp-type"><b>: </b><span>option multiplying_message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state parity_composition_23</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (existT j lj) (s, om)</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>parity_constraint_23 (existT j lj) (s, om)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (existT j lj) (s, om) = (s&#39;, om&#39;)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>IHHs</var><span class="hyp-type"><b>: </b><span>zproj s i &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">zproj s&#39; i &gt;= <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> j; (<span class="nb">destruct</span> om ; [| <span class="bp">done</span>]);
    <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht; <span class="nb">cbn</span> <span class="kr">in</span> *;
    <span class="nb">destruct</span> i; <span class="nb">cbn</span> <span class="kr">in</span> *; state_update_simpl; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk23a"><span class="kn">Lemma</span> <span class="nf">parity_23_final_state_prop23_right</span> (<span class="nv">s</span> : composite_state components_23) :
  parity_23_final_state s -&gt;
  s = state00 \/ s = state01 \/ s = state10 \/ s = state11.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s
‚Üí s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk23b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s
‚Üí s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk23c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk23c"><span class="nb">intros</span> [Hs Hfinal].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk23d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk23d"><span class="nb">cut</span> ((s two = <span class="mi">0</span> /\ s three = <span class="mi">0</span>) \/ (s two = <span class="mi">0</span> /\ s three = <span class="mi">1</span>) \/
    (s two = <span class="mi">1</span> /\ s three = <span class="mi">0</span>) \/ (s two = <span class="mi">1</span> /\ s three = <span class="mi">1</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
  ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span> ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>
‚Üí s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk23e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk23e"><hr></label><div class="goal-conclusion">s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
  ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span> ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk23f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk23f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
  ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span> ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>
‚Üí s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk240"><span class="nb">intros</span>  [[] | [[] | [[] | []]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk241" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk241"><hr></label><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk242" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk242"><hr></label><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk243" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk243"><hr></label><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk244">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">left</span>; extensionality x; <span class="nb">destruct</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk245">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">left</span>; extensionality x; <span class="nb">destruct</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk246">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">right</span>; <span class="nb">left</span>; extensionality x; <span class="nb">destruct</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk247">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>s two = <span class="mi">1</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>s three = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">right</span>; <span class="nb">right</span>; <span class="nb">right</span>; extensionality x; <span class="nb">destruct</span> x.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk248" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk248">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
  ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span> ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk249" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk249"><span class="nb">destruct</span> (decide ((s two = <span class="mi">0</span> /\ s three = <span class="mi">0</span>) \/ (s two = <span class="mi">0</span> /\ s three = <span class="mi">1</span>) \/
    (s two = <span class="mi">1</span> /\ s three = <span class="mi">0</span>) \/ (s two = <span class="mi">1</span> /\ s three = <span class="mi">1</span>))); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hfinal</var><span class="hyp-type"><b>: </b><span>¬¨ (<span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) 
     (<span class="nv">om</span> : option multiplying_message) 
     (<span class="nv">som&#39;</span> : composite_state components_23 *
             option multiplying_message),
     input_valid_transition
       parity_composition_23 l (
       s, om) som&#39;)</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
  ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span> ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk24a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk24a"><span class="bp">contradict</span> Hfinal.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk24b"><span class="nb">assert</span> (s two &gt; <span class="mi">1</span> \/ s three &gt; <span class="mi">1</span>) <span class="kr">as</span> [Hs1 | Hs1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two &gt; <span class="mi">1</span> ‚à® s three &gt; <span class="mi">1</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk24c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk24c"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk24d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk24d"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk24e">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two &gt; <span class="mi">1</span> ‚à® s three &gt; <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk24f"><span class="nb">pose proof</span> (valid_state_23_pos _ Hs two).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>zproj s two &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two &gt; <span class="mi">1</span> ‚à® s three &gt; <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk250"><span class="nb">pose proof</span> (valid_state_23_pos _ Hs three).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>zproj s two &gt;= <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>zproj s three &gt;= <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s two &gt; <span class="mi">1</span> ‚à® s three &gt; <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk251">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk252" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk252"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk253">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk254"><span class="kr">exists</span> (<span class="nv">existT</span> <span class="nv">two</span> ()), (Some <span class="mi">2</span>),
      (state_update components_23 s two (s two - <span class="mi">2</span>), Some <span class="mi">4</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT two ()) (s, Some <span class="mi">2</span>)
  (state_update components_23 s two (s two - <span class="mi">2</span>),
   Some <span class="mi">4</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk255" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk255"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span> | ..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk256" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk256"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk257" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk257"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ s two</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk258" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk258"><hr></label><div class="goal-conclusion">parity_constraint_23 (existT two ()) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk259">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25a">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ s two</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s two &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT two ()) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> <span class="mi">1</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">l</span> : composite_label components_23) (<span class="nv">om</span> : option
                                              multiplying_message) 
  (<span class="nv">som&#39;</span> : composite_state components_23 *
          option multiplying_message),
  input_valid_transition parity_composition_23 l
    (s, om) som&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25e"><span class="kr">exists</span> (<span class="nv">existT</span> <span class="nv">three</span> ()), (Some <span class="mi">2</span>),
      (state_update components_23 s three (s three - <span class="mi">2</span>), Some <span class="mi">6</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (existT three ()) (s, Some <span class="mi">2</span>)
  (state_update components_23 s three (s three - <span class="mi">2</span>),
   Some <span class="mi">6</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk25f"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span> | ..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk260" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk260"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk261" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk261"><hr></label><div class="goal-conclusion"><span class="mi">2</span> ‚â§ s three</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk262" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk262"><hr></label><div class="goal-conclusion">parity_constraint_23 (existT three ()) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk263">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk264">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ <span class="mi">2</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk265">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="mi">2</span> ‚â§ s three</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk266">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>¬¨ (s two = <span class="mi">0</span> ‚àß s three = <span class="mi">0</span>
   ‚à® s two = <span class="mi">0</span> ‚àß s three = <span class="mi">1</span>
     ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">0</span>
       ‚à® s two = <span class="mi">1</span> ‚àß s three = <span class="mi">1</span>)</span></span></span><br><span><var>Hs1</var><span class="hyp-type"><b>: </b><span>s three &gt; <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (existT three ()) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> <span class="mi">1</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The final states of the <span class="inlinecode"><span class="id" title="var">parity_composition_23</span></span> VLSM consist of
  <span class="inlinecode"><span class="id" title="var">state00</span></span>, <span class="inlinecode"><span class="id" title="var">state01</span></span>, <span class="inlinecode"><span class="id" title="var">state10</span></span>, and <span class="inlinecode"><span class="id" title="var">state11</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk267"><span class="kn">Theorem</span> <span class="nf">parity_23_final_state_prop23_equiv</span> (<span class="nv">s</span> : composite_state components_23) :
  parity_23_final_state s
    &lt;-&gt;
  s = state00 \/ s = state01 \/ s = state10 \/ s = state11.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s
‚Üî s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk268" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk268"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s
‚Üî s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk269" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk269"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s
‚Üí s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk26a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk26a"><hr></label><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11
‚Üí parity_23_final_state s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk26b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk26b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_23_final_state s
‚Üí s = state00
  ‚à® s = state01 ‚à® s = state10 ‚à® s = state11</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_23_final_state_prop23_right.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk26c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk26c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s = state00 ‚à® s = state01 ‚à® s = state10 ‚à® s = state11
‚Üí parity_23_final_state s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_23_final_state_prop23_left.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk26d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk26d"><span class="kn">Lemma</span> <span class="nf">parity_composition_23_reachable_0</span> :
  <span class="kr">forall</span> (<span class="nv">s</span> : composite_state components_23),
    valid_state_prop parity_composition_23 s -&gt;
  <span class="kr">forall</span> (<span class="nv">i</span> : index23) (<span class="nv">n</span> : Z), <span class="mi">0</span> &lt;= n -&gt; zproj s i = <span class="mi">2</span> * n -&gt;
    in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">i</span> : index23) (<span class="nv">n</span> : Z),
      <span class="mi">0</span> ‚â§ n
      ‚Üí zproj s i = <span class="mi">2</span> * n
        ‚Üí in_futures parity_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk26e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk26e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí <span class="kr">‚àÄ</span> (<span class="nv">i</span> : index23) (<span class="nv">n</span> : Z),
      <span class="mi">0</span> ‚â§ n
      ‚Üí zproj s i = <span class="mi">2</span> * n
        ‚Üí in_futures parity_composition_23 s
            (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk26f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk26f"><span class="nb">intros</span> s Hs i n Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s
    (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk270" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk270"><span class="nb">revert</span> s Hs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí zproj s i = <span class="mi">2</span> * n
    ‚Üí in_futures parity_composition_23 s
        (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk271" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk271"><span class="nb">pose</span> (P (n : Z) := <span class="kr">forall</span> (<span class="nv">s</span> : composite_state components_23),
    valid_state_prop parity_composition_23 s -&gt;
    zproj s i = <span class="mi">2</span> * n -&gt;
    in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">n</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
    valid_state_prop parity_composition_23 s
    ‚Üí zproj s i = <span class="mi">2</span> * n
      ‚Üí in_futures parity_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí zproj s i = <span class="mi">2</span> * n
    ‚Üí in_futures parity_composition_23 s
        (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk272" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk272"><span class="nb">cut</span> (P n); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">n</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
    valid_state_prop parity_composition_23 s
    ‚Üí zproj s i = <span class="mi">2</span> * n
      ‚Üí in_futures parity_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">P n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk273" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk273"><span class="nb">revert</span> n Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>P</var><span><span class="hyp-body"><b>:= </b><span><span class="kr">Œª</span> <span class="nv">n</span> : Z,
  <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
    valid_state_prop parity_composition_23 s
    ‚Üí zproj s i = <span class="mi">2</span> * n
      ‚Üí in_futures parity_composition_23 s
          (state_update_23 s i <span class="mi">0</span>)</span></span><span class="hyp-type"><b>: </b><span>Z ‚Üí <span class="kt">Prop</span></span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">n</span> : Z, <span class="mi">0</span> ‚â§ n ‚Üí P n</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk274" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk274"><span class="nb">apply</span> natlike_ind; <span class="nb">subst</span> P; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí zproj s i = <span class="mi">2</span> * <span class="mi">0</span>
    ‚Üí in_futures parity_composition_23 s
        (state_update_23 s i <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk275" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk275"><hr></label><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  <span class="mi">0</span> ‚â§ x
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
       valid_state_prop parity_composition_23 s
       ‚Üí zproj s i = <span class="mi">2</span> * x
         ‚Üí in_futures parity_composition_23 s
             (state_update_23 s i <span class="mi">0</span>))
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
        valid_state_prop parity_composition_23 s
        ‚Üí zproj s i = <span class="mi">2</span> * Z.succ x
          ‚Üí in_futures parity_composition_23 s
              (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk276" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk276">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
  valid_state_prop parity_composition_23 s
  ‚Üí zproj s i = <span class="mi">2</span> * <span class="mi">0</span>
    ‚Üí in_futures parity_composition_23 s
        (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk277" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk277"><span class="nb">intros</span> s Hs Hsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk278" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk278"><span class="nb">cut</span> (state_update_23 s i <span class="mi">0</span> = s); [<span class="bp">by</span> <span class="nb">intros</span> -&gt;; <span class="nb">apply</span> in_futures_refl |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s i <span class="mi">0</span> = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk279" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk279"><span class="nb">destruct</span> i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s two = <span class="mi">2</span> * <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two <span class="mi">0</span> = s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk27a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s three = <span class="mi">2</span> * <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk27a"><hr></label><div class="goal-conclusion">state_update_23 s three <span class="mi">0</span> = s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk27b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk27b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s two = <span class="mi">2</span> * <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s two <span class="mi">0</span> = s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_two, state_update_id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk27c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk27c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s three = <span class="mi">2</span> * <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 s three <span class="mi">0</span> = s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_three, state_update_id.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk27d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk27d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : Z,
  <span class="mi">0</span> ‚â§ x
  ‚Üí (<span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
       valid_state_prop parity_composition_23 s
       ‚Üí zproj s i = <span class="mi">2</span> * x
         ‚Üí in_futures parity_composition_23 s
             (state_update_23 s i <span class="mi">0</span>))
    ‚Üí <span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
        valid_state_prop parity_composition_23 s
        ‚Üí zproj s i = <span class="mi">2</span> * Z.succ x
          ‚Üí in_futures parity_composition_23 s
              (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk27e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk27e"><span class="nb">intros</span> n Hn IHn s Hs Hsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk27f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk27f"><span class="nb">pose</span> (s&#39; := state_update_23 s i (zproj s i - <span class="mi">2</span>)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 s
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk280" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk280"><span class="nb">cut</span> (input_valid_transition parity_composition_23 (label_23 i)
      (s, Some <span class="mi">2</span>) (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))
‚Üí in_futures parity_composition_23 s
    (state_update_23 s i <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk281" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk281"><hr></label><div class="goal-conclusion">input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk282" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk282">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))
‚Üí in_futures parity_composition_23 s
    (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk283" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk283"><span class="nb">transitivity</span> s&#39;; [<span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_in_futures |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 s&#39;
  (state_update_23 s i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk284" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk284"><span class="nb">replace</span> (state_update_23 s i <span class="mi">0</span>) <span class="kr">with</span> (state_update_23 s&#39; i <span class="mi">0</span>)
        <span class="bp">by</span> <span class="nb">apply</span> state_update_23_twice.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 s&#39;
  (state_update_23 s&#39; i <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk285" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk285"><span class="nb">apply</span> IHn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 s&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk286" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk286"><hr></label><div class="goal-conclusion">zproj s&#39; i = <span class="mi">2</span> * n</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk287" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk287">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23 s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> input_valid_transition_destination.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk288" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk288">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">zproj s&#39; i = <span class="mi">2</span> * n</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span> s&#39;; <span class="nb">rewrite</span> state_update_23_eq, Hsi; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk289" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk289">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition parity_composition_23
  (label_23 i) (s, Some <span class="mi">2</span>)
  (s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk28a" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk28a"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span> |..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk28b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk28b"><hr></label><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk28c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk28c"><hr></label><div class="goal-conclusion">parity_constraint_23 (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk28d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk28d"><hr></label><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">2</span>) =
(s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk28e" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk28e">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop parity_composition_23
  (Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_message_is_valid, composition_23_2_initial.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk28f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk28f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> i; <span class="nb">cbn</span> <span class="kr">in</span> Hsi |- *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk290" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk290">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">parity_constraint_23 (label_23 i) (s, Some <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> parity_constraint_23_even; <span class="kr">exists</span> <span class="mi">1</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk291" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk291">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>i</var><span class="hyp-type"><b>: </b><span>index23</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s i = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s i <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s i = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s i (zproj s i - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition (label_23 i) (s, Some <span class="mi">2</span>) =
(s&#39;, Some (<span class="mi">2</span> * multiplier_23 i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk292" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk292"><span class="nb">destruct</span> i; <span class="nb">cbn</span>; <span class="nb">f_equal</span>; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s two = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s two = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s two (zproj s two - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = state_update components_23 s two (s two - <span class="mi">2</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk293" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s three = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s three = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s three (zproj s three - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk293"><hr></label><div class="goal-conclusion">s&#39; = state_update components_23 s three (s three - <span class="mi">2</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk294" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk294">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s two = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s two <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s two = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s two (zproj s two - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = state_update components_23 s two (s two - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_update_23_two.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk295" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk295">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>n</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ n</span></span></span><br><span><var>IHn</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state components_23,
valid_state_prop parity_composition_23 s
‚Üí zproj s three = <span class="mi">2</span> * n
‚Üí in_futures parity_composition_23 s (state_update_23 s three <span class="mi">0</span>)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state components_23</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop parity_composition_23 s</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>zproj s three = <span class="mi">2</span> * Z.succ n</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>state_update_23 s three (zproj s three - <span class="mi">2</span>)</span></span><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">j</span> : index23, state (components_23 j)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">s&#39; = state_update components_23 s three (s three - <span class="mi">2</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> state_update_23_three.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  From any composite state whose components are even non-negative integers
  there is a valid trace reaching <span class="inlinecode"><span class="id" title="var">state00</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk296" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk296"><span class="kn">Theorem</span> <span class="nf">parity_composite_23_reachable_00</span> :
  <span class="kr">forall</span> (<span class="nv">s2</span> <span class="nv">s3</span> : Z), <span class="mi">0</span> &lt;= s2 -&gt; <span class="mi">0</span> &lt;= s3 -&gt;
    in_futures parity_composition_23
      (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) state00.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s2</span> <span class="nv">s3</span> : Z,
  <span class="mi">0</span> ‚â§ s2
  ‚Üí <span class="mi">0</span> ‚â§ s3
    ‚Üí in_futures parity_composition_23
        (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk297" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk297"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s2</span> <span class="nv">s3</span> : Z,
  <span class="mi">0</span> ‚â§ s2
  ‚Üí <span class="mi">0</span> ‚â§ s3
    ‚Üí in_futures parity_composition_23
        (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk298" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk298"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk299" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk299"><span class="nb">cut</span> (in_futures parity_composition_23
    (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))
‚Üí in_futures parity_composition_23
    (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) state00</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk29a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk29a"><hr></label><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk29b" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk29b">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))
‚Üí in_futures parity_composition_23
    (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk29c" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk29c"><span class="nb">etransitivity</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))
  state00</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk29d" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk29d"><span class="nb">replace</span> state00 <span class="kr">with</span> (state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))
  (state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk29e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk29e"><hr></label><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span> =
state00</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk29f" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk29f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))
  (state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a0"><span class="nb">eapply</span> parity_composition_23_reachable_0; <span class="nb">cycle</span> <span class="mi">2</span>; [<span class="bp">done</span> | | <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> in_futures_valid_snd.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a1">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span> =
state00</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a2">extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span> two = <span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk2a3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk2a3"><hr></label><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span> three =
<span class="mi">0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span> two = <span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_neq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a5" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a5">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)) three <span class="mi">0</span> three =
<span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_three; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a6">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a7"><span class="nb">replace</span> (state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3))
    <span class="kr">with</span> (state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk2a8" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk2a8"><hr></label><div class="goal-conclusion">state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span> =
state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2a9" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2a9">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">in_futures parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))
  (state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2aa" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2aa"><span class="nb">eapply</span> parity_composition_23_reachable_0; <span class="nb">cycle</span> <span class="mi">2</span>; [<span class="bp">done</span> | | <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2ab" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2ab"><span class="nb">destruct</span> (decide (s2 = <span class="mi">0</span>)) <span class="kr">as</span> [-&gt; |], (decide (s3 = <span class="mi">0</span>)) <span class="kr">as</span> [-&gt; |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H, H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * <span class="mi">0</span>) (<span class="mi">2</span> * <span class="mi">0</span>))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk2ac" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>s3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk2ac"><hr></label><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * <span class="mi">0</span>) (<span class="mi">2</span> * s3))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk2ad" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>s2 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk2ad"><hr></label><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * <span class="mi">0</span>))</div></blockquote><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk2ae" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>s2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>s3 ‚â† <span class="mi">0</span></span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk2ae"><hr></label><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2af" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2af">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>H, H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * <span class="mi">0</span>) (<span class="mi">2</span> * <span class="mi">0</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state00.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b0" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ <span class="mi">0</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>s3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * <span class="mi">0</span>) (<span class="mi">2</span> * s3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state0n; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b1" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b1">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ <span class="mi">0</span></span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>s2 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * <span class="mi">0</span>))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_staten0; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b2" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b2">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>s2 ‚â† <span class="mi">0</span></span></span></span><br><span><var>n0</var><span class="hyp-type"><b>: </b><span>s3 ‚â† <span class="mi">0</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop parity_composition_23
  (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> valid_state_23_geq1; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b3" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span> =
state_23 <span class="mi">0</span> (<span class="mi">2</span> * s3)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b4" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b4">extensionality i; <span class="nb">destruct</span> i; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span> two =
<span class="mi">0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="Multiply-v-chk2b5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><label class="goal-separator" for="Multiply-v-chk2b5"><hr></label><div class="goal-conclusion">state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span>
  three = <span class="mi">2</span> * s3</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b6" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span> two =
<span class="mi">0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_two; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="Multiply-v-chk2b7" style="display: none" type="checkbox"><label class="alectryon-input" for="Multiply-v-chk2b7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>s2, s3</var><span class="hyp-type"><b>: </b><span>Z</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s2</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="mi">0</span> ‚â§ s3</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update_23 (state_23 (<span class="mi">2</span> * s2) (<span class="mi">2</span> * s3)) two <span class="mi">0</span>
  three = <span class="mi">2</span> * s3</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> state_update_23_neq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_23_composition</span>.</span></span></pre></article></body></html>