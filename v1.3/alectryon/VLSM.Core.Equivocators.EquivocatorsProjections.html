<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>EquivocatorsProjections.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM PreloadedVLSM VLSMProjections Equivocators.Equivocators.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Core: VLSM Projecting Equivocator Traces</h1>
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_equivocator_vlsm_projections</span>.</span></span></pre><div class="doc">
  Given an <span class="inlinecode"><span class="id" title="var">equivocator_vlsm</span></span> trace ending in a state <code>s</code>, we can obtain a
  trace in the original vlsm leading to the <code>si</code>, the  <code>i</code>th internal
  state in <code>s</code>, by extracting a path leading to <code>si</code>.

<div class="paragraph"> </div>

  This section is devoting to formalizing this projects studying its
  properties. In particular, we show that given a <span class="inlinecode"><span class="id" title="var">valid_trace</span></span> for
  the <span class="inlinecode"><span class="id" title="var">equivocator_vlsm</span></span>, we can always extract such a trace for any valid
  index, and, furthermore, that the trace extracted is valid for the
  original machine.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  (<span class="nv">X</span> : VLSM message)
  .</span></span></pre><div class="doc">
  Given a <span class="inlinecode"><span class="id" title="var">transition_item</span></span> <code>item</code> for the <span class="inlinecode"><span class="id" title="var">equivocator_vlsm</span></span> and a
  <span class="inlinecode"><span class="id" title="var">MachineDescriptor</span></span> referring to a position in the <span class="inlinecode"><span class="id" title="var">destination</span></span> of <code>item</code>,
  it returns a transition item for the original machine (if the descriptor
  matches the copy affected by this transition) and a new machine descriptor
  referring to a position in the state prior to the transition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocator_vlsm_transition_item_project</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">descriptor</span> : MachineDescriptor X)
  : option (option (transition_item X) * MachineDescriptor X)
  :=
  <span class="kr">match</span> descriptor <span class="kr">with</span>
  | NewMachine _ =&gt; Some (None, descriptor)
  | Existing j =&gt;
    <span class="kr">match</span> item <span class="kr">with</span> {| l := el; input := im; output := om; destination := s |} =&gt;
      <span class="kr">match</span> equivocator_state_project s j <span class="kr">with</span>
      | None =&gt; None
      | Some sj =&gt;
        <span class="kr">match</span> el <span class="kr">with</span>
        | Spawn sn =&gt;
          <span class="kr">if</span> (decide (j = equivocator_state_last s)) <span class="kr">then</span> <span class="c">(* this is the first state *)</span>
            Some (None, NewMachine sn)
          <span class="kr">else</span> Some (None, Existing j)
        | ForkWith i lx =&gt;
            <span class="kr">if</span> (decide (j = equivocator_state_last s)) <span class="kr">then</span> <span class="c">(* this is the copy *)</span>
              Some (Some {| l := lx; input := im; output := om; destination := sj |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        | ContinueWith i lx =&gt;
          <span class="kr">if</span> decide (i = j) <span class="kr">then</span>
              Some (Some {| l := lx; input := im; output := om; destination := sj |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        <span class="kr">end</span>
      <span class="kr">end</span>
    <span class="kr">end</span>
  <span class="kr">end</span>.</span></span></pre><div class="doc">
  Since equivocators always have machine 0, We can always project a <span class="inlinecode"><span class="id" title="var">valid</span></span>
  equivocator <span class="inlinecode"><span class="id" title="var">transition</span></span> <span class="inlinecode"><span class="id" title="var">item</span></span> to component 0.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2"><span class="kn">Lemma</span> <span class="nf">equivocators_vlsm_transition_item_project_zero_descriptor</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  <span class="nv">s</span>
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) (l item) (s, input item) = (destination item, output item))
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) (l item) (s, input item))
  : <span class="kr">exists</span> <span class="nv">oitem</span>, equivocator_vlsm_transition_item_project item (Existing <span class="mi">0</span>) =
      Some (oitem, Existing <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  equivocator_vlsm_transition_item_project item
    (Existing <span class="mi">0</span>) = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  equivocator_vlsm_transition_item_project item
    (Existing <span class="mi">0</span>) = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) =
(VLSM.destination
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |},
 VLSM.output
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} (Existing <span class="mi">0</span>) = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk5"><span class="nb">destruct</span> l; <span class="nb">cbn</span> <span class="kr">in</span> Hv, Ht |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s s0, None) =
(destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0 ‚àß input = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span>
       decide (<span class="mi">0</span> = equivocator_state_last destination)
      <span class="kr">then</span> Some (None, NewMachine s0)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition l (si, input) <span class="kr">in</span>
    (equivocator_state_update s n si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt; valid l (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk6"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span> decide (n = <span class="mi">0</span>)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition l (si, input) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt; valid l (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk7"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span>
       decide (<span class="mi">0</span> = equivocator_state_last destination)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s s0, None) =
(destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0 ‚àß input = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span>
       decide (<span class="mi">0</span> = equivocator_state_last destination)
      <span class="kr">then</span> Some (None, NewMachine s0)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9"><span class="nb">inversion_clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0 ‚àß input = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s s0) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span>
       decide
         (<span class="mi">0</span> =
          equivocator_state_last
            (equivocator_state_extend s s0))
      <span class="kr">then</span> Some (None, NewMachine s0)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka"><span class="nb">destruct</span> Hv <span class="kr">as</span> [Hv Hinput].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0</span></span></span><br><span><var>Hinput</var><span class="hyp-type"><b>: </b><span>input = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s s0) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span>
       decide
         (<span class="mi">0</span> =
          equivocator_state_last
            (equivocator_state_extend s s0))
      <span class="kr">then</span> Some (None, NewMachine s0)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb"><span class="nb">subst</span> input.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s s0) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span>
       decide
         (<span class="mi">0</span> =
          equivocator_state_last
            (equivocator_state_extend s s0))
      <span class="kr">then</span> Some (None, NewMachine s0)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc"><span class="nb">rewrite</span> equivocator_state_extend_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s s0) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span> decide (<span class="mi">0</span> = equivocator_state_n s)
      <span class="kr">then</span> Some (None, NewMachine s0)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd"><span class="nb">rewrite</span> decide_False <span class="bp">by</span> (<span class="nb">cbv</span>; <span class="bp">lia</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>initial_state_prop s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s s0) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some _ =&gt; Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition l (si, input) <span class="kr">in</span>
    (equivocator_state_update s n si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt; valid l (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span> decide (n = <span class="mi">0</span>)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (decide _); <span class="nb">subst</span>; <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition l (si, input) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt; valid l (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span>
       decide (<span class="mi">0</span> = equivocator_state_last destination)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk10"><span class="nb">destruct</span> (equivocator_state_project s n) <span class="kr">as</span> [si |]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition l (si, input) <span class="kr">in</span>
 (equivocator_state_extend s si&#39;, om&#39;)) =
(destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span>
       decide (<span class="mi">0</span> = equivocator_state_last destination)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk11"><span class="nb">destruct</span> (transition _ _ _) <span class="kr">as</span> (si&#39;, om&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s si&#39;, om&#39;) =
(destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project destination <span class="mi">0</span> <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span>
       decide (<span class="mi">0</span> = equivocator_state_last destination)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk12"><span class="nb">inversion_clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s si&#39;) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span>
       decide
         (<span class="mi">0</span> =
          equivocator_state_last
            (equivocator_state_extend s si&#39;))
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13"><span class="nb">rewrite</span> equivocator_state_extend_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s si&#39;) <span class="mi">0</span>
  <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span> decide (<span class="mi">0</span> = equivocator_state_n s)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing n)
      <span class="kr">else</span> Some (None, Existing <span class="mi">0</span>)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
An injectivity result for <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_transition_item_project</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_transition_item_project_some_inj</span>
  {<span class="nv">item</span> : transition_item (equivocator_vlsm X)}
  {<span class="nv">itemX</span> <span class="nv">itemX&#39;</span> : transition_item X}
  {<span class="nv">i</span> <span class="nv">i&#39;</span> : nat}
  (<span class="nv">idescriptor</span> := Existing i)
  (<span class="nv">idescriptor&#39;</span> := Existing i&#39;)
  {<span class="nv">odescriptor</span> <span class="nv">odescriptor&#39;</span> : MachineDescriptor X}
  (<span class="nv">HitemX</span> : equivocator_vlsm_transition_item_project item idescriptor =
    Some (Some itemX, odescriptor))
  (<span class="nv">HitemX&#39;</span> : equivocator_vlsm_transition_item_project item idescriptor&#39; =
    Some (Some itemX&#39;, odescriptor&#39;))
  : i = i&#39; /\ itemX = itemX&#39; /\ odescriptor = odescriptor&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i, i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i&#39;</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  idescriptor =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item idescriptor&#39; =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i&#39; ‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i, i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i&#39;</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  idescriptor =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item idescriptor&#39; =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i&#39; ‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i, i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i&#39;</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} idescriptor =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} idescriptor&#39; =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i&#39; ‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk17"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | j ls | j l2]; <span class="nb">cbn</span> <span class="kr">in</span> HitemX, HitemX&#39;
  ; <span class="nb">destruct</span> (equivocator_state_project _ i) <span class="kr">as</span> [si |] <span class="nb">eqn</span>: Hsi; [| <span class="bp">done</span> | | <span class="bp">done</span> | | <span class="bp">done</span>]
  ; <span class="nb">destruct</span> (equivocator_state_project _ i&#39;) <span class="kr">as</span> [si&#39; |] <span class="nb">eqn</span>: Hsi&#39;; [| <span class="bp">done</span> | | <span class="bp">done</span> | | <span class="bp">done</span>]
  ; case_decide; [<span class="bp">done</span> | <span class="bp">done</span> | | <span class="bp">done</span> | | <span class="bp">done</span>]; <span class="nb">subst</span>
  ; case_decide; [| <span class="bp">done</span> | | <span class="bp">done</span>]; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si;
       output := output
     |}, Existing i) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si&#39;;
       output := output
     |}, Existing i) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i ‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk18" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing
  (equivocator_state_last destination)</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) = 
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some si&#39;</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si&#39;;
       output := output
     |}, Existing j) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk18"><hr></label><div class="goal-conclusion">equivocator_state_last destination =
equivocator_state_last destination
‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk19">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si;
       output := output
     |}, Existing i) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si&#39;;
       output := output
     |}, Existing i) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i ‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a"><span class="nb">assert</span> (si = si&#39;) <span class="bp">by</span> <span class="bp">congruence</span>; <span class="nb">subst</span> si&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si;
       output := output
     |}, Existing i) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si;
       output := output
     |}, Existing i) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i ‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b"><span class="nb">inversion_clear</span> HitemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi, Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := ls;
       input := input;
       destination := si;
       output := output
     |}, Existing i) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i
‚àß {|
    l := ls;
    input := input;
    destination := si;
    output := output
  |} = itemX&#39; ‚àß Existing i = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c"><span class="nb">inversion_clear</span> HitemX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ls</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing i</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi, Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination i =
Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i = i
‚àß {|
    l := ls;
    input := input;
    destination := si;
    output := output
  |} =
  {|
    l := ls;
    input := input;
    destination := si;
    output := output
  |} ‚àß Existing i = Existing i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">split</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing
  (equivocator_state_last destination)</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) = 
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some si&#39;</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si&#39;;
       output := output
     |}, Existing j) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last destination =
equivocator_state_last destination
‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e"><span class="nb">assert</span> (si = si&#39;) <span class="bp">by</span> <span class="bp">congruence</span>; <span class="nb">subst</span> si&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing
  (equivocator_state_last destination)</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) = 
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last destination =
equivocator_state_last destination
‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing
  (equivocator_state_last destination)</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) = 
Some si</span></span></span><br><span><var>HitemX</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX, odescriptor)</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last destination =
equivocator_state_last destination
‚àß itemX = itemX&#39; ‚àß odescriptor = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20"><span class="nb">inversion_clear</span> HitemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing
  (equivocator_state_last destination)</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) = 
Some si</span></span></span><br><span><var>HitemX'</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := l2;
       input := input;
       destination := si;
       output := output
     |}, Existing j) =
Some (Some itemX&#39;, odescriptor&#39;)</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last destination =
equivocator_state_last destination
‚àß {|
    l := l2;
    input := input;
    destination := si;
    output := output
  |} = itemX&#39; ‚àß Existing j = odescriptor&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21"><span class="nb">inversion_clear</span> HitemX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l2</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX, itemX'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, idescriptor'</var><span><span class="hyp-body"><b>:= </b><span>Existing
  (equivocator_state_last destination)</span></span><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span></span><br><span><var>odescriptor, odescriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi, Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last destination =
equivocator_state_last destination
‚àß {|
    l := l2;
    input := input;
    destination := si;
    output := output
  |} =
  {|
    l := l2;
    input := input;
    destination := si;
    output := output
  |} ‚àß Existing j = Existing j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kp">repeat</span> <span class="nb">split</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">equivocator_vlsm_transition_item_project</span></span> only fails for an out-of-range
  descriptor.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22"><span class="kn">Lemma</span> <span class="nf">equivocator_transition_item_project_inv_none</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">descriptor</span> : MachineDescriptor X)
  (<span class="nv">Hitem</span> : equivocator_vlsm_transition_item_project item descriptor = None)
  : <span class="kr">exists</span> (<span class="nv">i</span> : nat),
    descriptor = Existing i /\
    equivocator_state_project (destination item) i = None.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  descriptor = Existing i
  ‚àß equivocator_state_project (destination item) i =
    None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk23"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  descriptor = Existing i
  ‚àß equivocator_state_project (destination item) i =
    None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk24"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  descriptor = Existing i
  ‚àß equivocator_state_project
      (VLSM.destination
         {|
           l := l;
           input := input;
           destination := destination;
           output := output
         |}) i = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25"><span class="nb">destruct</span> descriptor <span class="kr">as</span> [s | i]; <span class="nb">cbn</span> <span class="kr">in</span> *; [<span class="bp">by</span> <span class="bp">congruence</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination i
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i0</span> : nat,
  Existing i = Existing i0
  ‚àß equivocator_state_project destination i0 = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk26"><span class="kr">exists</span> <span class="nv">i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination i
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Existing i = Existing i
‚àß equivocator_state_project destination i = None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk27"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination i
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project destination i = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk28">destruct_equivocator_state_project destination i si Hi; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide
       (i = equivocator_state_last destination)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := si;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide
       (i = equivocator_state_last destination)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := si;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> = None</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some si = None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l; case_decide.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk29"><span class="kn">Lemma</span> <span class="nf">equivocator_transition_item_project_proper</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">descriptor</span> : MachineDescriptor X)
  (<span class="nv">Hproper</span> : proper_descriptor X descriptor (destination item))
  : is_Some (equivocator_vlsm_transition_item_project item descriptor).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (equivocator_vlsm_transition_item_project item
     descriptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (equivocator_vlsm_transition_item_project item
     descriptor)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2b"><span class="nb">destruct</span> (equivocator_vlsm_transition_item_project _ _) <span class="kr">as</span> [x |] <span class="nb">eqn</span>: contra
  ; [<span class="bp">by</span> <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2c"><span class="nb">apply</span> equivocator_transition_item_project_inv_none <span class="kr">in</span> contra.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br><span><var>contra</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  descriptor = Existing i
  ‚àß equivocator_state_project
      (destination item) i = None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2d"><span class="nb">destruct</span> contra <span class="kr">as</span> [id [Heqd Hd]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqd</var><span class="hyp-type"><b>: </b><span>descriptor = Existing id</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (destination item) id =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2e"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing id)
  (destination item)</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (destination item) id =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk2f"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_state_project
     (destination item) id)</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (destination item) id =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk30"><span class="nb">destruct</span> Hproper <span class="kr">as</span> [x Hproper].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>equivocator_state_project 
  (destination item) id = 
Some x</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (destination item) id =
None</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_transition_item_project</span></span> produces a transition item,
  then that item has the same <span class="inlinecode"><span class="id" title="var">input</span></span> and <span class="inlinecode"><span class="id" title="var">output</span></span> as the argument item.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk31"><span class="kn">Lemma</span> <span class="nf">equivocator_transition_item_project_inv_messages</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">itemX</span> : transition_item X)
  (<span class="nv">idescriptor</span> <span class="nv">odescriptor</span> : MachineDescriptor X)
  (<span class="nv">Hitem</span> : equivocator_vlsm_transition_item_project item idescriptor = Some (Some itemX, odescriptor))
  : <span class="kr">exists</span>
    (<span class="nv">i</span> : nat),
    idescriptor = Existing i /\
    proper_descriptor X idescriptor (destination item) /\
    input item = input itemX /\ output item = output itemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  idescriptor = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  idescriptor = Existing i
  ‚àß proper_descriptor X idescriptor (destination item)
    ‚àß input item = input itemX
      ‚àß output item = output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk32"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>idescriptor, odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  idescriptor = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  idescriptor = Existing i
  ‚àß proper_descriptor X idescriptor (destination item)
    ‚àß input item = input itemX
      ‚àß output item = output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk33"><span class="nb">destruct</span> idescriptor <span class="kr">as</span> [s | j]; <span class="nb">cbn</span> <span class="kr">in</span> Hitem; [<span class="bp">by</span> <span class="bp">congruence</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> item <span class="kr">with</span>
| {|
    l := el;
    input := im;
    destination := s;
    output := om
  |} =&gt;
    <span class="kr">match</span> equivocator_state_project s j <span class="kr">with</span>
    | Some sj =&gt;
        <span class="kr">match</span> el <span class="kr">with</span>
        | Spawn sn =&gt;
            <span class="kr">if</span>
             decide
               (j = equivocator_state_last s)
            <span class="kr">then</span> Some (None, NewMachine sn)
            <span class="kr">else</span> Some (None, Existing j)
        | ContinueWith i lx =&gt;
            <span class="kr">if</span> decide (i = j)
            <span class="kr">then</span>
             Some
               (Some
                  {|
                    l := lx;
                    input := im;
                    destination := sj;
                    output := om
                  |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        | ForkWith i lx =&gt;
            <span class="kr">if</span>
             decide
               (j = equivocator_state_last s)
            <span class="kr">then</span>
             Some
               (Some
                  {|
                    l := lx;
                    input := im;
                    destination := sj;
                    output := om
                  |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        <span class="kr">end</span>
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  Existing j = Existing i
  ‚àß proper_descriptor X (Existing j)
      (destination item)
    ‚àß input item = input itemX
      ‚àß output item = output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk34"><span class="kr">exists</span> <span class="nv">j</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> item <span class="kr">with</span>
| {|
    l := el;
    input := im;
    destination := s;
    output := om
  |} =&gt;
    <span class="kr">match</span> equivocator_state_project s j <span class="kr">with</span>
    | Some sj =&gt;
        <span class="kr">match</span> el <span class="kr">with</span>
        | Spawn sn =&gt;
            <span class="kr">if</span>
             decide
               (j = equivocator_state_last s)
            <span class="kr">then</span> Some (None, NewMachine sn)
            <span class="kr">else</span> Some (None, Existing j)
        | ContinueWith i lx =&gt;
            <span class="kr">if</span> decide (i = j)
            <span class="kr">then</span>
             Some
               (Some
                  {|
                    l := lx;
                    input := im;
                    destination := sj;
                    output := om
                  |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        | ForkWith i lx =&gt;
            <span class="kr">if</span>
             decide
               (j = equivocator_state_last s)
            <span class="kr">then</span>
             Some
               (Some
                  {|
                    l := lx;
                    input := im;
                    destination := sj;
                    output := om
                  |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        <span class="kr">end</span>
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Existing j = Existing j
‚àß proper_descriptor X (Existing j) (destination item)
  ‚àß input item = input itemX
    ‚àß output item = output itemX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk35"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> item <span class="kr">with</span>
| {|
    l := el;
    input := im;
    destination := s;
    output := om
  |} =&gt;
    <span class="kr">match</span> equivocator_state_project s j <span class="kr">with</span>
    | Some sj =&gt;
        <span class="kr">match</span> el <span class="kr">with</span>
        | Spawn sn =&gt;
            <span class="kr">if</span>
             decide
               (j = equivocator_state_last s)
            <span class="kr">then</span> Some (None, NewMachine sn)
            <span class="kr">else</span> Some (None, Existing j)
        | ContinueWith i lx =&gt;
            <span class="kr">if</span> decide (i = j)
            <span class="kr">then</span>
             Some
               (Some
                  {|
                    l := lx;
                    input := im;
                    destination := sj;
                    output := om
                  |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        | ForkWith i lx =&gt;
            <span class="kr">if</span>
             decide
               (j = equivocator_state_last s)
            <span class="kr">then</span>
             Some
               (Some
                  {|
                    l := lx;
                    input := im;
                    destination := sj;
                    output := om
                  |}, Existing i)
            <span class="kr">else</span> Some (None, Existing j)
        <span class="kr">end</span>
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing j) (destination item)
‚àß input item = input itemX
  ‚àß output item = output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk36"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination j
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing j)
    | ContinueWith i lx =&gt;
        <span class="kr">if</span> decide (i = j)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    | ForkWith i lx =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing j)
  (VLSM.destination
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
‚àß VLSM.input
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} = VLSM.input itemX
  ‚àß VLSM.output
      {|
        l := l;
        input := input;
        destination := destination;
        output := output
      |} = VLSM.output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk37"><span class="nb">simpl</span> <span class="kr">in</span> Hitem |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination j
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing j)
    | ContinueWith i lx =&gt;
        <span class="kr">if</span> decide (i = j)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    | ForkWith i lx =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project destination j)
‚àß input = VLSM.input itemX
  ‚àß output = VLSM.output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk38"><span class="nb">destruct</span> (equivocator_state_project _ _); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing j)
| ContinueWith i lx =&gt;
    <span class="kr">if</span> decide (i = j)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
| ForkWith i lx =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (Some s)
‚àß input = VLSM.input itemX
  ‚àß output = VLSM.output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk39"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing j)
| ContinueWith i lx =&gt;
    <span class="kr">if</span> decide (i = j)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
| ForkWith i lx =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
<span class="kr">end</span> = Some (Some itemX, odescriptor)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input = VLSM.input itemX ‚àß output = VLSM.output itemX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> l; case_decide; <span class="nb">inversion</span> Hitem.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If the <span class="inlinecode"><span class="id" title="var">destination</span></span> of a <span class="inlinecode"><span class="id" title="var">valid</span></span> equivocator <span class="inlinecode"><span class="id" title="var">transition_item</span></span> is singleton,
  then by projecting the item to component 0 we actually obtain a
  <span class="inlinecode"><span class="id" title="var">transition_item</span></span> for the original machine.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3a"><span class="kn">Lemma</span> <span class="nf">no_equivocating_equivocator_transition_item_project</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">Hno_equiv_item</span> : is_singleton_state X (destination item))
  (<span class="nv">s</span> : state (equivocator_vlsm X))
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) (l item) (s, input item))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) (l item) (s, input item) = (destination item, output item))
  : <span class="kr">exists</span> (<span class="nv">Hex</span> : existing_equivocator_label _ (l item)),
    equivocator_vlsm_transition_item_project item (Existing <span class="mi">0</span>) =
      Some (Some
        {| l := existing_equivocator_label_extract _ (l item) Hex;
           input := input item; output := output item;
           destination := equivocator_state_descriptor_project (destination item) (Existing <span class="mi">0</span>)
        |}, Existing <span class="mi">0</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X
  (destination item)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
  equivocator_vlsm_transition_item_project item
    (Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X
             (l item) Hex;
         input := input item;
         destination :=
           equivocator_state_descriptor_project
             (destination item) (Existing <span class="mi">0</span>);
         output := output item
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X
  (destination item)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
  equivocator_vlsm_transition_item_project item
    (Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X
             (l item) Hex;
         input := input item;
         destination :=
           equivocator_state_descriptor_project
             (destination item) (Existing <span class="mi">0</span>);
         output := output item
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3c"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X
  (VLSM.destination
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) =
(VLSM.destination
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |},
 VLSM.output
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
          (VLSM.l
             {|
               l := l;
               input := input;
               destination := destination;
               output := output
             |}),
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} (Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X
             (VLSM.l
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |}) Hex;
         input :=
           VLSM.input
             {|
               l := l;
               input := input;
               destination := destination;
               output := output
             |};
         destination :=
           equivocator_state_descriptor_project
             (VLSM.destination
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |}) (Existing <span class="mi">0</span>);
         output :=
           VLSM.output
             {|
               l := l;
               input := input;
               destination := destination;
               output := output
             |}
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3d"><span class="nb">unfold</span> VLSM.l, VLSM.input, VLSM.output, VLSM.destination <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} (Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X l Hex;
         input := input;
         destination :=
           equivocator_state_descriptor_project
             destination (Existing <span class="mi">0</span>);
         output := output
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3e"><span class="nb">specialize</span>
    (equivocator_transition_no_equivocation_zero_descriptor X _ _ _ _ _ Hv Ht Hno_equiv_item)
    <span class="kr">as</span> [li Heq_eqvi].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s, input) = (destination, output)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>Heq_eqvi</var><span class="hyp-type"><b>: </b><span>l = ContinueWith <span class="mi">0</span> li</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} (Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X l Hex;
         input := input;
         destination :=
           equivocator_state_descriptor_project
             destination (Existing <span class="mi">0</span>);
         output := output
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk3f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith <span class="mi">0</span> li) (s, input) =
(destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith <span class="mi">0</span> li) (s, input)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
          (ContinueWith <span class="mi">0</span> li),
  equivocator_vlsm_transition_item_project
    {|
      l := ContinueWith <span class="mi">0</span> li;
      input := input;
      destination := destination;
      output := output
    |} (Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X
             (ContinueWith <span class="mi">0</span> li) Hex;
         input := input;
         destination :=
           equivocator_state_descriptor_project
             destination (Existing <span class="mi">0</span>);
         output := output
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk40"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hno_equiv_item</var><span class="hyp-type"><b>: </b><span>is_singleton_state X destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith <span class="mi">0</span> li) (s, input) =
(destination, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith <span class="mi">0</span> li) (s, input)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">_</span> : <span class="kt">True</span>,
  Some
    (Some
       {|
         l := li;
         input := input;
         destination :=
           equivocator_state_s destination <span class="mi">0</span>;
         output := output
       |}, Existing <span class="mi">0</span>) =
  Some
    (Some
       {|
         l := li;
         input := input;
         destination :=
           equivocator_state_s destination <span class="mi">0</span>;
         output := output
       |}, Existing <span class="mi">0</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kp">repeat</span> <span class="nb">split</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  For every valid transition there exists a (non-equivocating)
  <span class="inlinecode"><span class="id" title="var">MachineDescriptor</span></span> for its destination such that by projecting
  the transition item through that descriptor we obtain the transition
  item corresponding to the input transition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk41"><span class="kn">Lemma</span> <span class="nf">exists_equivocator_transition_item_project</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">s</span> : state (equivocator_vlsm X))
  (<span class="nv">Hs</span> : proper_existing_equivocator_label X (l item) s)
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) (l item) (s, input item))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) (l item) (s, input item) = (destination item, output item))
  : proper_equivocator_label X (l item) s /\
    <span class="kr">exists</span> <span class="nv">dest_eqv</span>,
      existing_descriptor X dest_eqv (destination item) /\
        equivocator_vlsm_transition_item_project item dest_eqv = Some
          (Some
            {| l := existing_equivocator_label_extract _ (l item)
                (existing_equivocator_label_forget_proper _ Hs);
               input := input item;
               output := output item;
               destination := equivocator_state_descriptor_project (destination item) dest_eqv
            |}, equivocator_label_descriptor (l item)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X (l item) s</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_label X (l item) s
‚àß (<span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
     existing_descriptor X dest_eqv (destination item)
     ‚àß equivocator_vlsm_transition_item_project item
         dest_eqv =
       Some
         (Some
            {|
              l :=
                existing_equivocator_label_extract X
                  (l item)
                  (existing_equivocator_label_forget_proper
                     X Hs);
              input := input item;
              destination :=
                equivocator_state_descriptor_project
                  (destination item) dest_eqv;
              output := output item
            |}, equivocator_label_descriptor (l item)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk42"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X (l item) s</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_label X (l item) s
‚àß (<span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
     existing_descriptor X dest_eqv (destination item)
     ‚àß equivocator_vlsm_transition_item_project item
         dest_eqv =
       Some
         (Some
            {|
              l :=
                existing_equivocator_label_extract X
                  (l item)
                  (existing_equivocator_label_forget_proper
                     X Hs);
              input := input item;
              destination :=
                equivocator_state_descriptor_project
                  (destination item) dest_eqv;
              output := output item
            |}, equivocator_label_descriptor (l item)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk43"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) s</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) =
(VLSM.destination
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |},
 VLSM.output
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_label X
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) s
‚àß (<span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
     existing_descriptor X dest_eqv
       (VLSM.destination
          {|
            l := l;
            input := input;
            destination := destination;
            output := output
          |})
     ‚àß equivocator_vlsm_transition_item_project
         {|
           l := l;
           input := input;
           destination := destination;
           output := output
         |} dest_eqv =
       Some
         (Some
            {|
              l :=
                existing_equivocator_label_extract X
                  (VLSM.l
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |})
                  (existing_equivocator_label_forget_proper
                     X Hs);
              input :=
                VLSM.input
                  {|
                    l := l;
                    input := input;
                    destination := destination;
                    output := output
                  |};
              destination :=
                equivocator_state_descriptor_project
                  (VLSM.destination
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |}) dest_eqv;
              output :=
                VLSM.output
                  {|
                    l := l;
                    input := input;
                    destination := destination;
                    output := output
                  |}
            |},
          equivocator_label_descriptor
            (VLSM.l
               {|
                 l := l;
                 input := input;
                 destination := destination;
                 output := output
               |})))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk44"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X l s</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_label X l s
‚àß (<span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
     existing_descriptor X dest_eqv destination
     ‚àß equivocator_vlsm_transition_item_project
         {|
           l := l;
           input := input;
           destination := destination;
           output := output
         |} dest_eqv =
       Some
         (Some
            {|
              l :=
                existing_equivocator_label_extract X l
                  (existing_equivocator_label_forget_proper
                     X Hs);
              input := input;
              destination :=
                equivocator_state_descriptor_project
                  destination dest_eqv;
              output := output
            |}, equivocator_label_descriptor l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk45"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | i l | i l]
  ; [<span class="bp">by</span> <span class="nb">inversion</span> Hs | ..]
  ; <span class="nb">cbn</span> <span class="kr">in</span> Hv, Ht
  ; <span class="nb">destruct</span> (equivocator_state_project _ _) <span class="kr">as</span> [si |] <span class="nb">eqn</span>: Hpr; [| <span class="bp">done</span> | | <span class="bp">done</span>]
  ; <span class="nb">split</span>; [<span class="bp">done</span> | | <span class="bp">done</span> |]
  ; <span class="nb">destruct</span> (transition _ _ _) <span class="kr">as</span> (si&#39;, om&#39;); <span class="nb">inversion_clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ContinueWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
  existing_descriptor X dest_eqv
    (equivocator_state_update s i si&#39;)
  ‚àß equivocator_vlsm_transition_item_project
      {|
        l := ContinueWith i l;
        input := input;
        destination :=
          equivocator_state_update s i si&#39;;
        output := output
      |} dest_eqv =
    Some
      (Some
         {|
           l :=
             existing_equivocator_label_extract X
               (ContinueWith i l)
               (existing_equivocator_label_forget_proper
                  X Hs);
           input := input;
           destination :=
             equivocator_state_descriptor_project
               (equivocator_state_update s i si&#39;)
               dest_eqv;
           output := output
         |},
       equivocator_label_descriptor (ContinueWith i l))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk46" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ForkWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk46"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
  existing_descriptor X dest_eqv
    (equivocator_state_extend s si&#39;)
  ‚àß equivocator_vlsm_transition_item_project
      {|
        l := ForkWith i l;
        input := input;
        destination := equivocator_state_extend s si&#39;;
        output := output
      |} dest_eqv =
    Some
      (Some
         {|
           l :=
             existing_equivocator_label_extract X
               (ForkWith i l)
               (existing_equivocator_label_forget_proper
                  X Hs);
           input := input;
           destination :=
             equivocator_state_descriptor_project
               (equivocator_state_extend s si&#39;)
               dest_eqv;
           output := output
         |},
       equivocator_label_descriptor (ForkWith i l))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk47">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ContinueWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
  existing_descriptor X dest_eqv
    (equivocator_state_update s i si&#39;)
  ‚àß equivocator_vlsm_transition_item_project
      {|
        l := ContinueWith i l;
        input := input;
        destination :=
          equivocator_state_update s i si&#39;;
        output := output
      |} dest_eqv =
    Some
      (Some
         {|
           l :=
             existing_equivocator_label_extract X
               (ContinueWith i l)
               (existing_equivocator_label_forget_proper
                  X Hs);
           input := input;
           destination :=
             equivocator_state_descriptor_project
               (equivocator_state_update s i si&#39;)
               dest_eqv;
           output := output
         |},
       equivocator_label_descriptor (ContinueWith i l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk48"><span class="kr">exists</span> (<span class="nv">Existing</span> <span class="nv">i</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ContinueWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">existing_descriptor X (Existing i)
  (equivocator_state_update s i si&#39;)
‚àß equivocator_vlsm_transition_item_project
    {|
      l := ContinueWith i l;
      input := input;
      destination := equivocator_state_update s i si&#39;;
      output := output
    |} (Existing i) =
  Some
    (Some
       {|
         l :=
           existing_equivocator_label_extract X
             (ContinueWith i l)
             (existing_equivocator_label_forget_proper
                X Hs);
         input := input;
         destination :=
           equivocator_state_descriptor_project
             (equivocator_state_update s i si&#39;)
             (Existing i);
         output := output
       |},
     equivocator_label_descriptor (ContinueWith i l))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk49"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ContinueWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (equivocator_state_project
     (equivocator_state_update s i si&#39;) i)
‚àß <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_update s i si&#39;) i
  <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span> decide (i = i)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing i)
      <span class="kr">else</span> Some (None, Existing i)
  | None =&gt; None
  <span class="kr">end</span> =
  Some
    (Some
       {|
         l := l;
         input := input;
         destination :=
           default
             (<span class="kr">if</span> decide (i = <span class="mi">0</span>)
              <span class="kr">then</span> si&#39;
              <span class="kr">else</span> equivocator_state_s s <span class="mi">0</span>)
             (equivocator_state_project
                (equivocator_state_update s i si&#39;) i);
         output := output
       |}, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4a"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ContinueWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (equivocator_state_project
     (equivocator_state_update s i si&#39;) i)
‚àß <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_update s i si&#39;) i
  <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span> decide (i = i)
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing i)
      <span class="kr">else</span> Some (None, Existing i)
  | None =&gt; None
  <span class="kr">end</span> =
  Some
    (Some
       {|
         l := l;
         input := input;
         destination :=
           default
             (<span class="kr">if</span> decide (i = <span class="mi">0</span>)
              <span class="kr">then</span> si&#39;
              <span class="kr">else</span> equivocator_state_s s <span class="mi">0</span>)
             (equivocator_state_project
                (equivocator_state_update s i si&#39;) i);
         output := output
       |}, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_state_update_project_eq, decide_True.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ForkWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">dest_eqv</span> : MachineDescriptor X,
  existing_descriptor X dest_eqv
    (equivocator_state_extend s si&#39;)
  ‚àß equivocator_vlsm_transition_item_project
      {|
        l := ForkWith i l;
        input := input;
        destination := equivocator_state_extend s si&#39;;
        output := output
      |} dest_eqv =
    Some
      (Some
         {|
           l :=
             existing_equivocator_label_extract X
               (ForkWith i l)
               (existing_equivocator_label_forget_proper
                  X Hs);
           input := input;
           destination :=
             equivocator_state_descriptor_project
               (equivocator_state_extend s si&#39;)
               dest_eqv;
           output := output
         |},
       equivocator_label_descriptor (ForkWith i l))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4c"><span class="kr">exists</span> (<span class="nv">Existing</span> (equivocator_state_n s)); <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ForkWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some
  (equivocator_state_project
     (equivocator_state_extend s si&#39;)
     (equivocator_state_n s))
‚àß <span class="kr">match</span>
    equivocator_state_project
      (equivocator_state_extend s si&#39;)
      (equivocator_state_n s)
  <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">if</span>
       decide
         (equivocator_state_n s =
          S (equivocator_state_last s))
      <span class="kr">then</span>
       Some
         (Some
            {|
              l := l;
              input := input;
              destination := sj;
              output := output
            |}, Existing i)
      <span class="kr">else</span>
       Some (None, Existing (equivocator_state_n s))
  | None =&gt; None
  <span class="kr">end</span> =
  Some
    (Some
       {|
         l := l;
         input := input;
         destination :=
           default
             (<span class="kr">if</span>
               decide
                 (S (equivocator_state_last s) = <span class="mi">0</span>)
              <span class="kr">then</span> si&#39;
              <span class="kr">else</span> equivocator_state_s s <span class="mi">0</span>)
             (equivocator_state_project
                (equivocator_state_extend s si&#39;)
                (equivocator_state_n s));
         output := output
       |}, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4d">destruct_equivocator_state_extend_project s si&#39; (equivocator_state_n s) Hn
    ; [<span class="bp">lia</span> | | <span class="bp">lia</span>]; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>proper_existing_equivocator_label X
  (ForkWith i l) s</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (si, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hni</var><span class="hyp-type"><b>: </b><span>¬¨ equivocator_state_n s &lt; equivocator_state_n s</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s = equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (Some si&#39;)
‚àß (<span class="kr">if</span>
    decide
      (equivocator_state_n s =
       S (equivocator_state_last s))
   <span class="kr">then</span>
    Some
      (Some
         {|
           l := l;
           input := input;
           destination := si&#39;;
           output := output
         |}, Existing i)
   <span class="kr">else</span> Some (None, Existing (equivocator_state_n s))) =
  Some
    (Some
       {|
         l := l;
         input := input;
         destination := si&#39;;
         output := output
       |}, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (equivocator_state_last_n _ s), decide_True.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  This property attempts to characterize the descriptor obtained after
  applying an equivocator projection (trace, transition_item) function in
  terms of the input descriptor and the resulting state.

<div class="paragraph"> </div>

  It is assumed that the original_descriptor is a proper descriptor
  w.r.t. the final state of the trace/transition on which
  <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_transition_item_project</span></span> or <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_trace_project</span></span>
  was applied. In particular this makes s_descriptor a proper descriptor for
  the state s (see the lemmas above and below).

<div class="paragraph"> </div>

  What this property adds is the fact that it constrains more the output
  descriptor of a projection operation in terms of the input descriptor
  (if the input is Newmachine, the output must be Newmachine, if both
  are Existing, then the output index must be less than the input), while also
  guaranteeing that the output state of such a projection has a size less than
  the index of the input descriptor in case that output descriptor becomes
  NewMachine (signaling that the projection is complete).

<div class="paragraph"> </div>

  This property is crucial for establishing an invariant on known equivocators
  (see <span class="inlinecode"><span class="id" title="var">full_node_limited_equivocation_constraint_known_equivocators</span></span>).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">previous_state_descriptor_prop</span>
  (<span class="nv">original_descriptor</span> : MachineDescriptor X)
  (<span class="nv">s</span> : state (equivocator_vlsm X))
  (<span class="nv">s_descriptor</span> : MachineDescriptor X)
  : <span class="kt">Prop</span> :=
    <span class="kr">match</span> original_descriptor <span class="kr">with</span>
    | NewMachine sd =&gt; s_descriptor = original_descriptor
    | Existing id =&gt;
      <span class="kr">match</span> s_descriptor <span class="kr">with</span>
      | NewMachine _ =&gt; equivocator_state_n s &lt;= id
      | Existing id&#39; =&gt; id&#39; &lt;= id
      <span class="kr">end</span>
    <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4e"><span class="kn">Lemma</span> <span class="nf">equivocator_transition_item_project_proper_characterization</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">descriptor</span> : MachineDescriptor X)
  (<span class="nv">Hproper</span> : proper_descriptor X descriptor (destination item))
  : <span class="kr">exists</span> <span class="nv">oitem</span> <span class="nv">descriptor&#39;</span>,
    equivocator_vlsm_transition_item_project item descriptor = Some (oitem, descriptor&#39;)
    /\ <span class="kr">match</span> oitem <span class="kr">with</span>
      | Some itemx =&gt;
        (<span class="kr">exists</span> (<span class="nv">Hex</span> : existing_equivocator_label _ (l item)),
          l itemx = existing_equivocator_label_extract _ (l item) Hex) /\
        input item = input itemx /\ output item = output itemx /\
        (equivocator_state_descriptor_project (destination item) descriptor = destination itemx)
        /\ descriptor&#39; = equivocator_label_descriptor (l item)
      | None =&gt; <span class="kt">True</span>
      <span class="kr">end</span>
    /\ <span class="kr">forall</span>
      (<span class="nv">s</span> : state (equivocator_vlsm X))
      (<span class="nv">Hv</span> : valid (equivocator_vlsm X) (l item) (s, input item))
      (<span class="nv">Ht</span> : transition (equivocator_vlsm X) (l item) (s, input item) = (destination item, output item)),
      proper_descriptor X descriptor&#39; s /\
      previous_state_descriptor_prop descriptor s descriptor&#39; /\
      <span class="kr">match</span> oitem <span class="kr">with</span>
      | Some itemx =&gt;
        <span class="kr">forall</span> (<span class="nv">sx</span> : state X)
          (<span class="nv">Hsx</span> : sx = equivocator_state_descriptor_project s descriptor&#39;),
          valid X (l itemx) (sx, input itemx) /\
          transition X (l itemx) (sx, input itemx) = (destination itemx, output itemx)
      | None =&gt;
        equivocator_state_descriptor_project (destination item) descriptor =
        equivocator_state_descriptor_project s descriptor&#39;
      <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  equivocator_vlsm_transition_item_project item
    descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
           l itemx =
           existing_equivocator_label_extract X
             (l item) Hex)
        ‚àß input item = input itemx
          ‚àß output item = output itemx
            ‚àß equivocator_state_descriptor_project
                (destination item) descriptor =
              destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor (l item)
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid (l item) (s, input item)
         ‚Üí transition (l item) (s, input item) =
           (destination item, output item)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s descriptor&#39;
                       ‚Üí valid (l itemx)
                           (sx, input itemx)
                         ‚àß transition (l itemx)
                             (sx, input itemx) =
                           (destination itemx,
                            output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                       (destination item) descriptor =
                     equivocator_state_descriptor_project
                       s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk4f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  equivocator_vlsm_transition_item_project item
    descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
           l itemx =
           existing_equivocator_label_extract X
             (l item) Hex)
        ‚àß input item = input itemx
          ‚àß output item = output itemx
            ‚àß equivocator_state_descriptor_project
                (destination item) descriptor =
              destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor (l item)
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid (l item) (s, input item)
         ‚Üí transition (l item) (s, input item) =
           (destination item, output item)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s descriptor&#39;
                       ‚Üí valid (l itemx)
                           (sx, input itemx)
                         ‚àß transition (l itemx)
                             (sx, input itemx) =
                           (destination itemx,
                            output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                       (destination item) descriptor =
                     equivocator_state_descriptor_project
                       s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk50"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (VLSM.destination
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
                   (VLSM.l
                      {|
                        l := l;
                        input := input;
                        destination := destination;
                        output := output
                      |}),
           VLSM.l itemx =
           existing_equivocator_label_extract X
             (VLSM.l
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |}) Hex)
        ‚àß VLSM.input
            {|
              l := l;
              input := input;
              destination := destination;
              output := output
            |} = VLSM.input itemx
          ‚àß VLSM.output
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |} = VLSM.output itemx
            ‚àß equivocator_state_descriptor_project
                (VLSM.destination
                   {|
                     l := l;
                     input := input;
                     destination := destination;
                     output := output
                   |}) descriptor =
              VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor
                  (VLSM.l
                     {|
                       l := l;
                       input := input;
                       destination := destination;
                       output := output
                     |})
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid
           (VLSM.l
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |})
           (s,
            VLSM.input
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |})
         ‚Üí transition
             (VLSM.l
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |})
             (s,
              VLSM.input
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |}) =
           (VLSM.destination
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |},
            VLSM.output
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |})
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s descriptor&#39;
                       ‚Üí valid (VLSM.l itemx)
                           (sx, VLSM.input itemx)
                         ‚àß transition (VLSM.l itemx)
                             (sx, VLSM.input itemx) =
                           (VLSM.destination itemx,
                            VLSM.output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                       (VLSM.destination
                          {|
                            l := l;
                            input := input;
                            destination := destination;
                            output := output
                          |}) descriptor =
                     equivocator_state_descriptor_project
                       s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk51"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (VLSM.destination
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
           VLSM.l itemx =
           existing_equivocator_label_extract X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß equivocator_state_descriptor_project
                destination descriptor =
              VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
         equivocator_valid X l (s, input)
         ‚Üí equivocator_transition X l (s, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s descriptor&#39;
                       ‚Üí valid (VLSM.l itemx)
                           (sx, VLSM.input itemx)
                         ‚àß transition (VLSM.l itemx)
                             (sx, VLSM.input itemx) =
                           (VLSM.destination itemx,
                            VLSM.output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                       destination descriptor =
                     equivocator_state_descriptor_project
                       s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk52"><span class="nb">simpl</span> <span class="kr">in</span> Hproper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
           VLSM.l itemx =
           existing_equivocator_label_extract X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß equivocator_state_descriptor_project
                destination descriptor =
              VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
         equivocator_valid X l (s, input)
         ‚Üí equivocator_transition X l (s, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s descriptor&#39;
                       ‚Üí valid (VLSM.l itemx)
                           (sx, VLSM.input itemx)
                         ‚àß transition (VLSM.l itemx)
                             (sx, VLSM.input itemx) =
                           (VLSM.destination itemx,
                            VLSM.output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                       destination descriptor =
                     equivocator_state_descriptor_project
                       s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk53"><span class="nb">destruct</span> descriptor <span class="nb">eqn</span>: Heqvi; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqvi</var><span class="hyp-type"><b>: </b><span>descriptor = NewMachine s</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine s)
  destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  Some (None, NewMachine s) =
  Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
           VLSM.l itemx =
           existing_equivocator_label_extract X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß s = VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s0</span> : Equivocators.bounded_state_copies X,
         equivocator_valid X l (s0, input)
         ‚Üí equivocator_transition X l (s0, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s0
             ‚àß descriptor&#39; = NewMachine s
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s0 descriptor&#39;
                       ‚Üí valid (VLSM.l itemx)
                           (sx, VLSM.input itemx)
                         ‚àß transition (VLSM.l itemx)
                             (sx, VLSM.input itemx) =
                           (VLSM.destination itemx,
                            VLSM.output itemx)
                 | None =&gt;
                     s =
                     equivocator_state_descriptor_project
                       s0 descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqvi</var><span class="hyp-type"><b>: </b><span>descriptor = Existing n</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing n) destination</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk54"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
  (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
  <span class="kr">match</span> equivocator_state_project destination n <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">match</span> l <span class="kr">with</span>
      | Spawn sn =&gt;
          <span class="kr">if</span>
           decide
             (n = equivocator_state_last destination)
          <span class="kr">then</span> Some (None, NewMachine sn)
          <span class="kr">else</span> Some (None, Existing n)
      | ContinueWith i lx =&gt;
          <span class="kr">if</span> decide (i = n)
          <span class="kr">then</span>
           Some
             (Some
                {|
                  l := lx;
                  input := input;
                  destination := sj;
                  output := output
                |}, Existing i)
          <span class="kr">else</span> Some (None, Existing n)
      | ForkWith i lx =&gt;
          <span class="kr">if</span>
           decide
             (n = equivocator_state_last destination)
          <span class="kr">then</span>
           Some
             (Some
                {|
                  l := lx;
                  input := input;
                  destination := sj;
                  output := output
                |}, Existing i)
          <span class="kr">else</span> Some (None, Existing n)
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
           VLSM.l itemx =
           existing_equivocator_label_extract X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß default
                (equivocator_state_zero destination)
                (equivocator_state_project destination
                   n) = 
              VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
         equivocator_valid X l (s, input)
         ‚Üí equivocator_transition X l (s, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß <span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
               | NewMachine _ =&gt;
                   equivocator_state_n s ‚â§ n
               | Existing id&#39; =&gt; id&#39; ‚â§ n
               <span class="kr">end</span>
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (VLSM.l itemx)
                      (sx, VLSM.input itemx)
                      ‚àß 
                      transition 
                      (VLSM.l itemx)
                      (sx, VLSM.input itemx) =
                      (
                      VLSM.destination itemx,
                      VLSM.output itemx)
                 | None =&gt;
                     default
                      (equivocator_state_zero
                      destination)
                      (equivocator_state_project
                      destination n) =
                     equivocator_state_descriptor_project
                      s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqvi</var><span class="hyp-type"><b>: </b><span>descriptor = NewMachine s</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine s)
  destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  Some (None, NewMachine s) =
  Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
           VLSM.l itemx =
           existing_equivocator_label_extract X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß s = VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s0</span> : Equivocators.bounded_state_copies X,
         equivocator_valid X l (s0, input)
         ‚Üí equivocator_transition X l (s0, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s0
             ‚àß descriptor&#39; = NewMachine s
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s0 descriptor&#39;
                       ‚Üí valid (VLSM.l itemx)
                           (sx, VLSM.input itemx)
                         ‚àß transition (VLSM.l itemx)
                             (sx, VLSM.input itemx) =
                           (VLSM.destination itemx,
                            VLSM.output itemx)
                 | None =&gt;
                     s =
                     equivocator_state_descriptor_project
                       s0 descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span> None, _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk56">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqvi</var><span class="hyp-type"><b>: </b><span>descriptor = Existing n</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing n) destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) (<span class="nv">descriptor&#39;</span> : 
                                    MachineDescriptor
                                      X),
  <span class="kr">match</span> equivocator_state_project destination n <span class="kr">with</span>
  | Some sj =&gt;
      <span class="kr">match</span> l <span class="kr">with</span>
      | Spawn sn =&gt;
          <span class="kr">if</span>
           decide
             (n = equivocator_state_last destination)
          <span class="kr">then</span> Some (None, NewMachine sn)
          <span class="kr">else</span> Some (None, Existing n)
      | ContinueWith i lx =&gt;
          <span class="kr">if</span> decide (i = n)
          <span class="kr">then</span>
           Some
             (Some
                {|
                  l := lx;
                  input := input;
                  destination := sj;
                  output := output
                |}, Existing i)
          <span class="kr">else</span> Some (None, Existing n)
      | ForkWith i lx =&gt;
          <span class="kr">if</span>
           decide
             (n = equivocator_state_last destination)
          <span class="kr">then</span>
           Some
             (Some
                {|
                  l := lx;
                  input := input;
                  destination := sj;
                  output := output
                |}, Existing i)
          <span class="kr">else</span> Some (None, Existing n)
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
           VLSM.l itemx =
           existing_equivocator_label_extract X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß default
                (equivocator_state_zero destination)
                (equivocator_state_project destination
                   n) = VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
         equivocator_valid X l (s, input)
         ‚Üí equivocator_transition X l (s, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß <span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
               | NewMachine _ =&gt;
                   equivocator_state_n s ‚â§ n
               | Existing id&#39; =&gt; id&#39; ‚â§ n
               <span class="kr">end</span>
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                       sx =
                       equivocator_state_descriptor_project
                         s descriptor&#39;
                       ‚Üí valid (VLSM.l itemx)
                           (sx, VLSM.input itemx)
                         ‚àß transition (VLSM.l itemx)
                             (sx, VLSM.input itemx) =
                           (VLSM.destination itemx,
                            VLSM.output itemx)
                 | None =&gt;
                     default
                       (equivocator_state_zero
                          destination)
                       (equivocator_state_project
                          destination n) =
                     equivocator_state_descriptor_project
                       s descriptor&#39;
                 <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk57"><span class="nb">destruct</span> l <span class="kr">as</span> [nsi | ieqvi li | ieqvi li]
    ; <span class="nb">destruct</span> Hproper <span class="kr">as</span> [destn Hpr]; <span class="nb">rewrite</span> Hpr
    ; case_decide; <span class="nb">subst</span>
    ; <span class="nb">eexists</span> _, _; <span class="nb">split</span>; <span class="kp">try</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (Spawn nsi),
       l itemx =
       existing_equivocator_label_extract X
         (Spawn nsi) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß NewMachine nsi =
            equivocator_label_descriptor (Spawn nsi)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (Spawn nsi) (s, input)
     ‚Üí equivocator_transition X (Spawn nsi) (s, input) =
       (destination, output)
       ‚Üí proper_descriptor X (NewMachine nsi) s
         ‚àß <span class="kr">match</span> NewMachine nsi <span class="kr">with</span>
           | NewMachine _ =&gt;
               equivocator_state_n s
               ‚â§ equivocator_state_last destination
           | Existing id&#39; =&gt;
               id&#39;
               ‚â§ equivocator_state_last destination
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (NewMachine nsi)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (NewMachine nsi)
             <span class="kr">end</span>)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk58" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk58"><hr></label><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (Spawn nsi),
       l itemx =
       existing_equivocator_label_extract X
         (Spawn nsi) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = 
          VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor (Spawn nsi)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (Spawn nsi) (s, input)
     ‚Üí equivocator_transition X (Spawn nsi) (s, input) =
       (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s 
                     (Existing n)
                   ‚Üí valid 
                      (l itemx) (
                      sx, VLSM.input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, VLSM.input itemx) =
                     (VLSM.destination itemx,
                      VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk59" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk59"><hr></label><div class="goal-conclusion"><span class="kr">match</span>
  Some
    {|
      l := li;
      input := input;
      destination := destn;
      output := output
    |}
<span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ContinueWith n li),
       l itemx =
       existing_equivocator_label_extract X
         (ContinueWith n li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = 
          VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor
              (ContinueWith n li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X 
       (ContinueWith n li) (
       s, input)
     ‚Üí equivocator_transition X 
         (ContinueWith n li) (
         s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span>
               Some
                 {|
                   l := li;
                   input := input;
                   destination := destn;
                   output := output
                 |}
             <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s 
                     (Existing n)
                   ‚Üí valid 
                      (l itemx) (
                      sx, VLSM.input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, VLSM.input itemx) =
                     (VLSM.destination itemx,
                      VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk5a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk5a"><hr></label><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ContinueWith ieqvi li),
       l itemx =
       existing_equivocator_label_extract X
         (ContinueWith ieqvi li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = 
          VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor
              (ContinueWith ieqvi li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X 
       (ContinueWith ieqvi li) (
       s, input)
     ‚Üí equivocator_transition X
         (ContinueWith ieqvi li) (
         s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s 
                     (Existing n)
                   ‚Üí valid 
                      (l itemx) (
                      sx, VLSM.input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, VLSM.input itemx) =
                     (VLSM.destination itemx,
                      VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk5b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk5b"><hr></label><div class="goal-conclusion"><span class="kr">match</span>
  Some
    {|
      l := li;
      input := input;
      destination := destn;
      output := output
    |}
<span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ForkWith ieqvi li),
       l itemx =
       existing_equivocator_label_extract X
         (ForkWith ieqvi li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = 
          VLSM.destination itemx
          ‚àß Existing ieqvi =
            equivocator_label_descriptor
              (ForkWith ieqvi li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X 
       (ForkWith ieqvi li) (
       s, input)
     ‚Üí equivocator_transition X 
         (ForkWith ieqvi li) (
         s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing ieqvi) s
         ‚àß <span class="kr">match</span> Existing ieqvi <span class="kr">with</span>
           | NewMachine _ =&gt;
               equivocator_state_n s
               ‚â§ equivocator_state_last destination
           | Existing id&#39; =&gt;
               id&#39;
               ‚â§ equivocator_state_last destination
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span>
               Some
                 {|
                   l := li;
                   input := input;
                   destination := destn;
                   output := output
                 |}
             <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s 
                     (Existing ieqvi)
                   ‚Üí valid 
                      (l itemx) (
                      sx, VLSM.input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, VLSM.input itemx) =
                     (VLSM.destination itemx,
                      VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing ieqvi)
             <span class="kr">end</span>)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk5c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk5c"><hr></label><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ForkWith ieqvi li),
       l itemx =
       existing_equivocator_label_extract X
         (ForkWith ieqvi li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = 
          VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor
              (ForkWith ieqvi li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X 
       (ForkWith ieqvi li) (
       s, input)
     ‚Üí equivocator_transition X 
         (ForkWith ieqvi li) (
         s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s 
                     (Existing n)
                   ‚Üí valid 
                      (l itemx) (
                      sx, VLSM.input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, VLSM.input itemx) =
                     (VLSM.destination itemx,
                      VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk5d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (Spawn nsi),
       l itemx =
       existing_equivocator_label_extract X
         (Spawn nsi) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß NewMachine nsi =
            equivocator_label_descriptor (Spawn nsi)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (Spawn nsi) (s, input)
     ‚Üí equivocator_transition X (Spawn nsi) (s, input) =
       (destination, output)
       ‚Üí proper_descriptor X (NewMachine nsi) s
         ‚àß <span class="kr">match</span> NewMachine nsi <span class="kr">with</span>
           | NewMachine _ =&gt;
               equivocator_state_n s
               ‚â§ equivocator_state_last destination
           | Existing id&#39; =&gt;
               id&#39;
               ‚â§ equivocator_state_last destination
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (NewMachine nsi)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (NewMachine nsi)
             <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk5e"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X (Spawn nsi) (s, input)
  ‚Üí equivocator_transition X (Spawn nsi) (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X (NewMachine nsi) s
      ‚àß equivocator_state_n s
        ‚â§ equivocator_state_last destination
        ‚àß default (equivocator_state_zero destination)
            (Some destn) =
          equivocator_state_descriptor_project s
            (NewMachine nsi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk5f"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (NewMachine nsi) s
‚àß equivocator_state_n s
  ‚â§ equivocator_state_last destination
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (NewMachine nsi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk60"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">apply</span> Hv |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n s
‚â§ equivocator_state_last destination
‚àß default (equivocator_state_zero destination)
    (Some destn) =
  equivocator_state_descriptor_project s
    (NewMachine nsi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk61"><span class="nb">specialize</span> (new_machine_label_equivocator_transition_size X Ht) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n s
‚â§ equivocator_state_last destination
‚àß default (equivocator_state_zero destination)
    (Some destn) =
  equivocator_state_descriptor_project s
    (NewMachine nsi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk62"><span class="nb">specialize</span> (equivocator_state_last_n X destination) <span class="kr">as</span> Hlst_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n s
‚â§ equivocator_state_last destination
‚àß default (equivocator_state_zero destination)
    (Some destn) =
  equivocator_state_descriptor_project s
    (NewMachine nsi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk63"><span class="nb">split</span>; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s
  (NewMachine nsi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk64"><span class="nb">rewrite</span> &lt;-
        (new_machine_label_equivocator_state_project_last X Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project destination
  (Existing (equivocator_state_n s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk65"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">destn =
default (equivocator_state_zero destination)
  (equivocator_state_project destination
     (equivocator_state_n s))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk66"><span class="nb">replace</span> (equivocator_state_n s) <span class="kr">with</span> (equivocator_state_last destination) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">destn =
default (equivocator_state_zero destination)
  (equivocator_state_project destination
     (equivocator_state_last destination))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Hpr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk67">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (Spawn nsi),
       l itemx =
       existing_equivocator_label_extract X
         (Spawn nsi) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor (Spawn nsi)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (Spawn nsi) (s, input)
     ‚Üí equivocator_transition X (Spawn nsi) (s, input) =
       (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (Existing n)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk68"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X (Spawn nsi) (s, input)
  ‚Üí equivocator_transition X (Spawn nsi) (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X (Existing n) s
      ‚àß n ‚â§ n
        ‚àß default (equivocator_state_zero destination)
            (Some destn) =
          equivocator_state_descriptor_project s
            (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk69"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk6a"><span class="nb">specialize</span> (new_machine_label_equivocator_transition_size X Ht) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk6b"><span class="nb">cut</span> (proper_descriptor X (Existing n) s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚Üí proper_descriptor X (Existing n) s
  ‚àß n ‚â§ n
    ‚àß default (equivocator_state_zero destination)
        (Some destn) =
      equivocator_state_descriptor_project s
        (Existing n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk6c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk6c"><hr></label><div class="goal-conclusion">proper_descriptor X (Existing n) s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk6d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚Üí proper_descriptor X (Existing n) s
  ‚àß n ‚â§ n
    ‚àß default (equivocator_state_zero destination)
        (Some destn) =
      equivocator_state_descriptor_project s
        (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk6e"><span class="nb">intros</span> [_sn Hpr&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some _sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk6f">split_and!; [<span class="bp">by</span> <span class="nb">eexists</span> _sn | <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some _sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk70"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpr&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk71"><span class="nb">rewrite</span> &lt;- (new_machine_label_equivocator_state_project_not_last X Ht) <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project destination
  (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">simpl</span>; <span class="nb">rewrite</span> Hpr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk72">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk73"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk74"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpr <span class="kr">as</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk75"><span class="nb">specialize</span> (equivocator_state_last_n X destination) <span class="kr">as</span> Hlst_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>nsi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (Spawn nsi) (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X (Spawn nsi) (s, input) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n destination</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> destruct_equivocator_state_project s n _sn Hn&#39;; [<span class="nb">eexists</span> | <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk76">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  Some
    {|
      l := li;
      input := input;
      destination := destn;
      output := output
    |}
<span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ContinueWith n li),
       l itemx =
       existing_equivocator_label_extract X
         (ContinueWith n li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor
              (ContinueWith n li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (ContinueWith n li)
       (s, input)
     ‚Üí equivocator_transition X (ContinueWith n li)
         (s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span>
               Some
                 {|
                   l := li;
                   input := input;
                   destination := destn;
                   output := output
                 |}
             <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (Existing n)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk77"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">((<span class="kr">‚àÉ</span> <span class="nv">_</span> : <span class="kt">True</span>, li = li)
 ‚àß input = input
   ‚àß output = output
     ‚àß destn = destn ‚àß Existing n = Existing n)
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     <span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
     | Some si =&gt; valid li (si, input)
     | None =&gt; <span class="kt">False</span>
     <span class="kr">end</span>
     ‚Üí <span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
       | Some si =&gt;
           <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
             transition li (si, input) <span class="kr">in</span>
           (equivocator_state_update s n si&#39;, om&#39;)
       | None =&gt; (s, input)
       <span class="kr">end</span> = (destination, output)
       ‚Üí is_Some (equivocator_state_project s n)
         ‚àß n ‚â§ n
           ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                default (equivocator_state_zero s)
                  (equivocator_state_project s n)
                ‚Üí valid li (sx, input)
                  ‚àß transition li (sx, input) =
                    (destn, output)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk78"><span class="nb">split</span>; [<span class="kp">repeat</span> <span class="nb">split</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  <span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
  | Some si =&gt; valid li (si, input)
  | None =&gt; <span class="kt">False</span>
  <span class="kr">end</span>
  ‚Üí <span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
    | Some si =&gt;
        <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (si, input) <span class="kr">in</span>
        (equivocator_state_update s n si&#39;, om&#39;)
    | None =&gt; (s, input)
    <span class="kr">end</span> = (destination, output)
    ‚Üí is_Some (equivocator_state_project s n)
      ‚àß n ‚â§ n
        ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
             sx =
             default (equivocator_state_zero s)
               (equivocator_state_project s n)
             ‚Üí valid li (sx, input)
               ‚àß transition li (sx, input) =
                 (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk79"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt; valid li (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
      transition li (si, input) <span class="kr">in</span>
    (equivocator_state_update s n si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)
‚àß n ‚â§ n
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       default (equivocator_state_zero s)
         (equivocator_state_project s n)
       ‚Üí valid li (sx, input)
         ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk7a"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt; valid li (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s n <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
      transition li (si, input) <span class="kr">in</span>
    (equivocator_state_update s n si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)
‚àß n ‚â§ n
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       default (equivocator_state_zero s)
         (equivocator_state_project s n)
       ‚Üí valid li (sx, input)
         ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk7b"><span class="nb">destruct</span> (equivocator_state_project s n) <span class="kr">as</span> [sn |] <span class="nb">eqn</span>: Hpri
      ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (Some sn)
‚àß n ‚â§ n
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       default (equivocator_state_zero s) (Some sn)
       ‚Üí valid li (sx, input)
         ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk7c"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n ‚â§ n
‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
     sx = default (equivocator_state_zero s) (Some sn)
     ‚Üí valid li (sx, input)
       ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk7d"><span class="nb">split</span>; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx = default (equivocator_state_zero s) (Some sn)
  ‚Üí valid li (sx, input)
    ‚àß transition li (sx, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk7e"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsx</var><span class="hyp-type"><b>: </b><span>sx =
default (equivocator_state_zero s) (Some sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (sx, input)
‚àß transition li (sx, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk7f"><span class="nb">subst</span> sx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li
  (default (equivocator_state_zero s) (Some sn), input)
‚àß transition li
    (default (equivocator_state_zero s) (Some sn),
     input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk80"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (sn, input)
‚àß transition li (sn, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk81"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition li (sn, input) <span class="kr">in</span>
 (equivocator_state_update s n si&#39;, om&#39;)) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition li (sn, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk82"><span class="nb">destruct</span> (transition _ _ _) <span class="kr">as</span> (si&#39;, _output).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_update s n si&#39;, _output) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(si&#39;, _output) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk83"><span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_update s n si&#39;, _output) =
(destination, output)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>equivocator_state_update s n si&#39; = destination</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>_output = output</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(si&#39;, output) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk84"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input, output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project
  (equivocator_state_update s n si&#39;) n =
Some destn</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_update s n si&#39;, output) =
(equivocator_state_update s n si&#39;, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(si&#39;, output) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk85"><span class="nb">rewrite</span> equivocator_state_update_project_eq <span class="kr">in</span> Hpr
      ; [<span class="bp">by</span> <span class="nb">inversion</span> Hpr | | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input, output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project
  (equivocator_state_update s n si&#39;) n =
Some destn</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some sn</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sn, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_update s n si&#39;, output) =
(equivocator_state_update s n si&#39;, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">n &lt; equivocator_state_n s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpri.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk86">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ContinueWith ieqvi li),
       l itemx =
       existing_equivocator_label_extract X
         (ContinueWith ieqvi li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor
              (ContinueWith ieqvi li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (ContinueWith ieqvi li)
       (s, input)
     ‚Üí equivocator_transition X
         (ContinueWith ieqvi li) (s, input) =
       (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (Existing n)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk87"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X (ContinueWith ieqvi li)
    (s, input)
  ‚Üí equivocator_transition X (ContinueWith ieqvi li)
      (s, input) = (destination, output)
    ‚Üí proper_descriptor X (Existing n) s
      ‚àß n ‚â§ n
        ‚àß default (equivocator_state_zero destination)
            (Some destn) =
          equivocator_state_descriptor_project s
            (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk88"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (ContinueWith ieqvi li)
  (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk89"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt; valid li (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk8a"><span class="nb">destruct</span> (equivocator_state_project s ieqvi) <span class="kr">as</span> [sieqvi |] <span class="nb">eqn</span>: Hpri
      ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk8b"><span class="nb">cut</span> (proper_descriptor X (Existing n) s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚Üí proper_descriptor X (Existing n) s
  ‚àß n ‚â§ n
    ‚àß default (equivocator_state_zero destination)
        (Some destn) =
      equivocator_state_descriptor_project s
        (Existing n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk8c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk8c"><hr></label><div class="goal-conclusion">proper_descriptor X (Existing n) s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk8d">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚Üí proper_descriptor X (Existing n) s
  ‚àß n ‚â§ n
    ‚àß default (equivocator_state_zero destination)
        (Some destn) =
      equivocator_state_descriptor_project s
        (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk8e"><span class="nb">intro</span> Hproper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing n) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk8f">split_and!; [<span class="bp">done</span> | <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing n) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk90"><span class="nb">destruct</span> Hproper <span class="kr">as</span> [_sn Hprn].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprn</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some _sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk91"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hprn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprn</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk92"><span class="nb">rewrite</span> &lt;- (existing_false_label_equivocator_state_project_not_same X Ht _ Hpri _ Hprn H).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprn</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project destination
  (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">simpl</span>; <span class="nb">rewrite</span> Hpr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk93">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk94"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk95"><span class="nb">specialize</span> (existing_false_label_equivocator_transition_size X Ht _ Hpri) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk96"><span class="nb">specialize</span> (equivocator_state_last_n X destination) <span class="kr">as</span> Hlst_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk97">destruct_equivocator_state_project s n _sn Hn; [<span class="bp">by</span> <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ieqvi ‚â† n</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>¬¨ n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpr; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk98">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  Some
    {|
      l := li;
      input := input;
      destination := destn;
      output := output
    |}
<span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ForkWith ieqvi li),
       l itemx =
       existing_equivocator_label_extract X
         (ForkWith ieqvi li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß Existing ieqvi =
            equivocator_label_descriptor
              (ForkWith ieqvi li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (ForkWith ieqvi li)
       (s, input)
     ‚Üí equivocator_transition X (ForkWith ieqvi li)
         (s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing ieqvi) s
         ‚àß <span class="kr">match</span> Existing ieqvi <span class="kr">with</span>
           | NewMachine _ =&gt;
               equivocator_state_n s
               ‚â§ equivocator_state_last destination
           | Existing id&#39; =&gt;
               id&#39;
               ‚â§ equivocator_state_last destination
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span>
               Some
                 {|
                   l := li;
                   input := input;
                   destination := destn;
                   output := output
                 |}
             <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (Existing ieqvi)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing ieqvi)
             <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk99"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">simpl</span>; <span class="kp">repeat</span> <span class="nb">split</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X (ForkWith ieqvi li) (s, input)
  ‚Üí equivocator_transition X (ForkWith ieqvi li)
      (s, input) = (destination, output)
    ‚Üí proper_descriptor X (Existing ieqvi) s
      ‚àß ieqvi ‚â§ equivocator_state_last destination
        ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
             sx =
             equivocator_state_descriptor_project s
               (Existing ieqvi)
             ‚Üí valid
                 (l
                    {|
                      l := li;
                      input := input;
                      destination := destn;
                      output := output
                    |})
                 (sx,
                  VLSM.input
                    {|
                      l := li;
                      input := input;
                      destination := destn;
                      output := output
                    |})
               ‚àß transition
                   (l
                      {|
                        l := li;
                        input := input;
                        destination := destn;
                        output := output
                      |})
                   (sx,
                    VLSM.input
                      {|
                        l := li;
                        input := input;
                        destination := destn;
                        output := output
                      |}) =
                 (VLSM.destination
                    {|
                      l := li;
                      input := input;
                      destination := destn;
                      output := output
                    |},
                  VLSM.output
                    {|
                      l := li;
                      input := input;
                      destination := destn;
                      output := output
                    |}))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9a"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (ForkWith ieqvi li)
  (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing ieqvi) s
‚àß ieqvi ‚â§ equivocator_state_last destination
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       equivocator_state_descriptor_project s
         (Existing ieqvi)
       ‚Üí valid
           (l
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |})
           (sx,
            VLSM.input
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |})
         ‚àß transition
             (l
                {|
                  l := li;
                  input := input;
                  destination := destn;
                  output := output
                |})
             (sx,
              VLSM.input
                {|
                  l := li;
                  input := input;
                  destination := destn;
                  output := output
                |}) =
           (VLSM.destination
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |},
            VLSM.output
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |}))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9b"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt; valid li (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing ieqvi) s
‚àß ieqvi ‚â§ equivocator_state_last destination
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       equivocator_state_descriptor_project s
         (Existing ieqvi)
       ‚Üí valid
           (l
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |})
           (sx,
            VLSM.input
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |})
         ‚àß transition
             (l
                {|
                  l := li;
                  input := input;
                  destination := destn;
                  output := output
                |})
             (sx,
              VLSM.input
                {|
                  l := li;
                  input := input;
                  destination := destn;
                  output := output
                |}) =
           (VLSM.destination
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |},
            VLSM.output
              {|
                l := li;
                input := input;
                destination := destn;
                output := output
              |}))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt; valid li (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s ieqvi)
‚àß ieqvi ‚â§ equivocator_state_last destination
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       default (equivocator_state_zero s)
         (equivocator_state_project s ieqvi)
       ‚Üí valid li (sx, input)
         ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9d"><span class="nb">destruct</span> (equivocator_state_project s ieqvi) <span class="kr">as</span> [sieqvi |] <span class="nb">eqn</span>: Hpri
      ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (Some sieqvi)
‚àß ieqvi ‚â§ equivocator_state_last destination
  ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
       sx =
       default (equivocator_state_zero s)
         (Some sieqvi)
       ‚Üí valid li (sx, input)
         ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9e"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ieqvi ‚â§ equivocator_state_last destination
‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
     sx =
     default (equivocator_state_zero s) (Some sieqvi)
     ‚Üí valid li (sx, input)
       ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk9f"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Hpri) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ieqvi ‚â§ equivocator_state_last destination
‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
     sx =
     default (equivocator_state_zero s) (Some sieqvi)
     ‚Üí valid li (sx, input)
       ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka0"><span class="nb">specialize</span> (equivocator_state_last_n X destination) <span class="kr">as</span> Hlst_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ieqvi ‚â§ equivocator_state_last destination
‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
     sx =
     default (equivocator_state_zero s) (Some sieqvi)
     ‚Üí valid li (sx, input)
       ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka1"><span class="nb">specialize</span> (existing_true_label_equivocator_state_project_last X Ht _ Hpri) <span class="kr">as</span> Ht_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß equivocator_state_descriptor_project
        destination
        (Existing (equivocator_state_n s)) =
      si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ieqvi ‚â§ equivocator_state_last destination
‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
     sx =
     default (equivocator_state_zero s) (Some sieqvi)
     ‚Üí valid li (sx, input)
       ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka2"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpri <span class="kr">as</span> Hlt.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß equivocator_state_descriptor_project
        destination
        (Existing (equivocator_state_n s)) =
      si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">ieqvi ‚â§ equivocator_state_last destination
‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
     sx =
     default (equivocator_state_zero s) (Some sieqvi)
     ‚Üí valid li (sx, input)
       ‚àß transition li (sx, input) = (destn, output))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka3"><span class="nb">split</span>; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß equivocator_state_descriptor_project
        destination
        (Existing (equivocator_state_n s)) =
      si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  default (equivocator_state_zero s) (Some sieqvi)
  ‚Üí valid li (sx, input)
    ‚àß transition li (sx, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka4"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
      transition li (si, input) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß default
        (equivocator_state_zero destination)
        (equivocator_state_project destination
           (equivocator_state_n s)) = si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx = sieqvi
  ‚Üí valid li (sx, input)
    ‚àß transition li (sx, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka5"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
      transition li (si, input) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß default
        (equivocator_state_zero destination)
        (equivocator_state_project destination
           (equivocator_state_n s)) = si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br><span><var>sx</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsx</var><span class="hyp-type"><b>: </b><span>sx = sieqvi</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (sx, input)
‚àß transition li (sx, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka6"><span class="nb">subst</span>  sx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
      transition li (si, input) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, input)
<span class="kr">end</span> = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß default
        (equivocator_state_zero destination)
        (equivocator_state_project destination
           (equivocator_state_n s)) = si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (sieqvi, input)
‚àß transition li (sieqvi, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka7"><span class="nb">rewrite</span> Hpri <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li (sieqvi, input) <span class="kr">in</span>
 (equivocator_state_extend s si&#39;, om&#39;)) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß default
        (equivocator_state_zero destination)
        (equivocator_state_project destination
           (equivocator_state_n s)) = si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (sieqvi, input)
‚àß transition li (sieqvi, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka8"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition li (sieqvi, input) <span class="kr">in</span>
 (equivocator_state_extend s si&#39;, om&#39;)) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition li (sieqvi, input) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß default
        (equivocator_state_zero destination)
        (equivocator_state_project destination
           (equivocator_state_n s)) = si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition li (sieqvi, input) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chka9"><span class="nb">destruct</span> (transition _ _ _).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>o</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s s0, o) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  (s0, o) = (si&#39;, _oout)
  ‚Üí _oout = output
    ‚àß default
        (equivocator_state_zero destination)
        (equivocator_state_project destination
           (equivocator_state_n s)) = si&#39;</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s0, o) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkaa"><span class="nb">specialize</span> (Ht_pr _ _ eq_refl) <span class="kr">as</span> [Heqo Heqs0].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>o</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s s0, o) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br><span><var>Heqo</var><span class="hyp-type"><b>: </b><span>o = output</span></span></span><br><span><var>Heqs0</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero destination)
  (equivocator_state_project destination
     (equivocator_state_n s)) = s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s0, o) = (destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkab"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s
   (default (equivocator_state_zero destination)
      (equivocator_state_project destination
         (equivocator_state_n s))), output) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(default (equivocator_state_zero destination)
   (equivocator_state_project destination
      (equivocator_state_n s)), output) =
(destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkac"><span class="nb">replace</span> (equivocator_state_n s) <span class="kr">with</span> (equivocator_state_last destination) <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination
  (equivocator_state_last destination) =
Some destn</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s
   (default (equivocator_state_zero destination)
      (equivocator_state_project destination
         (equivocator_state_n s))), output) =
(destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Hlt</var><span class="hyp-type"><b>: </b><span>ieqvi &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(default (equivocator_state_zero destination)
   (equivocator_state_project destination
      (equivocator_state_last destination)), output) =
(destn, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> Hpr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkad">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> None <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (ForkWith ieqvi li),
       l itemx =
       existing_equivocator_label_extract X
         (ForkWith ieqvi li) Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß default (equivocator_state_zero destination)
            (Some destn) = VLSM.destination itemx
          ‚àß Existing n =
            equivocator_label_descriptor
              (ForkWith ieqvi li)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
     equivocator_valid X (ForkWith ieqvi li)
       (s, input)
     ‚Üí equivocator_transition X (ForkWith ieqvi li)
         (s, input) = (destination, output)
       ‚Üí proper_descriptor X (Existing n) s
         ‚àß <span class="kr">match</span> Existing n <span class="kr">with</span>
           | NewMachine _ =&gt; equivocator_state_n s ‚â§ n
           | Existing id&#39; =&gt; id&#39; ‚â§ n
           <span class="kr">end</span>
           ‚àß <span class="kr">match</span> None <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s (Existing n)
                   ‚Üí valid (l itemx)
                       (sx, VLSM.input itemx)
                     ‚àß transition (l itemx)
                         (sx, VLSM.input itemx) =
                       (VLSM.destination itemx,
                        VLSM.output itemx)
             | None =&gt;
                 default
                   (equivocator_state_zero destination)
                   (Some destn) =
                 equivocator_state_descriptor_project
                   s (Existing n)
             <span class="kr">end</span>)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkae"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X (ForkWith ieqvi li) (s, input)
  ‚Üí equivocator_transition X (ForkWith ieqvi li)
      (s, input) = (destination, output)
    ‚Üí proper_descriptor X (Existing n) s
      ‚àß n ‚â§ n
        ‚àß default (equivocator_state_zero destination)
            (Some destn) =
          equivocator_state_descriptor_project s
            (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkaf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkaf"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X (ForkWith ieqvi li)
  (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb0"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s ieqvi <span class="kr">with</span>
| Some si =&gt; valid li (si, input)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb1"><span class="nb">destruct</span> (equivocator_state_project s ieqvi) <span class="kr">as</span> [sieqvi |] <span class="nb">eqn</span>: Hpri
      ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb2"><span class="nb">cut</span> (proper_descriptor X (Existing n) s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚Üí proper_descriptor X (Existing n) s
  ‚àß n ‚â§ n
    ‚àß default (equivocator_state_zero destination)
        (Some destn) =
      equivocator_state_descriptor_project s
        (Existing n)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chkb3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chkb3"><hr></label><div class="goal-conclusion">proper_descriptor X (Existing n) s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb4">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚Üí proper_descriptor X (Existing n) s
  ‚àß n ‚â§ n
    ‚àß default (equivocator_state_zero destination)
        (Some destn) =
      equivocator_state_descriptor_project s
        (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb5"><span class="nb">intro</span> Hproper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing n) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s
‚àß n ‚â§ n
  ‚àß default (equivocator_state_zero destination)
      (Some destn) =
    equivocator_state_descriptor_project s
      (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb6">split_and!; [<span class="bp">done</span> | <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing n) s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb7"><span class="nb">destruct</span> Hproper <span class="kr">as</span> [_sn Hprn].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprn</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s n = Some _sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb8"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hprn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprn</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project s (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkb9"><span class="nb">rewrite</span> &lt;-
          (existing_true_label_equivocator_state_project_not_last X Ht _ Hpri _ Hprn).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>_sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprn</var><span class="hyp-type"><b>: </b><span>n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">default (equivocator_state_zero destination)
  (Some destn) =
equivocator_state_descriptor_project destination
  (Existing n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">        </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">rewrite</span> Hpr.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkba">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor X (Existing n) s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkbb"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkbc"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Hpri) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkbd"><span class="nb">specialize</span> (equivocator_state_last_n X destination) <span class="kr">as</span> Hlst_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some (equivocator_state_project s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkbe">destruct_equivocator_state_project s n _sn Hn; [<span class="bp">by</span> <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>ieqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>destn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project destination n =
Some destn</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>n ‚â† equivocator_state_last destination</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sieqvi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpri</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s ieqvi = Some sieqvi</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid li (sieqvi, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith ieqvi li) (
  s, input) = (destination, output)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>Hlst_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_last destination)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>¬¨ n &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_Some None</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hpr; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkbf"><span class="kn">Lemma</span> <span class="nf">equivocator_transition_item_project_preserves_equivocating_indices</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">descriptor</span> : MachineDescriptor X)
  (<span class="nv">Hproper</span> : proper_descriptor X descriptor (destination item))
  <span class="nv">oitem</span> <span class="nv">idescriptor</span>
  (<span class="nv">Hproject</span> : equivocator_vlsm_transition_item_project item descriptor = Some (oitem, idescriptor))
  (<span class="nv">s</span> : state (equivocator_vlsm X))
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) (l item) (s, input item))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) (l item) (s, input item) = (destination item, output item))
  : is_equivocating_state X s \/ is_newmachine_descriptor X idescriptor -&gt;
    is_equivocating_state X (destination item) \/ is_newmachine_descriptor X descriptor.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item descriptor =
Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X (destination item)
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc0"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item descriptor =
Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X (destination item)
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc1"><span class="nb">specialize</span>
    (equivocator_transition_item_project_proper_characterization item _ Hproper)
    <span class="kr">as</span> Hchar.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item descriptor =
Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (l item) (s, input item)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (l item) (s, input item) =
(destination item, output item)</span></span></span><br><span><var>Hchar</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
  (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
  equivocator_vlsm_transition_item_project
    item descriptor =
  Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
                   (l item),
           l itemx =
           existing_equivocator_label_extract
             X (l item) Hex)
        ‚àß input item = input itemx
          ‚àß output item = output itemx
            ‚àß equivocator_state_descriptor_project
                (destination item) descriptor =
              destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor
                  (l item)
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid (l item) (s, input item)
         ‚Üí transition (l item) (s, input item) =
           (destination item, output item)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (l itemx)
                      (sx, input itemx)
                      ‚àß 
                      transition 
                      (l itemx)
                      (sx, input itemx) =
                      (
                      destination itemx,
                      output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                      (destination item)
                      descriptor =
                     equivocator_state_descriptor_project
                      s descriptor&#39;
                 <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X (destination item)
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc2"><span class="nb">destruct</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (VLSM.destination
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition
  (VLSM.l
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |})
  (s,
   VLSM.input
     {|
       l := l;
       input := input;
       destination := destination;
       output := output
     |}) =
(VLSM.destination
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |},
 VLSM.output
   {|
     l := l;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br><span><var>Hchar</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
  (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
                   (VLSM.l
                      {|
                      l := l;
                      input := input;
                      destination :=
                      destination;
                      output := output
                      |}),
           VLSM.l itemx =
           existing_equivocator_label_extract
             X
             (VLSM.l
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |}) Hex)
        ‚àß VLSM.input
            {|
              l := l;
              input := input;
              destination := destination;
              output := output
            |} = VLSM.input itemx
          ‚àß VLSM.output
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |} = VLSM.output itemx
            ‚àß equivocator_state_descriptor_project
                (VLSM.destination
                   {|
                     l := l;
                     input := input;
                     destination :=
                      destination;
                     output := output
                   |}) descriptor =
              VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor
                  (VLSM.l
                     {|
                      l := l;
                      input := input;
                      destination :=
                      destination;
                      output := output
                     |})
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid
           (VLSM.l
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |})
           (s,
            VLSM.input
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |})
         ‚Üí transition
             (VLSM.l
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |})
             (s,
              VLSM.input
                {|
                  l := l;
                  input := input;
                  destination := destination;
                  output := output
                |}) =
           (VLSM.destination
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |},
            VLSM.output
              {|
                l := l;
                input := input;
                destination := destination;
                output := output
              |})
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (VLSM.l itemx)
                      (sx, VLSM.input itemx)
                      ‚àß 
                      transition
                      (VLSM.l itemx)
                      (sx, VLSM.input itemx) =
                      (
                      VLSM.destination itemx,
                      VLSM.output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                      (VLSM.destination
                      {|
                      l := l;
                      input := input;
                      destination :=
                      destination;
                      output := output
                      |}) descriptor =
                     equivocator_state_descriptor_project
                      s descriptor&#39;
                 <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X
    (VLSM.destination
       {|
         l := l;
         input := input;
         destination := destination;
         output := output
       |}) ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc3"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
  (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
  equivocator_vlsm_transition_item_project
    {|
      l := l;
      input := input;
      destination := destination;
      output := output
    |} descriptor = Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
                   l,
           VLSM.l itemx =
           existing_equivocator_label_extract
             X l Hex)
        ‚àß input = VLSM.input itemx
          ‚àß output = VLSM.output itemx
            ‚àß equivocator_state_descriptor_project
                destination descriptor =
              VLSM.destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor l
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies
               X,
         equivocator_valid X l (s, input)
         ‚Üí equivocator_transition X l
             (s, input) =
           (destination, output)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (VLSM.l itemx)
                      (sx, VLSM.input itemx)
                      ‚àß 
                      transition
                      (VLSM.l itemx)
                      (sx, VLSM.input itemx) =
                      (
                      VLSM.destination itemx,
                      VLSM.output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                      destination descriptor =
                     equivocator_state_descriptor_project
                      s descriptor&#39;
                 <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc4"><span class="nb">destruct</span> Hchar <span class="kr">as</span> [_oitemx [_deqv&#39; [_Hpr [Hchar1 Hchar2]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>_oitemx</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>_deqv'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>_Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (_oitemx, _deqv&#39;)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> _oitemx <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß _deqv&#39; =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X l (s, input)
  ‚Üí equivocator_transition X l (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X _deqv&#39; s
      ‚àß previous_state_descriptor_prop
          descriptor s _deqv&#39;
        ‚àß <span class="kr">match</span> _oitemx <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s _deqv&#39;
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, VLSM.input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, VLSM.input itemx) =
                    (VLSM.destination itemx,
                     VLSM.output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                destination descriptor =
              equivocator_state_descriptor_project
                s _deqv&#39;
          <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc5"><span class="nb">rewrite</span> Hproject <span class="kr">in</span> _Hpr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>_oitemx</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>_deqv'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>_Hpr</var><span class="hyp-type"><b>: </b><span>Some (oitem, idescriptor) =
Some (_oitemx, _deqv&#39;)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> _oitemx <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß _deqv&#39; =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X l (s, input)
  ‚Üí equivocator_transition X l (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X _deqv&#39; s
      ‚àß previous_state_descriptor_prop
          descriptor s _deqv&#39;
        ‚àß <span class="kr">match</span> _oitemx <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s _deqv&#39;
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, VLSM.input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, VLSM.input itemx) =
                    (VLSM.destination itemx,
                     VLSM.output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                destination descriptor =
              equivocator_state_descriptor_project
                s _deqv&#39;
          <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc6"><span class="nb">inversion</span> _Hpr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>_oitemx</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>_deqv'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>_Hpr</var><span class="hyp-type"><b>: </b><span>Some (oitem, idescriptor) =
Some (_oitemx, _deqv&#39;)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> _oitemx <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß _deqv&#39; =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X l (s, input)
  ‚Üí equivocator_transition X l (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X _deqv&#39; s
      ‚àß previous_state_descriptor_prop
          descriptor s _deqv&#39;
        ‚àß <span class="kr">match</span> _oitemx <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s _deqv&#39;
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, VLSM.input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, VLSM.input itemx) =
                    (VLSM.destination itemx,
                     VLSM.output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                destination descriptor =
              equivocator_state_descriptor_project
                s _deqv&#39;
          <span class="kr">end</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>oitem = _oitemx</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>idescriptor = _deqv&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X _deqv&#39;
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc7"><span class="nb">subst</span> _oitemx _deqv&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>_Hpr</var><span class="hyp-type"><b>: </b><span>Some (oitem, idescriptor) =
Some (oitem, idescriptor)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß idescriptor =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X l (s, input)
  ‚Üí equivocator_transition X l (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X idescriptor s
      ‚àß previous_state_descriptor_prop
          descriptor s idescriptor
        ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s idescriptor
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, VLSM.input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, VLSM.input itemx) =
                    (VLSM.destination itemx,
                     VLSM.output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                destination descriptor =
              equivocator_state_descriptor_project
                s idescriptor
          <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc8"><span class="nb">clear</span> _Hpr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß idescriptor =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : Equivocators.bounded_state_copies X,
  equivocator_valid X l (s, input)
  ‚Üí equivocator_transition X l (s, input) =
    (destination, output)
    ‚Üí proper_descriptor X idescriptor s
      ‚àß previous_state_descriptor_prop
          descriptor s idescriptor
        ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s idescriptor
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, VLSM.input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, VLSM.input itemx) =
                    (VLSM.destination itemx,
                     VLSM.output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                destination descriptor =
              equivocator_state_descriptor_project
                s idescriptor
          <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkc9"><span class="nb">specialize</span> (Hchar2 _ Hv Ht).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß idescriptor =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s
‚àß previous_state_descriptor_prop descriptor s
    idescriptor
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
          sx =
          equivocator_state_descriptor_project
            s idescriptor
          ‚Üí valid (VLSM.l itemx)
              (sx, VLSM.input itemx)
            ‚àß transition 
                (VLSM.l itemx)
                (sx, VLSM.input itemx) =
              (VLSM.destination itemx,
               VLSM.output itemx)
    | None =&gt;
        equivocator_state_descriptor_project
          destination descriptor =
        equivocator_state_descriptor_project
          s idescriptor
    <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkca"><span class="nb">destruct</span> Hchar2 <span class="kr">as</span> [Hdeqv&#39; Hchar2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (oitem, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
       VLSM.l itemx =
       existing_equivocator_label_extract X l
         Hex)
    ‚àß input = VLSM.input itemx
      ‚àß output = VLSM.output itemx
        ‚àß equivocator_state_descriptor_project
            destination descriptor =
          VLSM.destination itemx
          ‚àß idescriptor =
            equivocator_label_descriptor l
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
  | Some itemx =&gt;
      <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
        sx =
        equivocator_state_descriptor_project
          s idescriptor
        ‚Üí valid (VLSM.l itemx)
            (sx, VLSM.input itemx)
          ‚àß transition 
              (VLSM.l itemx)
              (sx, VLSM.input itemx) =
            (VLSM.destination itemx,
             VLSM.output itemx)
  | None =&gt;
      equivocator_state_descriptor_project
        destination descriptor =
      equivocator_state_descriptor_project s
        idescriptor
  <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkcb"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | j l | j l]
  ; [<span class="nb">left</span>; <span class="nb">inversion_clear</span> Ht;  <span class="nb">cbv</span>; <span class="bp">lia</span> | ..]
  ; (<span class="nb">destruct</span> oitem <span class="kr">as</span> [itemx |]
    ; [<span class="nb">intros</span> Heqv; <span class="nb">left</span>; <span class="nb">destruct</span> itemx; <span class="nb">destruct</span> Hchar1
        <span class="kr">as</span> [[? Hl] [Hinput [Houtput [Hdest Heq_deqv&#39;]]]]
      ; <span class="nb">subst</span>; <span class="nb">apply</span> (equivocator_transition_preserves_equivocating_state X _ _ _ _ _ Ht)
      ; <span class="nb">destruct</span> Heqv <span class="kr">as</span> [Heqv | Heqv]; <span class="bp">done</span>
      |])
  ; <span class="nb">cbn</span> <span class="kr">in</span> Hv
  ; (<span class="nb">destruct</span> (equivocator_state_project s j) <span class="kr">as</span> [sj |] <span class="nb">eqn</span>: Hsj; [| <span class="bp">done</span>]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ContinueWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chkcc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ForkWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chkcc"><hr></label><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkcd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ContinueWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkce"><span class="nb">specialize</span> (existing_false_label_equivocator_transition_size X Ht _ Hsj) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ContinueWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkcf"><span class="nb">intros</span> [Heqv | Heqv]; [<span class="nb">clear</span> -Ht_size Heqv; <span class="nb">cbv</span> <span class="kr">in</span> *; <span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ContinueWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X destination
‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd0"><span class="nb">right</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ContinueWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd1"><span class="nb">unfold</span> equivocator_vlsm_transition_item_project <span class="kr">in</span> Hproject.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> descriptor <span class="kr">with</span>
| NewMachine _ =&gt; Some (None, descriptor)
| Existing j0 =&gt;
    <span class="kr">match</span>
      equivocator_state_project destination
        j0
    <span class="kr">with</span>
    | Some sj =&gt;
        <span class="kr">if</span> decide (j = j0)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := l;
                input := input;
                destination := sj;
                output := output
              |}, Existing j)
        <span class="kr">else</span> Some (None, Existing j0)
    | None =&gt; None
    <span class="kr">end</span>
<span class="kr">end</span> = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd2"><span class="nb">destruct</span> descriptor <span class="kr">as</span> [| deqvi]; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>deqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing deqvi)
  destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination
    deqvi
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">if</span> decide (j = deqvi)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := l;
            input := input;
            destination := sj;
            output := output
          |}, Existing j)
    <span class="kr">else</span> Some (None, Existing deqvi)
| None =&gt; None
<span class="kr">end</span> = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing deqvi) s idescriptor
‚àß equivocator_state_descriptor_project
    destination (Existing deqvi) =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_newmachine_descriptor X (Existing deqvi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd3"><span class="nb">destruct</span> (equivocator_state_project destination deqvi); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>deqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing deqvi)
  destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>(<span class="kr">if</span> decide (j = deqvi)
 <span class="kr">then</span>
  Some
    (Some
       {|
         l := l;
         input := input;
         destination := s0;
         output := output
       |}, Existing j)
 <span class="kr">else</span> Some (None, Existing deqvi)) =
Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing deqvi) s idescriptor
‚àß equivocator_state_descriptor_project
    destination (Existing deqvi) =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_newmachine_descriptor X (Existing deqvi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd4">case_decide; [<span class="bp">by</span> <span class="bp">congruence</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>deqvi</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing deqvi)
  destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>j ‚â† deqvi</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>Some (None, Existing deqvi) =
Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ContinueWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing deqvi) s idescriptor
‚àß equivocator_state_descriptor_project
    destination (Existing deqvi) =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
equivocator_state_n s</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_newmachine_descriptor X (Existing deqvi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> Hproject; <span class="nb">subst</span>; <span class="nb">inversion</span> Heqv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ForkWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd6"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Hsj) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ForkWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor
‚Üí is_equivocating_state X destination
  ‚à® is_newmachine_descriptor X descriptor</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd7"><span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ForkWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state X destination</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd8"><span class="nb">unfold</span> is_equivocating_state, is_singleton_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ForkWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n destination ‚â† <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkd9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkd9"><span class="nb">rewrite</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>descriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor destination</span></span></span><br><span><var>idescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := ForkWith j l;
    input := input;
    destination := destination;
    output := output
  |} descriptor = Some (None, idescriptor)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>sj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some sj</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (sj, input)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X 
  (ForkWith j l) (s, input) =
(destination, output)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hdeqv'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X idescriptor s</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop descriptor s
  idescriptor
‚àß equivocator_state_descriptor_project
    destination descriptor =
  equivocator_state_descriptor_project s
    idescriptor</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n destination =
S (equivocator_state_n s)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>is_equivocating_state X s
‚à® is_newmachine_descriptor X idescriptor</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">S (equivocator_state_n s) ‚â† <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbv</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkda" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkda"><span class="kn">Lemma</span> <span class="nf">equivocator_transition_item_project_inv_characterization</span>
  (<span class="nv">item</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">itemx</span> : transition_item X)
  (<span class="nv">descriptor</span> <span class="nv">descriptor&#39;</span> : MachineDescriptor X)
  (<span class="nv">Hitem</span> : equivocator_vlsm_transition_item_project item descriptor = Some (Some itemx, descriptor&#39;))
  : (<span class="kr">exists</span> (<span class="nv">Hex</span> : existing_equivocator_label _ (l item)), l itemx =
      existing_equivocator_label_extract _ (l item) Hex) /\
    input item = input itemx /\ output item = output itemx /\
    (equivocator_state_descriptor_project (destination item) descriptor = destination itemx)
    /\ descriptor&#39; = equivocator_label_descriptor (l item)
    .</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkdb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkdb"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkdc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkdc"><span class="nb">apply</span> equivocator_transition_item_project_inv_messages <span class="kr">in</span> Hitem <span class="kr">as</span> Hitem&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>Hitem'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  descriptor = Existing i
  ‚àß proper_descriptor X descriptor
      (destination item)
    ‚àß input item = input itemx
      ‚àß output item = output itemx</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkdd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkdd"><span class="nb">destruct</span> Hitem&#39; <span class="kr">as</span> [_ [_ [Hproper _]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor
  (destination item)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkde" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkde"><span class="nb">apply</span> equivocator_transition_item_project_proper_characterization <span class="kr">in</span> Hproper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
  (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
  equivocator_vlsm_transition_item_project
    item descriptor =
  Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label
                   X (l item),
           l itemx =
           existing_equivocator_label_extract
             X (l item) Hex)
        ‚àß input item = input itemx
          ‚àß output item = output itemx
            ‚àß equivocator_state_descriptor_project
                (destination item)
                descriptor =
              destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor
                  (l item)
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid (l item) (s, input item)
         ‚Üí transition (l item)
             (s, input item) =
           (destination item, output item)
           ‚Üí proper_descriptor X descriptor&#39;
               s
             ‚àß previous_state_descriptor_prop
                 descriptor s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (l itemx)
                      (sx, input itemx)
                      ‚àß 
                      transition 
                      (l itemx)
                      (sx, input itemx) =
                      (
                      destination itemx,
                      output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                      (destination item)
                      descriptor =
                     equivocator_state_descriptor_project
                      s descriptor&#39;
                 <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkdf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkdf"><span class="nb">destruct</span> Hproper <span class="kr">as</span> [oitem [odescriptor [Hpr&#39; H]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (oitem, odescriptor)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
       l itemx =
       existing_equivocator_label_extract X
         (l item) Hex)
    ‚àß input item = input itemx
      ‚àß output item = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination item) descriptor =
          destination itemx
          ‚àß odescriptor =
            equivocator_label_descriptor (l item)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
     valid (l item) (s, input item)
     ‚Üí transition (l item) (s, input item) =
       (destination item, output item)
       ‚Üí proper_descriptor X odescriptor s
         ‚àß previous_state_descriptor_prop
             descriptor s odescriptor
           ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s odescriptor
                   ‚Üí valid 
                      (l itemx) (
                      sx, input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, input itemx) =
                     (destination itemx,
                      output itemx)
             | None =&gt;
                 equivocator_state_descriptor_project
                   (destination item) descriptor =
                 equivocator_state_descriptor_project
                   s odescriptor
             <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke0"><span class="nb">rewrite</span> Hpr&#39; <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (oitem, odescriptor) =
Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (oitem, odescriptor)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
       l itemx =
       existing_equivocator_label_extract X
         (l item) Hex)
    ‚àß input item = input itemx
      ‚àß output item = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination item) descriptor =
          destination itemx
          ‚àß odescriptor =
            equivocator_label_descriptor (l item)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
     valid (l item) (s, input item)
     ‚Üí transition (l item) (s, input item) =
       (destination item, output item)
       ‚Üí proper_descriptor X odescriptor s
         ‚àß previous_state_descriptor_prop
             descriptor s odescriptor
           ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s odescriptor
                   ‚Üí valid 
                      (l itemx) (
                      sx, input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, input itemx) =
                     (destination itemx,
                      output itemx)
             | None =&gt;
                 equivocator_state_descriptor_project
                   (destination item) descriptor =
                 equivocator_state_descriptor_project
                   s odescriptor
             <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke1"><span class="nb">inversion</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>odescriptor</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (oitem, odescriptor) =
Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (oitem, odescriptor)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
       l itemx =
       existing_equivocator_label_extract X
         (l item) Hex)
    ‚àß input item = input itemx
      ‚àß output item = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination item) descriptor =
          destination itemx
          ‚àß odescriptor =
            equivocator_label_descriptor (l item)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span>
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
     valid (l item) (s, input item)
     ‚Üí transition (l item) (s, input item) =
       (destination item, output item)
       ‚Üí proper_descriptor X odescriptor s
         ‚àß previous_state_descriptor_prop
             descriptor s odescriptor
           ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
             | Some itemx =&gt;
                 <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                   sx =
                   equivocator_state_descriptor_project
                     s odescriptor
                   ‚Üí valid 
                      (l itemx) (
                      sx, input itemx)
                     ‚àß 
                     transition 
                      (l itemx) (
                      sx, input itemx) =
                     (destination itemx,
                      output itemx)
             | None =&gt;
                 equivocator_state_descriptor_project
                   (destination item) descriptor =
                 equivocator_state_descriptor_project
                   s odescriptor
             <span class="kr">end</span>)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>oitem = Some itemx</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>odescriptor = descriptor&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke2"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>item, itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor, descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (Some itemx, descriptor&#39;) =
Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>Hpr'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  descriptor = Some (Some itemx, descriptor&#39;)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>((<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
    l itemx =
    existing_equivocator_label_extract X 
      (l item) Hex)
 ‚àß input item = input itemx
   ‚àß output item = output itemx
     ‚àß equivocator_state_descriptor_project
         (destination item) descriptor =
       destination itemx
       ‚àß descriptor&#39; =
         equivocator_label_descriptor (l item))
‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
     valid (l item) (s, input item)
     ‚Üí transition (l item) (s, input item) =
       (destination item, output item)
       ‚Üí proper_descriptor X descriptor&#39; s
         ‚àß previous_state_descriptor_prop
             descriptor s descriptor&#39;
           ‚àß (<span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s descriptor&#39;
                ‚Üí valid 
                    (l itemx) (
                    sx, input itemx)
                  ‚àß transition 
                      (l itemx) (
                      sx, input itemx) =
                    (destination itemx,
                     output itemx)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X (l item),
   l itemx =
   existing_equivocator_label_extract X (l item) Hex)
‚àß input item = input itemx
  ‚àß output item = output itemx
    ‚àß equivocator_state_descriptor_project
        (destination item) descriptor =
      destination itemx
      ‚àß descriptor&#39; =
        equivocator_label_descriptor (l item)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The projection of an <span class="inlinecode"><span class="id" title="var">equivocator_vlsm</span></span> trace is obtained by traversing the
  trace from right to left guided by the descriptors produced by
  <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_transition_item_project</span></span> and gathering all non-empty
  <span class="inlinecode"><span class="id" title="var">transition_item</span></span>s it produces.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocator_vlsm_trace_project</span>
  (<span class="nv">tr</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">descriptor</span> : MachineDescriptor X)
  : option (list (transition_item X) * MachineDescriptor X)
  :=
  fold_right
    (<span class="kr">fun</span> <span class="nv">item</span> <span class="nv">result</span> =&gt;
      <span class="kr">match</span> result <span class="kr">with</span>
      | None =&gt; None
      | Some (r, idescriptor) =&gt;
        <span class="kr">match</span> equivocator_vlsm_transition_item_project item idescriptor <span class="kr">with</span>
        | None =&gt; None
        | Some (None, odescriptor) =&gt; Some (r, odescriptor)
        | Some (Some item&#39;, odescriptor) =&gt; Some (item&#39; :: r, odescriptor)
        <span class="kr">end</span>
      <span class="kr">end</span>)
    (Some ([], descriptor))
    tr.</span></span></pre><div class="doc">
  Projecting on a <span class="inlinecode"><span class="id" title="var">NewMachine</span></span> descriptor yields an empty trace and the same
  descriptor.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke3"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_trace_project_on_new_machine</span>
  (<span class="nv">tr</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">s</span> : state X)
  : equivocator_vlsm_trace_project tr (NewMachine s) = Some ([], NewMachine s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project tr (NewMachine s) =
Some ([], NewMachine s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke4"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project tr (NewMachine s) =
Some ([], NewMachine s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">induction</span> tr; <span class="nb">simpl</span>; <span class="nb">rewrite</span> <span class="nl">?IHtr</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">equivocator_vlsm_trace_project</span></span> acts like a morphism w.r.t. concatenation
  (single element in left operand case).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke5"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_trace_project_cons</span>
  (<span class="nv">bprefix</span> : transition_item (equivocator_vlsm X))
  (<span class="nv">bsuffix</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">dstart</span> <span class="nv">dlast</span> : MachineDescriptor X)
  (<span class="nv">tr</span> : list (transition_item X))
  (<span class="nv">Hproject</span> : equivocator_vlsm_trace_project ([bprefix] ++ bsuffix) dlast = Some (tr, dstart))
  : <span class="kr">exists</span>
    (<span class="nv">dmiddle</span> : MachineDescriptor X)
    (<span class="nv">prefix</span> <span class="nv">suffix</span> : list (transition_item X))
    (<span class="nv">Hprefix</span> : equivocator_vlsm_trace_project [bprefix] dmiddle = Some (prefix, dstart))
    (<span class="nv">Hsuffix</span> : equivocator_vlsm_trace_project bsuffix dlast = Some (suffix, dmiddle)),
    tr = prefix ++ suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  ([bprefix] ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [bprefix]
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke6"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  ([bprefix] ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [bprefix]
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke7"><span class="nb">simpl</span> <span class="kr">in</span> Hproject.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_trace_project bsuffix
    dlast
<span class="kr">with</span>
| Some (r, idescriptor) =&gt;
    <span class="kr">match</span>
      equivocator_vlsm_transition_item_project
        bprefix idescriptor
    <span class="kr">with</span>
    | Some (Some item&#39;, odescriptor) =&gt;
        Some (item&#39; :: r, odescriptor)
    | Some (None, odescriptor) =&gt;
        Some (r, odescriptor)
    | None =&gt; None
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [bprefix]
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke8"><span class="nb">destruct</span> (equivocator_vlsm_trace_project bsuffix dlast) <span class="kr">as</span> [(suffix, dmiddle) |]
    <span class="nb">eqn</span>: Hsuffix
  ; [| <span class="bp">by</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr, suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project
    bprefix dmiddle
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: suffix, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (suffix, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle0</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                    <span class="nv">suffix0</span> : list
                                                transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [bprefix]
         dmiddle0 = Some (prefix, dstart)) (<span class="nv">_</span> : Some
                                                 (suffix,
                                                 dmiddle) =
                                                Some
                                                 (suffix0,
                                                 dmiddle0)),
  tr = prefix ++ suffix0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chke9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chke9"><span class="kr">exists</span> <span class="nv">dmiddle</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr, suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project
    bprefix dmiddle
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: suffix, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (suffix, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> <span class="nv">suffix0</span> : list transition_item) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 [bprefix]
                                                 dmiddle =
                                               Some
                                                 (
                                                 prefix,
                                                 dstart)) 
  (<span class="nv">_</span> : Some (suffix, dmiddle) =
       Some (suffix0, dmiddle)),
  tr = prefix ++ suffix0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkea" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkea"><span class="nb">destruct</span> (equivocator_vlsm_transition_item_project bprefix dmiddle) <span class="kr">as</span> [[[prefix |] i] |]
    <span class="nb">eqn</span>: Hprefix
  ; <span class="nb">inversion</span> Hproject; <span class="nb">subst</span>; <span class="nb">clear</span> Hproject.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  bprefix dmiddle =
Some (Some prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix0</span> <span class="nv">suffix0</span> : list transition_item) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 [bprefix]
                                                 dmiddle =
                                                Some
                                                 (prefix0,
                                                 dstart)) 
  (<span class="nv">_</span> : Some (suffix, dmiddle) =
       Some (suffix0, dmiddle)),
  prefix :: suffix = prefix0 ++ suffix0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chkeb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (tr, dmiddle)</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  bprefix dmiddle = Some (None, dstart)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chkeb"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> <span class="nv">suffix</span> : list transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [bprefix]
         dmiddle = Some (prefix, dstart)) 
  (<span class="nv">_</span> : Some (tr, dmiddle) = Some (suffix, dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkec" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  bprefix dmiddle =
Some (Some prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix0</span> <span class="nv">suffix0</span> : list transition_item) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 [bprefix]
                                                 dmiddle =
                                                Some
                                                 (prefix0,
                                                 dstart)) 
  (<span class="nv">_</span> : Some (suffix, dmiddle) =
       Some (suffix0, dmiddle)),
  prefix :: suffix = prefix0 ++ suffix0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> [prefix], suffix; <span class="nb">cbn</span>; <span class="nb">rewrite</span> Hprefix.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chked" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chked">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (tr, dmiddle)</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  bprefix dmiddle = Some (None, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> <span class="nv">suffix</span> : list transition_item) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                [bprefix]
                                                dmiddle =
                                              Some
                                                (prefix,
                                                 dstart)) 
  (<span class="nv">_</span> : Some (tr, dmiddle) = Some (suffix, dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> []; <span class="kr">exists</span> <span class="nv">tr</span>; <span class="nb">cbn</span>; <span class="nb">rewrite</span> Hprefix.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">equivocator_vlsm_trace_project</span></span> acts like a morphism w.r.t. concatenation. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkee" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkee"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_trace_project_app</span>
  (<span class="nv">bprefix</span> <span class="nv">bsuffix</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">dlast</span> <span class="nv">dstart</span> : MachineDescriptor X)
  (<span class="nv">tr</span> : list (transition_item X))
  (<span class="nv">Hproject</span> : equivocator_vlsm_trace_project (bprefix ++ bsuffix) dlast = Some (tr, dstart))
  : <span class="kr">exists</span>
    (<span class="nv">dmiddle</span> : MachineDescriptor X)
    (<span class="nv">prefix</span> <span class="nv">suffix</span> : list (transition_item X))
    (<span class="nv">Hprefix</span> : equivocator_vlsm_trace_project bprefix dmiddle = Some (prefix, dstart))
    (<span class="nv">Hsuffix</span> : equivocator_vlsm_trace_project bsuffix dlast = Some (suffix, dmiddle)),
    tr = prefix ++ suffix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project bprefix dmiddle =
       Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                     bsuffix dlast =
                                   Some
                                     (suffix, dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkef" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkef"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project bprefix dmiddle =
       Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                     bsuffix dlast =
                                   Some
                                     (suffix, dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf0"><span class="nb">generalize dependent</span> dstart.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">dstart</span> : MachineDescriptor X,
  equivocator_vlsm_trace_project (bprefix ++ bsuffix)
    dlast = Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                       <span class="nv">suffix</span> : list
                                                 transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project bprefix
             dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : 
                                               equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
      tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf1"><span class="nb">generalize dependent</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">dstart</span> : MachineDescriptor
                                          X),
  equivocator_vlsm_trace_project (bprefix ++ bsuffix)
    dlast = Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                       <span class="nv">suffix</span> : list
                                                 transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project bprefix
             dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : 
                                               equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
      tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf2"><span class="nb">induction</span> bprefix; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  ([] ++ bsuffix) dlast = 
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [] dmiddle =
       Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                     bsuffix dlast =
                                   Some
                                     (suffix, dmiddle)),
  tr = prefix ++ suffix</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chkf3" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project
    (bprefix ++ bsuffix) dlast =
  Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
      (<span class="nv">prefix</span>
       <span class="nv">suffix</span> : list transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bprefix dmiddle =
           Some (prefix, dstart)) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bsuffix dlast =
           Some (suffix, dmiddle)),
      tr = prefix ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chkf3"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
  (<span class="nv">prefix</span> <span class="nv">suffix</span> : list transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project 
         (a :: bprefix) dmiddle =
       Some (prefix, dstart)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project bsuffix dlast =
       Some (suffix, dmiddle)), 
  tr = prefix ++ suffix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf4">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  ([] ++ bsuffix) dlast = 
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [] dmiddle =
       Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                     bsuffix dlast =
                                   Some
                                     (suffix, dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">dstart</span>, [], tr, eq_refl, Hproject.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf5">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project
    (bprefix ++ bsuffix) dlast =
  Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
      (<span class="nv">prefix</span>
       <span class="nv">suffix</span> : list transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bprefix dmiddle =
           Some (prefix, dstart)) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bsuffix dlast =
           Some (suffix, dmiddle)),
      tr = prefix ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf6"><span class="nb">rewrite</span> &lt;- app_comm_cons <span class="kr">in</span> Hproject.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project
    (bprefix ++ bsuffix) dlast =
  Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
      (<span class="nv">prefix</span>
       <span class="nv">suffix</span> : list transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bprefix dmiddle =
           Some (prefix, dstart)) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bsuffix dlast =
           Some (suffix, dmiddle)),
      tr = prefix ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (a :: bprefix ++ bsuffix) dlast =
Some (tr, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf7"><span class="nb">apply</span> equivocator_vlsm_trace_project_cons <span class="kr">in</span> Hproject.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project
    (bprefix ++ bsuffix) dlast =
  Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
      (<span class="nv">prefix</span>
       <span class="nv">suffix</span> : list transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bprefix dmiddle =
           Some (prefix, dstart)) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bsuffix dlast =
           Some (suffix, dmiddle)),
      tr = prefix ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
  (<span class="nv">prefix</span> <span class="nv">suffix</span> : list transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [a]
         dmiddle = Some (prefix, dstart)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project
         (bprefix ++ bsuffix) dlast =
       Some (suffix, dmiddle)),
  tr = prefix ++ suffix</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf8"><span class="nb">destruct</span> Hproject <span class="kr">as</span> [da [prefixa [tr&#39; [Ha [Hproject Heq]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project
    (bprefix ++ bsuffix) dlast =
  Some (tr, dstart)
  ‚Üí <span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
      (<span class="nv">prefix</span>
       <span class="nv">suffix</span> : list transition_item) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bprefix dmiddle =
           Some (prefix, dstart)) 
      (<span class="nv">_</span> : equivocator_vlsm_trace_project
             bsuffix dlast =
           Some (suffix, dmiddle)),
      tr = prefix ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa, tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkf9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkf9"><span class="nb">specialize</span> (IHbprefix tr&#39; da Hproject).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
  (<span class="nv">prefix</span> <span class="nv">suffix</span> : list transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project
         bprefix dmiddle =
       Some (prefix, da)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project
         bsuffix dlast =
       Some (suffix, dmiddle)),
  tr&#39; = prefix ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkfa" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkfa"><span class="nb">destruct</span> IHbprefix <span class="kr">as</span> [dmiddle [prefix&#39; [suffix [Hprefix [Hsuffix Htr&#39;]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) (<span class="nv">prefix</span>
                                   <span class="nv">suffix</span> : list
                                              transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefix, dstart)) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                 bsuffix
                                                 dlast =
                                               Some
                                                 (
                                                 suffix,
                                                 dmiddle)),
  tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkfb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkfb"><span class="kr">exists</span> <span class="nv">dmiddle</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">prefix</span> <span class="nv">suffix</span> : list transition_item) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                                (a
                                                 :: bprefix)
                                                dmiddle =
                                              Some
                                                (prefix,
                                                 dstart)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project bsuffix dlast =
       Some (suffix, dmiddle)), tr = prefix ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkfc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkfc"><span class="kr">exists</span> (<span class="nv">prefixa</span> ++ prefix&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">suffix</span> : list transition_item) (<span class="nv">_</span> : equivocator_vlsm_trace_project
                                         (a :: bprefix)
                                         dmiddle =
                                       Some
                                         (prefixa ++
                                          prefix&#39;,
                                          dstart)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project bsuffix dlast =
       Some (suffix, dmiddle)),
  tr = (prefixa ++ prefix&#39;) ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkfd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkfd"><span class="kr">exists</span> <span class="nv">suffix</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">_</span> : equivocator_vlsm_trace_project (a :: bprefix)
         dmiddle = Some (prefixa ++ prefix&#39;, dstart)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project bsuffix dlast =
       Some (suffix, dmiddle)),
  tr = (prefixa ++ prefix&#39;) ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chkfe" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chkfe"><span class="kp">repeat</span> <span class="nb">split</span>; [| <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project (a :: bprefix) dmiddle =
Some (prefixa ++ prefix&#39;, dstart)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chkff" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chkff"><hr></label><div class="goal-conclusion">tr = (prefixa ++ prefix&#39;) ++ suffix</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk100" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk100">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project (a :: bprefix) dmiddle =
Some (prefixa ++ prefix&#39;, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk101" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk101"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  equivocator_vlsm_trace_project bprefix dmiddle
<span class="kr">with</span>
| Some (r, idescriptor) =&gt;
    <span class="kr">match</span>
      equivocator_vlsm_transition_item_project a
        idescriptor
    <span class="kr">with</span>
    | Some (Some item&#39;, odescriptor) =&gt;
        Some (item&#39; :: r, odescriptor)
    | Some (None, odescriptor) =&gt;
        Some (r, odescriptor)
    | None =&gt; None
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (prefixa ++ prefix&#39;, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk102" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk102"><span class="nb">rewrite</span> Hprefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a da
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: prefix&#39;, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (prefix&#39;, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefixa ++ prefix&#39;, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk103" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk103"><span class="nb">simpl</span> <span class="kr">in</span> Ha.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a da
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some ([item&#39;], odescriptor)
| Some (None, odescriptor) =&gt;
    Some ([], odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a da
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: prefix&#39;, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (prefix&#39;, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefixa ++ prefix&#39;, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk104" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk104"><span class="nb">destruct</span> (equivocator_vlsm_transition_item_project a da)
        <span class="kr">as</span> [(oitem&#39;, i) |]
      ; [| <span class="bp">by</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>oitem'</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem&#39; <span class="kr">with</span>
| Some item&#39; =&gt; Some ([item&#39;], i)
| None =&gt; Some ([], i)
<span class="kr">end</span> = Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> oitem&#39; <span class="kr">with</span>
| Some item&#39; =&gt; Some (item&#39; :: prefix&#39;, i)
| None =&gt; Some (prefix&#39;, i)
<span class="kr">end</span> = Some (prefixa ++ prefix&#39;, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> oitem&#39; <span class="kr">as</span> [item&#39; |]; <span class="nb">inversion</span> Ha; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk105" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk105">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, da</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>tr'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix', suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, da)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>Htr'</var><span class="hyp-type"><b>: </b><span>tr&#39; = prefix&#39; ++ suffix</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefixa</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Ha</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [a] da =
Some (prefixa, dstart)</span></span></span><br><span><var>Hproject</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (tr&#39;, da)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = prefixa ++ tr&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">tr = (prefixa ++ prefix&#39;) ++ suffix</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span>; <span class="nb">rewrite</span> app_assoc.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<span class="inlinecode"><span class="id" title="var">equivocator_vlsm_trace_project</span></span> acts like a morphism w.r.t. concatenation
  (converse).

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk106" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk106"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_trace_project_app_inv</span>
  (<span class="nv">bprefix</span> <span class="nv">bsuffix</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">dlast</span> <span class="nv">dstart</span> <span class="nv">dmiddle</span> : MachineDescriptor X)
  (<span class="nv">prefix</span> <span class="nv">suffix</span> : list (transition_item X))
  (<span class="nv">Hprefix</span> : equivocator_vlsm_trace_project bprefix dmiddle = Some (prefix, dstart))
  (<span class="nv">Hsuffix</span> : equivocator_vlsm_trace_project bsuffix dlast = Some (suffix, dmiddle))
  : equivocator_vlsm_trace_project (bprefix ++ bsuffix) dlast = Some (prefix ++ suffix, dstart).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dstart, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix, dstart)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project (bprefix ++ bsuffix)
  dlast = Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk107" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk107"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dstart, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix, dstart)</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project (bprefix ++ bsuffix)
  dlast = Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk108" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk108"><span class="nb">generalize dependent</span> dstart.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>prefix, suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">dstart</span> : MachineDescriptor X,
  equivocator_vlsm_trace_project bprefix dmiddle =
  Some (prefix, dstart)
  ‚Üí equivocator_vlsm_trace_project
      (bprefix ++ bsuffix) dlast =
    Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk109" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk109"><span class="nb">generalize dependent</span> prefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">prefix</span> : list transition_item) (<span class="nv">dstart</span> : MachineDescriptor
                                              X),
  equivocator_vlsm_trace_project bprefix dmiddle =
  Some (prefix, dstart)
  ‚Üí equivocator_vlsm_trace_project
      (bprefix ++ bsuffix) dlast =
    Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk10a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk10a"><span class="nb">induction</span> bprefix; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [] dmiddle =
Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project ([] ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk10b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">prefix</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project bprefix
    dmiddle = Some (prefix, dstart)
  ‚Üí equivocator_vlsm_trace_project
      (bprefix ++ bsuffix) dlast =
    Some (prefix ++ suffix, dstart)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (a :: bprefix) dmiddle =
Some (prefix, dstart)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk10b"><hr></label><div class="goal-conclusion">equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk10c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk10c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [] dmiddle =
Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project ([] ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> Hprefix; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk10d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk10d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">prefix</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project bprefix
    dmiddle = Some (prefix, dstart)
  ‚Üí equivocator_vlsm_trace_project
      (bprefix ++ bsuffix) dlast =
    Some (prefix ++ suffix, dstart)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (a :: bprefix) dmiddle =
Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk10e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk10e"><span class="nb">simpl</span> <span class="kr">in</span> Hprefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">prefix</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project bprefix
    dmiddle = Some (prefix, dstart)
  ‚Üí equivocator_vlsm_trace_project
      (bprefix ++ bsuffix) dlast =
    Some (prefix ++ suffix, dstart)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_trace_project bprefix
    dmiddle
<span class="kr">with</span>
| Some (r, idescriptor) =&gt;
    <span class="kr">match</span>
      equivocator_vlsm_transition_item_project
        a idescriptor
    <span class="kr">with</span>
    | Some (Some item&#39;, odescriptor) =&gt;
        Some (item&#39; :: r, odescriptor)
    | Some (None, odescriptor) =&gt;
        Some (r, odescriptor)
    | None =&gt; None
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk10f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk10f"><span class="nb">destruct</span> (equivocator_vlsm_trace_project bprefix dmiddle) <span class="kr">as</span> [(prefix&#39;, dstart&#39;) |]
      <span class="nb">eqn</span>: Hprefix&#39;
    ; [| <span class="bp">by</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, dstart&#39;)</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">prefix</span> : list transition_item) 
  (<span class="nv">dstart</span> : MachineDescriptor X),
  Some (prefix&#39;, dstart&#39;) =
  Some (prefix, dstart)
  ‚Üí equivocator_vlsm_trace_project
      (bprefix ++ bsuffix) dlast =
    Some (prefix ++ suffix, dstart)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a
    dstart&#39;
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: prefix&#39;, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (prefix&#39;, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk110" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk110"><span class="nb">specialize</span> (IHbprefix prefix&#39; dstart&#39; eq_refl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, dstart&#39;)</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (prefix&#39; ++ suffix, dstart&#39;)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a
    dstart&#39;
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: prefix&#39;, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (prefix&#39;, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_vlsm_trace_project
  ((a :: bprefix) ++ bsuffix) dlast =
Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk111" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk111"><span class="nb">simpl</span> <span class="kr">in</span> IHbprefix |- *; <span class="nb">rewrite</span> IHbprefix.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>a</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>bprefix, bsuffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dlast, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hsuffix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bsuffix dlast =
Some (suffix, dmiddle)</span></span></span><br><span><var>prefix'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project bprefix
  dmiddle = Some (prefix&#39;, dstart&#39;)</span></span></span><br><span><var>IHbprefix</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project
  (bprefix ++ bsuffix) dlast =
Some (prefix&#39; ++ suffix, dstart&#39;)</span></span></span><br><span><var>prefix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dstart</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hprefix</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a
    dstart&#39;
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: prefix&#39;, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (prefix&#39;, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefix, dstart)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  equivocator_vlsm_transition_item_project a dstart&#39;
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some (item&#39; :: prefix&#39; ++ suffix, odescriptor)
| Some (None, odescriptor) =&gt;
    Some (prefix&#39; ++ suffix, odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (prefix ++ suffix, dstart)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (equivocator_vlsm_transition_item_project a dstart&#39;) <span class="kr">as</span> [[[item&#39; |] i] |]
    ; <span class="nb">inversion</span> Hprefix; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
Next we prove some inversion properties for <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_transition_item_project</span></span>. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk112" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk112"><span class="kn">Lemma</span> <span class="nf">equivocator_valid_transition_project_inv2</span>
  (<span class="nv">l</span> : label (equivocator_vlsm X))
  (<span class="nv">s&#39;</span> <span class="nv">s</span> : state (equivocator_vlsm X))
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message)
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) l (s&#39;, iom))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) l (s&#39;, iom) = (s, oom))
  (<span class="nv">item</span> := {| l := l; input := iom; destination := s; output := oom |})
  (<span class="nv">di</span> <span class="nv">di&#39;</span> : MachineDescriptor X)
  (<span class="nv">item&#39;</span> : transition_item X)
  (<span class="nv">Hitem</span> : equivocator_vlsm_transition_item_project item di = Some (Some item&#39;, di&#39;))
  : <span class="kr">exists</span> (<span class="nv">i</span> : nat), di = Existing i /\
    <span class="kr">exists</span> <span class="nv">sx</span>, equivocator_state_project s i = Some sx /\
    <span class="kr">exists</span> (<span class="nv">i&#39;</span> : nat), di&#39; = Existing i&#39; /\
    <span class="kr">exists</span> <span class="nv">s&#39;x</span>, equivocator_state_project s&#39; i&#39; = Some s&#39;x /\
    <span class="kr">exists</span> (<span class="nv">Hex</span> : existing_equivocator_label _ l) (<span class="nv">lx</span> := existing_equivocator_label_extract _ l Hex),
    item&#39; = {| l := lx; input := iom; destination := sx; output := oom |} /\
    valid X lx (s&#39;x, iom) /\ transition X lx (s&#39;x, iom) = (sx, oom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>di, di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  di = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  di = Existing i
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">sx</span> : state X,
       equivocator_state_project s i = Some sx
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
            di&#39; = Existing i&#39;
            ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
                 equivocator_state_project s&#39; i&#39; =
                 Some s&#39;x
                 ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label
                              X l,
                      <span class="kr">let</span> <span class="nv">lx</span> :=
                        existing_equivocator_label_extract
                          X l Hex <span class="kr">in</span>
                      item&#39; =
                      {|
                        l := lx;
                        input := iom;
                        destination := sx;
                        output := oom
                      |}
                      ‚àß valid lx (s&#39;x, iom)
                        ‚àß transition lx (s&#39;x, iom) =
                          (sx, oom)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk113" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk113"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>di, di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  di = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i</span> : nat,
  di = Existing i
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">sx</span> : state X,
       equivocator_state_project s i = Some sx
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
            di&#39; = Existing i&#39;
            ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
                 equivocator_state_project s&#39; i&#39; =
                 Some s&#39;x
                 ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label
                              X l,
                      <span class="kr">let</span> <span class="nv">lx</span> :=
                        existing_equivocator_label_extract
                          X l Hex <span class="kr">in</span>
                      item&#39; =
                      {|
                        l := lx;
                        input := iom;
                        destination := sx;
                        output := oom
                      |}
                      ‚àß valid lx (s&#39;x, iom)
                        ‚àß transition lx (s&#39;x, iom) =
                          (sx, oom)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk114" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk114"><span class="nb">destruct</span> di <span class="kr">as</span> [sn | i]; [<span class="bp">by</span> <span class="nb">simpl</span> <span class="kr">in</span> Hitem; <span class="bp">congruence</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i0</span> : nat,
  Existing i = Existing i0
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">sx</span> : state X,
       equivocator_state_project s i0 = Some sx
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
            di&#39; = Existing i&#39;
            ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
                 equivocator_state_project s&#39; i&#39; =
                 Some s&#39;x
                 ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label
                              X l,
                      <span class="kr">let</span> <span class="nv">lx</span> :=
                        existing_equivocator_label_extract
                          X l Hex <span class="kr">in</span>
                      item&#39; =
                      {|
                        l := lx;
                        input := iom;
                        destination := sx;
                        output := oom
                      |}
                      ‚àß valid lx (s&#39;x, iom)
                        ‚àß transition lx (s&#39;x, iom) =
                          (sx, oom)))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk115" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk115"><span class="nb">eexists</span> _; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sx</span> : state X,
  equivocator_state_project s i = Some sx
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
       di&#39; = Existing i&#39;
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
            equivocator_state_project s&#39; i&#39; = Some s&#39;x
            ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
                 <span class="kr">let</span> <span class="nv">lx</span> :=
                   existing_equivocator_label_extract
                     X l Hex <span class="kr">in</span>
                 item&#39; =
                 {|
                   l := lx;
                   input := iom;
                   destination := sx;
                   output := oom
                 |}
                 ‚àß valid lx (s&#39;x, iom)
                   ‚àß transition lx (s&#39;x, iom) =
                     (sx, oom))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk116" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk116"><span class="nb">simpl</span> <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sx</span> : state X,
  equivocator_state_project s i = Some sx
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
       di&#39; = Existing i&#39;
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
            equivocator_state_project s&#39; i&#39; = Some s&#39;x
            ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
                 <span class="kr">let</span> <span class="nv">lx</span> :=
                   existing_equivocator_label_extract
                     X l Hex <span class="kr">in</span>
                 item&#39; =
                 {|
                   l := lx;
                   input := iom;
                   destination := sx;
                   output := oom
                 |}
                 ‚àß valid lx (s&#39;x, iom)
                   ‚àß transition lx (s&#39;x, iom) =
                     (sx, oom))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk117" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk117"><span class="nb">destruct</span> (equivocator_state_project s i) <span class="kr">as</span> [si |] <span class="nb">eqn</span>: Heqsi; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span> decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := iom;
            destination := si;
            output := oom
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span> decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := iom;
            destination := si;
            output := oom
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sx</span> : state X,
  Some si = Some sx
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
       di&#39; = Existing i&#39;
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
            equivocator_state_project s&#39; i&#39; = Some s&#39;x
            ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
                 <span class="kr">let</span> <span class="nv">lx</span> :=
                   existing_equivocator_label_extract
                     X l Hex <span class="kr">in</span>
                 item&#39; =
                 {|
                   l := lx;
                   input := iom;
                   destination := sx;
                   output := oom
                 |}
                 ‚àß valid lx (s&#39;x, iom)
                   ‚àß transition lx (s&#39;x, iom) =
                     (sx, oom))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk118" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk118"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>item'</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span> decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := iom;
            destination := si;
            output := oom
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span> decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := iom;
            destination := si;
            output := oom
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> = Some (Some item&#39;, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">i&#39;</span> : nat,
  di&#39; = Existing i&#39;
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">s&#39;x</span> : state X,
       equivocator_state_project s&#39; i&#39; = Some s&#39;x
       ‚àß (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
            <span class="kr">let</span> <span class="nv">lx</span> :=
              existing_equivocator_label_extract X l
                Hex <span class="kr">in</span>
            item&#39; =
            {|
              l := lx;
              input := iom;
              destination := si;
              output := oom
            |}
            ‚àß valid lx (s&#39;x, iom)
              ‚àß transition lx (s&#39;x, iom) = (si, oom)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk119" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk119"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | j lx | j lx]; [<span class="bp">by</span> <span class="nb">destruct</span> (decide _) | ..]
  ; <span class="nb">cbn</span> <span class="kr">in</span> Hv
  ; (<span class="nb">destruct</span> (equivocator_state_project s&#39; j) <span class="kr">as</span> [s&#39;j |] <span class="nb">eqn</span>: Heqs&#39;j; [| <span class="bp">done</span>])
  ; (<span class="nb">destruct</span> (decide _); [| <span class="bp">done</span>])
  ; <span class="nb">inversion</span> Hitem; <span class="nb">subst</span>; <span class="nb">simpl</span>; <span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">eexists</span> _; <span class="kp">repeat</span> <span class="nb">split</span>; <span class="kr">exists</span> <span class="nv">s&#39;j</span>
  ; (<span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span>.. |])
  ; <span class="nb">destruct</span> (transition X _ _) <span class="kr">as</span> (s&#39;j&#39;, _oom) <span class="nb">eqn</span>: Hti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing i) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing i)</span></span></span><br><span><var>s'j'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) = (s&#39;j&#39;, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s&#39;j&#39;, _oom) = (si, oom)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk11a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>s'j'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) = (s&#39;j&#39;, _oom)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk11a"><hr></label><div class="goal-conclusion">(s&#39;j&#39;, _oom) = (si, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk11b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk11b">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing i) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing i)</span></span></span><br><span><var>s'j'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) = (s&#39;j&#39;, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s&#39;j&#39;, _oom) = (si, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk11c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk11c"><span class="nb">specialize</span> (existing_false_label_equivocator_state_project_same X Ht _ Heqs&#39;j _ _ Hti)
      <span class="kr">as</span> [Heq_oom Heqs&#39;j&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing i) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing i)</span></span></span><br><span><var>s'j'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) = (s&#39;j&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqs'j'</var><span class="hyp-type"><b>: </b><span>equivocator_state_descriptor_project s
  (Existing i) = s&#39;j&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s&#39;j&#39;, _oom) = (si, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span>; <span class="nb">simpl</span>; <span class="nb">rewrite</span> Heqsi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk11d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk11d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>s'j'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) = (s&#39;j&#39;, _oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s&#39;j&#39;, _oom) = (si, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk11e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk11e"><span class="nb">specialize</span> (existing_true_label_equivocator_state_project_last X Ht _ Heqs&#39;j _ _ Hti)
      <span class="kr">as</span> [Heq_oom Heqs&#39;j&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>s'j'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) = (s&#39;j&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqs'j'</var><span class="hyp-type"><b>: </b><span>equivocator_state_descriptor_project s
  (Existing (equivocator_state_n s&#39;)) = s&#39;j&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(s&#39;j&#39;, _oom) = (si, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk11f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk11f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) =
(equivocator_state_descriptor_project s
   (Existing (equivocator_state_n s&#39;)), oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(equivocator_state_descriptor_project s
   (Existing (equivocator_state_n s&#39;)), oom) =
(si, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk120" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk120"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) =
(equivocator_state_descriptor_project s
   (Existing (equivocator_state_n s&#39;)), oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(default (equivocator_state_zero s)
   (equivocator_state_project s
      (equivocator_state_n s&#39;)), oom) = (si, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk121" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk121"><span class="nb">replace</span> (equivocator_state_n s&#39;) <span class="kr">with</span>  (equivocator_state_last s)
    ; [<span class="bp">by</span> <span class="nb">rewrite</span> Heqsi |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) =
(equivocator_state_descriptor_project s
   (Existing (equivocator_state_n s&#39;)), oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last s = equivocator_state_n s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk122" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk122"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Heqs&#39;j) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s', s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith j lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j) =
Some
  (Some
     {|
       l := lx;
       input := iom;
       destination := si;
       output := oom
     |}, Existing j)</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;j, iom) =
(equivocator_state_descriptor_project s
   (Existing (equivocator_state_n s&#39;)), oom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_last s = equivocator_state_n s&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">specialize</span> (equivocator_state_last_n X s) <span class="kr">as</span> Hs_lst; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk123" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk123"><span class="kn">Lemma</span> <span class="nf">equivocator_valid_transition_project_inv3</span>
  (<span class="nv">l</span> : label (equivocator_vlsm X))
  (<span class="nv">s</span> <span class="nv">s&#39;</span> : state (equivocator_vlsm X))
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message)
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) l (s&#39;, iom))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) l (s&#39;, iom) = (s, oom))
  (<span class="nv">item</span> := {| l := l; input := iom; destination := s; output := oom |})
  (<span class="nv">di</span> <span class="nv">di&#39;</span> : MachineDescriptor X)
  (<span class="nv">Hitem</span> : equivocator_vlsm_transition_item_project item di = Some (None, di&#39;))
  : <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt; di&#39; = di
    | Existing i =&gt;
      <span class="kr">match</span> di&#39; <span class="kr">with</span>
      | Existing i&#39; =&gt;
        <span class="kr">exists</span> <span class="nv">si</span>,
          equivocator_state_project s i = Some si /\
          equivocator_state_project s&#39; i&#39; = Some si
      | NewMachine sn&#39; =&gt;
          l = Spawn sn&#39; /\ i = equivocator_state_last s /\ iom = None /\ oom = None /\
          equivocator_state_project s i = Some sn&#39; /\ initial_state_prop X sn&#39;
      <span class="kr">end</span>
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>di, di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  di = Some (None, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine _ =&gt; di&#39; = di
| Existing i =&gt;
    <span class="kr">match</span> di&#39; <span class="kr">with</span>
    | NewMachine sn&#39; =&gt;
        l = Spawn sn&#39;
        ‚àß i = equivocator_state_last s
          ‚àß iom = None
            ‚àß oom = None
              ‚àß equivocator_state_project s i =
                Some sn&#39; ‚àß initial_state_prop sn&#39;
    | Existing i&#39; =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
          equivocator_state_project s i = Some si
          ‚àß equivocator_state_project s&#39; i&#39; = Some si
    <span class="kr">end</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk124" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk124"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>di, di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  di = Some (None, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine _ =&gt; di&#39; = di
| Existing i =&gt;
    <span class="kr">match</span> di&#39; <span class="kr">with</span>
    | NewMachine sn&#39; =&gt;
        l = Spawn sn&#39;
        ‚àß i = equivocator_state_last s
          ‚àß iom = None
            ‚àß oom = None
              ‚àß equivocator_state_project s i =
                Some sn&#39; ‚àß initial_state_prop sn&#39;
    | Existing i&#39; =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
          equivocator_state_project s i = Some si
          ‚àß equivocator_state_project s&#39; i&#39; = Some si
    <span class="kr">end</span>
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk125" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk125"><span class="nb">destruct</span> di <span class="kr">as</span> [si | i]; [<span class="bp">by</span> <span class="nb">inversion</span> Hitem |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (None, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn&#39; =&gt;
    l = Spawn sn&#39;
    ‚àß i = equivocator_state_last s
      ‚àß iom = None
        ‚àß oom = None
          ‚àß equivocator_state_project s i = Some sn&#39;
            ‚àß initial_state_prop sn&#39;
| Existing i&#39; =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
      equivocator_state_project s i = Some si
      ‚àß equivocator_state_project s&#39; i&#39; = Some si
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk126" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk126"><span class="nb">subst</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) = Some (None, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn&#39; =&gt;
    l = Spawn sn&#39;
    ‚àß i = equivocator_state_last s
      ‚àß iom = None
        ‚àß oom = None
          ‚àß equivocator_state_project s i = Some sn&#39;
            ‚àß initial_state_prop sn&#39;
| Existing i&#39; =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
      equivocator_state_project s i = Some si
      ‚àß equivocator_state_project s&#39; i&#39; = Some si
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk127" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk127"><span class="nb">simpl</span> <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn&#39; =&gt;
    l = Spawn sn&#39;
    ‚àß i = equivocator_state_last s
      ‚àß iom = None
        ‚àß oom = None
          ‚àß equivocator_state_project s i = Some sn&#39;
            ‚àß initial_state_prop sn&#39;
| Existing i&#39; =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
      equivocator_state_project s i = Some si
      ‚àß equivocator_state_project s&#39; i&#39; = Some si
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk128" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk128"><span class="nb">destruct</span> (equivocator_state_project s i) <span class="kr">as</span> [si |] <span class="nb">eqn</span>: Heqsi; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span> decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := iom;
            destination := si;
            output := oom
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span> decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := iom;
            destination := si;
            output := oom
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> = Some (None, di&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn&#39; =&gt;
    l = Spawn sn&#39;
    ‚àß i = equivocator_state_last s
      ‚àß iom = None
        ‚àß oom = None
          ‚àß Some si = Some sn&#39;
            ‚àß initial_state_prop sn&#39;
| Existing i&#39; =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
      Some si = Some si0
      ‚àß equivocator_state_project s&#39; i&#39; = Some si0
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk129" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk129"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | id lx | id lx]; <span class="nb">destruct</span> (decide _); <span class="nb">inversion</span> Hitem; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, NewMachine sn) =
Some (None, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Spawn sn = Spawn sn
‚àß equivocator_state_last s = equivocator_state_last s
  ‚àß iom = None
    ‚àß oom = None
      ‚àß Some si = Some sn ‚àß initial_state_prop sn</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk12a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk12a"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß equivocator_state_project s&#39; i = Some si0</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk12b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith id lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk12b"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß equivocator_state_project s&#39; i = Some si0</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk12c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ForkWith id lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk12c"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß equivocator_state_project s&#39; i = Some si0</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk12d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk12d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s
  (equivocator_state_last s) = 
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, NewMachine sn) =
Some (None, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Spawn sn = Spawn sn
‚àß equivocator_state_last s = equivocator_state_last s
  ‚àß iom = None
    ‚àß oom = None
      ‚àß Some si = Some sn ‚àß initial_state_prop sn</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk12e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk12e"><span class="nb">inversion</span> Ht; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) =
(equivocator_state_extend s&#39; sn, None)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project
  (equivocator_state_extend s&#39; sn)
  (equivocator_state_last
     (equivocator_state_extend s&#39; sn)) =
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, NewMachine sn) =
Some (None, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Spawn sn = Spawn sn
‚àß equivocator_state_last
    (equivocator_state_extend s&#39; sn) =
  equivocator_state_last
    (equivocator_state_extend s&#39; sn)
  ‚àß iom = None
    ‚àß None = None
      ‚àß Some si = Some sn ‚àß initial_state_prop sn</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk12f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk12f">split_and!; [<span class="bp">done</span> | <span class="bp">done</span> | <span class="nb">apply</span> Hv | <span class="bp">done</span> | | <span class="nb">apply</span> Hv].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) =
(equivocator_state_extend s&#39; sn, None)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project
  (equivocator_state_extend s&#39; sn)
  (equivocator_state_last
     (equivocator_state_extend s&#39; sn)) =
Some si</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, NewMachine sn) =
Some (None, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some si = Some sn</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_state_extend_lst, equivocator_state_extend_project_2 <span class="kr">in</span> Heqsi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk130" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk130">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß equivocator_state_project s&#39; i = Some si0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk131" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk131"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk132" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk132"><span class="nb">specialize</span> (new_machine_label_equivocator_state_project_not_last X Ht i) <span class="kr">as</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí equivocator_state_descriptor_project s
    (Existing i) =
  equivocator_state_descriptor_project s&#39;
    (Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk133" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk133"><span class="nb">simpl</span> <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s)
    (equivocator_state_project s i) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk134" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk134"><span class="nb">rewrite</span> Heqsi <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk135" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk135"><span class="nb">specialize</span> (new_machine_label_equivocator_transition_size X Ht) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk136" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk136"><span class="nb">specialize</span> (equivocator_state_last_n X s) <span class="kr">as</span> Hs_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk137" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk137"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Heqsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk138" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk138">spec Hn; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk139" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk139"><span class="nb">simpl</span> <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>si =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> destruct_equivocator_state_project s&#39; i s&#39;i Hi; [<span class="nb">subst</span> | <span class="bp">lia</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith id lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß equivocator_state_project s&#39; i = Some si0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13b"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith id lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13c"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s&#39; id <span class="kr">with</span>
| Some si =&gt; valid lx (si, iom)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13d"><span class="nb">destruct</span> (equivocator_state_project s&#39; id) <span class="kr">as</span> [s&#39;id |] <span class="nb">eqn</span>: Hpr; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13e"><span class="nb">specialize</span> (existing_false_label_equivocator_state_project_not_same X Ht _ Hpr i) <span class="kr">as</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí id ‚â† i
  ‚Üí equivocator_state_descriptor_project s
      (Existing i) =
    equivocator_state_descriptor_project s&#39;
      (Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk13f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk13f"><span class="nb">simpl</span> <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí id ‚â† i
  ‚Üí default (equivocator_state_zero s)
      (equivocator_state_project s i) =
    default (equivocator_state_zero s&#39;)
      (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk140" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk140"><span class="nb">rewrite</span> Heqsi <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí id ‚â† i
  ‚Üí default (equivocator_state_zero s) (Some si) =
    default (equivocator_state_zero s&#39;)
      (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk141" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk141"><span class="nb">specialize</span> (existing_false_label_equivocator_transition_size X Ht _ Hpr) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí id ‚â† i
  ‚Üí default (equivocator_state_zero s) (Some si) =
    default (equivocator_state_zero s&#39;)
      (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk142" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk142"><span class="nb">specialize</span> (equivocator_state_last_n X s) <span class="kr">as</span> Hs_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí id ‚â† i
  ‚Üí default (equivocator_state_zero s) (Some si) =
    default (equivocator_state_zero s&#39;)
      (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk143" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk143"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Heqsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí id ‚â† i
  ‚Üí default (equivocator_state_zero s) (Some si) =
    default (equivocator_state_zero s&#39;)
      (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk144" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk144">spec Hn; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>id ‚â† i
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk145" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk145"><span class="nb">specialize</span> (Hn n).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk146" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk146">destruct_equivocator_state_project s&#39; i s&#39;i Hi; [| <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith id lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>id ‚â† i</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
default (equivocator_state_zero s&#39;) (Some s&#39;i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some s&#39;i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">simpl</span> <span class="kr">in</span> Hn; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk147" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk147">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ForkWith id lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß equivocator_state_project s&#39; i = Some si0</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk148" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk148"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ForkWith id lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk149" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk149"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s&#39; id <span class="kr">with</span>
| Some si =&gt; valid lx (si, iom)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14a"><span class="nb">destruct</span> (equivocator_state_project s&#39; id) <span class="kr">as</span> [s&#39;id |] <span class="nb">eqn</span>: Hpr; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14b"><span class="nb">specialize</span> (existing_true_label_equivocator_state_project_not_last X Ht _ Hpr i) <span class="kr">as</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí equivocator_state_descriptor_project s
    (Existing i) =
  equivocator_state_descriptor_project s&#39;
    (Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14c"><span class="nb">simpl</span> <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s)
    (equivocator_state_project s i) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14d"><span class="nb">rewrite</span> Heqsi <span class="kr">in</span> Hn.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14e"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Hpr) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk14f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk14f"><span class="nb">specialize</span> (equivocator_state_last_n X s) <span class="kr">as</span> Hs_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk150" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk150"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Heqsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;
‚Üí default (equivocator_state_zero s) (Some si) =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk151" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk151">spec Hn; [<span class="bp">lia</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s&#39; i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk152" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk152">destruct_equivocator_state_project s&#39; i s&#39;i Hi; [| <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>id</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'id</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; id = Some s&#39;id</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;id, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith id lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† equivocator_state_last s</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>Some (None, Existing i) =
Some (None, Existing i)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hn</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
default (equivocator_state_zero s&#39;) (Some s&#39;i)</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Some s&#39;i = Some si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">simpl</span> <span class="kr">in</span> Hn; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk153" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk153"><span class="kn">Lemma</span> <span class="nf">equivocator_valid_transition_project_inv4</span>
  (<span class="nv">l</span> : label (equivocator_vlsm X))
  (<span class="nv">s</span> <span class="nv">s&#39;</span> : state (equivocator_vlsm X))
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message)
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) l (s&#39;, iom))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) l (s&#39;, iom) = (s, oom))
  (<span class="nv">i&#39;</span> : nat)
  <span class="nv">si&#39;</span>
  (<span class="nv">Hi&#39;</span> : equivocator_state_project s&#39; i&#39; = Some si&#39;)
  : <span class="kr">exists</span> <span class="nv">si</span>, equivocator_state_project s i&#39; = Some si /\
    <span class="kr">exists</span> (<span class="nv">oitem</span> : option (transition_item X)),
    equivocator_vlsm_transition_item_project
      {| l := l; input := iom; destination := s; output := oom |}
      (Existing i&#39;) = Some (oitem, Existing i&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       equivocator_vlsm_transition_item_project
         {|
           l := l;
           input := iom;
           destination := s;
           output := oom
         |} (Existing i&#39;) = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk154" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk154"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       equivocator_vlsm_transition_item_project
         {|
           l := l;
           input := iom;
           destination := s;
           output := oom
         |} (Existing i&#39;) = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk155" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk155"><span class="nb">unfold</span> equivocator_vlsm_transition_item_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">match</span> l <span class="kr">with</span>
           | Spawn sn =&gt;
               <span class="kr">if</span>
                decide (i&#39; = equivocator_state_last s)
               <span class="kr">then</span> Some (None, NewMachine sn)
               <span class="kr">else</span> Some (None, Existing i&#39;)
           | ContinueWith i lx =&gt;
               <span class="kr">if</span> decide (i = i&#39;)
               <span class="kr">then</span>
                Some
                  (Some
                     {|
                       l := lx;
                       input := iom;
                       destination := sj;
                       output := oom
                     |}, Existing i)
               <span class="kr">else</span> Some (None, Existing i&#39;)
           | ForkWith i lx =&gt;
               <span class="kr">if</span>
                decide (i&#39; = equivocator_state_last s)
               <span class="kr">then</span>
                Some
                  (Some
                     {|
                       l := lx;
                       input := iom;
                       destination := sj;
                       output := oom
                     |}, Existing i)
               <span class="kr">else</span> Some (None, Existing i&#39;)
           <span class="kr">end</span>
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk156" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk156"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | j lx | j lx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk157" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith j lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk157"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (j = i&#39;)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk158" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ForkWith j lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk158"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk159" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk159">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15a"><span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>equivocator_state_extend s&#39; sn = s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>None = oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span>
         equivocator_state_project
           (equivocator_state_extend s&#39; sn) i&#39;
       <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span>
            decide
              (i&#39; =
               equivocator_state_last
                 (equivocator_state_extend s&#39; sn))
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15b"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) =
(equivocator_state_extend s&#39; sn, None)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span>
         equivocator_state_project
           (equivocator_state_extend s&#39; sn) i&#39;
       <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span>
            decide
              (i&#39; =
               equivocator_state_last
                 (equivocator_state_extend s&#39; sn))
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15c"><span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span>
         equivocator_state_project
           (equivocator_state_extend s&#39; sn) i&#39;
       <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span>
            decide
              (i&#39; =
               equivocator_state_last
                 (equivocator_state_extend s&#39; sn))
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15d"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hi&#39; <span class="kr">as</span> Hlti&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span>
         equivocator_state_project
           (equivocator_state_extend s&#39; sn) i&#39;
       <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span>
            decide
              (i&#39; =
               equivocator_state_last
                 (equivocator_state_extend s&#39; sn))
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15e"><span class="nb">rewrite</span> equivocator_state_extend_project_1 <span class="bp">by</span> <span class="bp">done</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s&#39; i&#39; <span class="kr">with</span>
       | Some _ =&gt;
           <span class="kr">if</span>
            decide
              (i&#39; =
               equivocator_state_last
                 (equivocator_state_extend s&#39; sn))
           <span class="kr">then</span> Some (None, NewMachine sn)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk15f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk15f"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  <span class="kr">match</span> equivocator_state_project s&#39; i&#39; <span class="kr">with</span>
  | Some _ =&gt;
      <span class="kr">if</span>
       decide
         (i&#39; =
          equivocator_state_last
            (equivocator_state_extend s&#39; sn))
      <span class="kr">then</span> Some (None, NewMachine sn)
      <span class="kr">else</span> Some (None, Existing i&#39;)
  | None =&gt; None
  <span class="kr">end</span> = Some (oitem, Existing i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk160" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk160"><span class="nb">rewrite</span> Hi&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  (<span class="kr">if</span>
    decide
      (i&#39; =
       equivocator_state_last
         (equivocator_state_extend s&#39; sn))
   <span class="kr">then</span> Some (None, NewMachine sn)
   <span class="kr">else</span> Some (None, Existing i&#39;)) =
  Some (oitem, Existing i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk161" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk161"><span class="kr">exists</span> <span class="nv">None</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">if</span>
  decide
    (i&#39; =
     equivocator_state_last
       (equivocator_state_extend s&#39; sn))
 <span class="kr">then</span> Some (None, NewMachine sn)
 <span class="kr">else</span> Some (None, Existing i&#39;)) =
Some (None, Existing i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk162" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk162"><span class="nb">rewrite</span> decide_False ; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (Spawn sn) (s&#39;, iom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i&#39;
‚â† equivocator_state_last
    (equivocator_state_extend s&#39; sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_state_extend_lst; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk163" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk163">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ContinueWith j lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (j = i&#39;)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk164" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk164"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s&#39; j <span class="kr">with</span>
| Some si =&gt; valid lx (si, iom)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (j = i&#39;)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk165" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk165"><span class="nb">destruct</span> (equivocator_state_project s&#39; j) <span class="kr">as</span> [s&#39;j |] <span class="nb">eqn</span>: Heqs&#39;j
    ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (j = i&#39;)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk166" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk166"><span class="nb">specialize</span> (existing_false_label_equivocator_transition_size X Ht _ Heqs&#39;j) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (j = i&#39;)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk167" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk167"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hi&#39; <span class="kr">as</span> Hlti&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (j = i&#39;)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk168" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk168">destruct_equivocator_state_project s i&#39; si Hlti; [| <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       (<span class="kr">if</span> decide (j = i&#39;)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := si;
                output := oom
              |}, Existing j)
        <span class="kr">else</span> Some (None, Existing i&#39;)) =
       Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk169" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk169"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith j lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  (<span class="kr">if</span> decide (j = i&#39;)
   <span class="kr">then</span>
    Some
      (Some
         {|
           l := lx;
           input := iom;
           destination := si;
           output := oom
         |}, Existing j)
   <span class="kr">else</span> Some (None, Existing i&#39;)) =
  Some (oitem, Existing i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (decide _); <span class="nb">subst</span>; <span class="nb">eexists</span> _.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid (ForkWith j lx) (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16b"><span class="nb">cbn</span> <span class="kr">in</span> Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s&#39; j <span class="kr">with</span>
| Some si =&gt; valid lx (si, iom)
| None =&gt; <span class="kt">False</span>
<span class="kr">end</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16c"><span class="nb">destruct</span> (equivocator_state_project s&#39; j) <span class="kr">as</span> [s&#39;j |] <span class="nb">eqn</span>: Heqs&#39;j
    ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16d"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Heqs&#39;j) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16e"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Hi&#39; <span class="kr">as</span> Hlti&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s i&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       <span class="kr">match</span> equivocator_state_project s i&#39; <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing j)
           <span class="kr">else</span> Some (None, Existing i&#39;)
       | None =&gt; None
       <span class="kr">end</span> = Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk16f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk16f">destruct_equivocator_state_project s i&#39; si Hlti; [| <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
       (<span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := si;
                output := oom
              |}, Existing j)
        <span class="kr">else</span> Some (None, Existing i&#39;)) =
       Some (oitem, Existing i&#39;))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk170" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk170"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  (<span class="kr">if</span> decide (i&#39; = equivocator_state_last s)
   <span class="kr">then</span>
    Some
      (Some
         {|
           l := lx;
           input := iom;
           destination := si;
           output := oom
         |}, Existing j)
   <span class="kr">else</span> Some (None, Existing i&#39;)) =
  Some (oitem, Existing i&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk171" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk171"><span class="nb">rewrite</span> decide_False; [<span class="bp">by</span> <span class="nb">eexists</span> _ |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'j</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'j</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; j = Some s&#39;j</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;j, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith j lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si&#39;</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Hlti'</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>i&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i&#39; ‚â† equivocator_state_last s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">specialize</span> (equivocator_state_last_n X s); <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk172" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk172"><span class="kn">Lemma</span> <span class="nf">equivocator_valid_transition_project_inv5_new_machine</span>
  (<span class="nv">l</span> : label (equivocator_vlsm X))
  (<span class="nv">s</span> <span class="nv">s&#39;</span> : state (equivocator_vlsm X))
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message)
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) l (s&#39;, iom) = (s, oom))
  (<span class="nv">item</span> := {| l := l; input := iom; destination := s; output := oom |})
  (<span class="nv">sn</span> : state X)
  (<span class="nv">Hnew</span> : l = Spawn sn)
  : <span class="kr">exists</span> (<span class="nv">i</span> : nat) <span class="nv">si</span>,
    equivocator_state_project s i = si /\
    equivocator_vlsm_transition_item_project item (Existing i) = Some (None, NewMachine sn).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hnew</var><span class="hyp-type"><b>: </b><span>l = Spawn sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project s i = si
  ‚àß equivocator_vlsm_transition_item_project item
      (Existing i) = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk173" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk173"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hnew</var><span class="hyp-type"><b>: </b><span>l = Spawn sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project s i = si
  ‚àß equivocator_vlsm_transition_item_project item
      (Existing i) = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk174" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk174"><span class="nb">subst</span> l.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := Spawn sn;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project s i = si
  ‚àß equivocator_vlsm_transition_item_project item
      (Existing i) = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk175" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk175"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := Spawn sn;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project s i = si
  ‚àß <span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
    | Some _ =&gt;
        <span class="kr">if</span> decide (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | None =&gt; None
    <span class="kr">end</span> = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk176" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk176"><span class="nb">inversion</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := Spawn sn;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>equivocator_state_extend s&#39; sn = s</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>None = oom</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i = si
  ‚àß <span class="kr">match</span>
      equivocator_state_project
        (equivocator_state_extend s&#39; sn) i
    <span class="kr">with</span>
    | Some _ =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last
              (equivocator_state_extend s&#39; sn))
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | None =&gt; None
    <span class="kr">end</span> = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk177" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk177"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := Spawn sn;
  input := iom;
  destination := equivocator_state_extend s&#39; sn;
  output := None
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (Spawn sn) (s&#39;, iom) =
(equivocator_state_extend s&#39; sn, None)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i = si
  ‚àß <span class="kr">match</span>
      equivocator_state_project
        (equivocator_state_extend s&#39; sn) i
    <span class="kr">with</span>
    | Some _ =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last
              (equivocator_state_extend s&#39; sn))
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | None =&gt; None
    <span class="kr">end</span> = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk178" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk178"><span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := Spawn sn;
  input := iom;
  destination := equivocator_state_extend s&#39; sn;
  output := None
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : option (state X)),
  equivocator_state_project
    (equivocator_state_extend s&#39; sn) i = si
  ‚àß <span class="kr">match</span>
      equivocator_state_project
        (equivocator_state_extend s&#39; sn) i
    <span class="kr">with</span>
    | Some _ =&gt;
        <span class="kr">if</span>
         decide
           (i =
            equivocator_state_last
              (equivocator_state_extend s&#39; sn))
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | None =&gt; None
    <span class="kr">end</span> = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk179" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk179"><span class="kr">exists</span> (<span class="nv">equivocator_state_n</span> <span class="nv">s&#39;</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := Spawn sn;
  input := iom;
  destination := equivocator_state_extend s&#39; sn;
  output := None
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : option (state X),
  equivocator_state_project
    (equivocator_state_extend s&#39; sn)
    (equivocator_state_n s&#39;) = si
  ‚àß <span class="kr">match</span>
      equivocator_state_project
        (equivocator_state_extend s&#39; sn)
        (equivocator_state_n s&#39;)
    <span class="kr">with</span>
    | Some _ =&gt;
        <span class="kr">if</span>
         decide
           (equivocator_state_n s&#39; =
            equivocator_state_last
              (equivocator_state_extend s&#39; sn))
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span>
         Some
           (None, Existing (equivocator_state_n s&#39;))
    | None =&gt; None
    <span class="kr">end</span> = Some (None, NewMachine sn)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_state_extend_lst, equivocator_state_extend_project_2, decide_True
  ; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk17a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk17a"><span class="kn">Lemma</span> <span class="nf">equivocator_valid_transition_project_inv5</span>
  (<span class="nv">l</span> : label (equivocator_vlsm X))
  (<span class="nv">s</span> <span class="nv">s&#39;</span> : state (equivocator_vlsm X))
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message)
  (<span class="nv">Hv</span> : valid (equivocator_vlsm X) l (s&#39;, iom))
  (<span class="nv">Ht</span> : transition (equivocator_vlsm X) l (s&#39;, iom) = (s, oom))
  (<span class="nv">item</span> := {| l := l; input := iom; destination := s; output := oom |})
  (<span class="nv">_i</span> : nat)
  (<span class="nv">Hsndl</span> : equivocator_label_descriptor l = Existing _i)
  : <span class="kr">exists</span> (<span class="nv">i</span> : nat) <span class="nv">si</span>, equivocator_state_project s i = Some si /\
    <span class="kr">exists</span> (<span class="nv">itemx</span> : transition_item X),
    equivocator_vlsm_transition_item_project item (Existing i) = Some (Some itemx, Existing _i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing _i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk17b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk17b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing _i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk17c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk17c"><span class="nb">destruct</span> l <span class="kr">as</span> [sn | _i&#39; lx | _i&#39; lx]; <span class="nb">simpl</span> <span class="kr">in</span> Hsndl; <span class="nb">inversion</span> Hsndl; <span class="nb">subst</span>
  ; <span class="nb">cbn</span> <span class="kr">in</span> Hv
  ; (<span class="nb">destruct</span> (equivocator_state_project s&#39; _i) <span class="kr">as</span> [s&#39;i |] <span class="nb">eqn</span>: Heqs&#39;i; [| <span class="bp">done</span>]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk17d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith _i lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk17d"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = 
       Some (Some itemx, Existing _i))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk17e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk17e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk17f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk17f"><span class="nb">specialize</span> (existing_false_label_equivocator_transition_size X Ht _ Heqs&#39;i) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk180" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk180"><span class="nb">specialize</span> (existing_false_label_equivocator_state_project_same X Ht _ Heqs&#39;i) <span class="kr">as</span> Ht_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition lx (s&#39;i, iom) = (si&#39;, _oout)
  ‚Üí _oout = oom
    ‚àß equivocator_state_descriptor_project s
        (Existing _i) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk181" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk181"><span class="nb">simpl</span> <span class="kr">in</span> Ht_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition lx (s&#39;i, iom) = (si&#39;, _oout)
  ‚Üí _oout = oom
    ‚àß default (equivocator_state_zero s)
        (equivocator_state_project s _i) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk182" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk182"><span class="nb">destruct</span> (transition X _ _) <span class="kr">as</span> (si&#39;, _oom) <span class="nb">eqn</span>: Hti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;0</span> : state X) (<span class="nv">_oout</span> : option message),
  (si&#39;, _oom) = (si&#39;0, _oout)
  ‚Üí _oout = oom
    ‚àß default (equivocator_state_zero s)
        (equivocator_state_project s _i) =
      si&#39;0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk183" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk183"><span class="nb">specialize</span> (Ht_pr _ _ eq_refl) <span class="kr">as</span> [Heq_oom Heqsi&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s _i) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk184" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk184"><span class="kr">exists</span> <span class="nv">_i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s _i) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s _i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing _i) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk185" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk185"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s _i) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s _i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       <span class="kr">match</span> equivocator_state_project s _i <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (_i = _i)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing _i)
           <span class="kr">else</span> Some (None, Existing _i)
       | None =&gt; None
       <span class="kr">end</span> = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk186" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk186"><span class="nb">apply</span> equivocator_state_project_Some_rev <span class="kr">in</span> Heqs&#39;i <span class="kr">as</span> Hlti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s _i) = si&#39;</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s _i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       <span class="kr">match</span> equivocator_state_project s _i <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span> decide (_i = _i)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing _i)
           <span class="kr">else</span> Some (None, Existing _i)
       | None =&gt; None
       <span class="kr">end</span> = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk187" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk187">destruct_equivocator_state_project s _i si Hi; [| <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
si&#39;</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       (<span class="kr">if</span> decide (_i = _i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := si;
                output := oom
              |}, Existing _i)
        <span class="kr">else</span> Some (None, Existing _i)) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk188" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk188"><span class="nb">simpl</span> <span class="kr">in</span> Heqsi&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>si = si&#39;</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si0</span> : state X,
  Some si = Some si0
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       (<span class="kr">if</span> decide (_i = _i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := si;
                output := oom
              |}, Existing _i)
        <span class="kr">else</span> Some (None, Existing _i)) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk189" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk189"><span class="nb">subst</span> si.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ContinueWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith _i lx) (s&#39;, iom) =
(s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
equivocator_state_n s&#39;</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Hlti</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s&#39;</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>_i &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  Some si&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       (<span class="kr">if</span> decide (_i = _i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := si&#39;;
                output := oom
              |}, Existing _i)
        <span class="kr">else</span> Some (None, Existing _i)) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> decide_True; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk18a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk18a">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith _i lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk18b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk18b"><span class="nb">specialize</span> (existing_true_label_equivocator_transition_size X Ht _ Heqs&#39;i) <span class="kr">as</span> Ht_size.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith _i lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk18c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk18c"><span class="nb">specialize</span> (existing_true_label_equivocator_state_project_last X Ht _ Heqs&#39;i) <span class="kr">as</span> Ht_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition (ForkWith _i lx) (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition lx (s&#39;i, iom) = (si&#39;, _oout)
  ‚Üí _oout = oom
    ‚àß equivocator_state_descriptor_project s
        (Existing (equivocator_state_n s&#39;)) =
      si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk18d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk18d"><span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s&#39; _i <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lx (si, iom) <span class="kr">in</span>
    (equivocator_state_extend s&#39; si&#39;, om&#39;)
| None =&gt; (s&#39;, iom)
<span class="kr">end</span> = (s, oom)</span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition lx (s&#39;i, iom) = (si&#39;, _oout)
  ‚Üí _oout = oom
    ‚àß equivocator_state_descriptor_project s
        (Existing (equivocator_state_n s&#39;)) =
      si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk18e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk18e"><span class="nb">rewrite</span> Heqs&#39;i <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lx (s&#39;i, iom) <span class="kr">in</span>
 (equivocator_state_extend s&#39; si&#39;, om&#39;)) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition lx (s&#39;i, iom) = (si&#39;, _oout)
  ‚Üí _oout = oom
    ‚àß equivocator_state_descriptor_project s
        (Existing (equivocator_state_n s&#39;)) =
      si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk18f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk18f"><span class="nb">simpl</span> <span class="kr">in</span> Ht_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lx (s&#39;i, iom) <span class="kr">in</span>
 (equivocator_state_extend s&#39; si&#39;, om&#39;)) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;</span> : state X) (<span class="nv">_oout</span> : option message),
  transition lx (s&#39;i, iom) = (si&#39;, _oout)
  ‚Üí _oout = oom
    ‚àß default (equivocator_state_zero s)
        (equivocator_state_project s
           (equivocator_state_n s&#39;)) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk190" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk190"><span class="nb">destruct</span> (transition X _ _) <span class="kr">as</span> (si&#39;, _oom) <span class="nb">eqn</span>: Hti.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Ht_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">si&#39;0</span> : state X) (<span class="nv">_oout</span> : option message),
  (si&#39;, _oom) = (si&#39;0, _oout)
  ‚Üí _oout = oom
    ‚àß default (equivocator_state_zero s)
        (equivocator_state_project s
           (equivocator_state_n s&#39;)) = si&#39;0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk191" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk191"><span class="nb">specialize</span> (Ht_pr _ _ eq_refl) <span class="kr">as</span> [Heq_oom Heqsi&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s
     (equivocator_state_n s&#39;)) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing i) = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk192" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk192"><span class="kr">exists</span> (<span class="nv">equivocator_state_n</span> <span class="nv">s&#39;</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s
     (equivocator_state_n s&#39;)) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s (equivocator_state_n s&#39;) =
  Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       equivocator_vlsm_transition_item_project item
         (Existing (equivocator_state_n s&#39;)) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk193" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk193"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s
     (equivocator_state_n s&#39;)) = si&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  equivocator_state_project s (equivocator_state_n s&#39;) =
  Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       <span class="kr">match</span>
         equivocator_state_project s
           (equivocator_state_n s&#39;)
       <span class="kr">with</span>
       | Some sj =&gt;
           <span class="kr">if</span>
            decide
              (equivocator_state_n s&#39; =
               equivocator_state_last s)
           <span class="kr">then</span>
            Some
              (Some
                 {|
                   l := lx;
                   input := iom;
                   destination := sj;
                   output := oom
                 |}, Existing _i)
           <span class="kr">else</span>
            Some
              (None, Existing (equivocator_state_n s&#39;))
       | None =&gt; None
       <span class="kr">end</span> = Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk194" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk194">destruct_equivocator_state_project s (equivocator_state_n s&#39;) s_lst Hlst; [| <span class="bp">lia</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>s_lst</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (Some s_lst) = si&#39;</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  Some s_lst = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       (<span class="kr">if</span>
         decide
           (equivocator_state_n s&#39; =
            equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := s_lst;
                output := oom
              |}, Existing _i)
        <span class="kr">else</span>
         Some
           (None, Existing (equivocator_state_n s&#39;))) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk195" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk195"><span class="nb">simpl</span> <span class="kr">in</span> Heqsi&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>s_lst</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi'</var><span class="hyp-type"><b>: </b><span>s_lst = si&#39;</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  Some s_lst = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       (<span class="kr">if</span>
         decide
           (equivocator_state_n s&#39; =
            equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := s_lst;
                output := oom
              |}, Existing _i)
        <span class="kr">else</span>
         Some
           (None, Existing (equivocator_state_n s&#39;))) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk196" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk196"><span class="nb">subst</span> s_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
  Some si&#39; = Some si
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
       (<span class="kr">if</span>
         decide
           (equivocator_state_n s&#39; =
            equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := si&#39;;
                output := oom
              |}, Existing _i)
        <span class="kr">else</span>
         Some
           (None, Existing (equivocator_state_n s&#39;))) =
       Some (Some itemx, Existing _i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk197" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk197"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; &lt; equivocator_state_n s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
  (<span class="kr">if</span>
    decide
      (equivocator_state_n s&#39; =
       equivocator_state_last s)
   <span class="kr">then</span>
    Some
      (Some
         {|
           l := lx;
           input := iom;
           destination := si&#39;;
           output := oom
         |}, Existing _i)
   <span class="kr">else</span> Some (None, Existing (equivocator_state_n s&#39;))) =
  Some (Some itemx, Existing _i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk198" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk198"><span class="nb">specialize</span> (equivocator_state_last_n X s) <span class="kr">as</span> Hs_lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; &lt; equivocator_state_n s</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
  (<span class="kr">if</span>
    decide
      (equivocator_state_n s&#39; =
       equivocator_state_last s)
   <span class="kr">then</span>
    Some
      (Some
         {|
           l := lx;
           input := iom;
           destination := si&#39;;
           output := oom
         |}, Existing _i)
   <span class="kr">else</span> Some (None, Existing (equivocator_state_n s&#39;))) =
  Some (Some itemx, Existing _i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk199" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk199"><span class="nb">rewrite</span> decide_True <span class="bp">by</span> <span class="bp">lia</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>_i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hsndl</var><span class="hyp-type"><b>: </b><span>Existing _i = Existing _i</span></span></span><br><span><var>item</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := ForkWith _i lx;
  input := iom;
  destination := s;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s'i, si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>_oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hti</var><span class="hyp-type"><b>: </b><span>transition lx (s&#39;i, iom) = (si&#39;, _oom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s&#39; si&#39;, _oom) =
(s, oom)</span></span></span><br><span><var>Heqs'i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; _i = Some s&#39;i</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid lx (s&#39;i, iom)</span></span></span><br><span><var>Ht_size</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_n s&#39;)</span></span></span><br><span><var>Heq_oom</var><span class="hyp-type"><b>: </b><span>_oom = oom</span></span></span><br><span><var>Hlst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; &lt; equivocator_state_n s</span></span></span><br><span><var>Hs_lst</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s =
S (equivocator_state_last s)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">itemx</span> : transition_item,
  Some
    (Some
       {|
         l := lx;
         input := iom;
         destination := si&#39;;
         output := oom
       |}, Existing _i) =
  Some (Some itemx, Existing _i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The projection of a segment of an <span class="inlinecode"><span class="id" title="var">equivocator_vlsm</span></span> valid trace
  is defined and a valid trace segment in the original VLSM.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk19a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk19a"><span class="kn">Lemma</span> <span class="nf">preloaded_with_equivocator_vlsm_trace_project_valid</span>
  (<span class="nv">seed</span> : message -&gt; <span class="kt">Prop</span>)
  (<span class="nv">bs</span> <span class="nv">be</span> : state (equivocator_vlsm X))
  (<span class="nv">btr</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">Hbtr</span> : finite_valid_trace_from_to (preloaded_vlsm (equivocator_vlsm X) seed) bs be btr)
  (<span class="nv">j</span> : nat)
  <span class="nv">ej</span>
  (<span class="nv">Hj</span> : equivocator_state_project be j = Some ej)
  : <span class="kr">exists</span>
    (<span class="nv">tr</span> : list (transition_item X))
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project btr (Existing j) = Some (tr, di) /\
    <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
      initial_state_prop X sn
      /\ finite_valid_trace_from_to (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
      <span class="kr">exists</span> <span class="nv">s</span>, equivocator_state_project bs i = Some s /\
      finite_valid_trace_from_to (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) bs
  be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk19b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk19b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) bs
  be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk19c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk19c"><span class="nb">induction</span> Hbtr; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project [] (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
          equivocator_state_project s i = Some s0
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s0 ej tr
    <span class="kr">end</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk19d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_vlsm (equivocator_vlsm X) seed) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) 
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project tl
      (Existing j) = Some (tr, di)
    ‚àß <span class="kr">match</span> di <span class="kr">with</span>
      | NewMachine sn =&gt;
          initial_state_prop sn
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) sn ej
              tr
      | Existing i =&gt;
          <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
            equivocator_state_project s i =
            Some s0
            ‚àß finite_valid_trace_from_to
                (preloaded_vlsm X seed) s0 ej
                tr
      <span class="kr">end</span></span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk19d"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) 
  (<span class="nv">di</span> : MachineDescriptor X),
  equivocator_vlsm_trace_project
    ({|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |} :: tl) (Existing j) = 
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk19e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk19e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project [] (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
          equivocator_state_project s i = Some s0
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s0 ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk19f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk19f"><span class="kr">exists</span> [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">di</span> : MachineDescriptor X,
  equivocator_vlsm_trace_project [] (Existing j) =
  Some ([], di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej []
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
          equivocator_state_project s i = Some s0
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s0 ej []
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a0"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> Existing j <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej []
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej []
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a1"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed) ej
  ej []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a2"><span class="nb">apply</span> (finite_valid_trace_from_to_empty (preloaded_vlsm X seed)); <span class="nb">revert</span> Hj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project s j = Some ej
‚Üí valid_state_prop (preloaded_vlsm X seed) ej</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> preloaded_with_equivocator_state_project_valid_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a3">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_vlsm (equivocator_vlsm X) seed) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) 
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project tl
      (Existing j) = Some (tr, di)
    ‚àß <span class="kr">match</span> di <span class="kr">with</span>
      | NewMachine sn =&gt;
          initial_state_prop sn
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) sn ej
              tr
      | Existing i =&gt;
          <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
            equivocator_state_project s i =
            Some s0
            ‚àß finite_valid_trace_from_to
                (preloaded_vlsm X seed) s0 ej
                tr
      <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project
    ({|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |} :: tl) (Existing j) = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a4"><span class="nb">remember</span> {| l := l; input := iom; |} <span class="kr">as</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_vlsm (equivocator_vlsm X) seed) l
  (s&#39;, iom) (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) 
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project tl
      (Existing j) = Some (tr, di)
    ‚àß <span class="kr">match</span> di <span class="kr">with</span>
      | NewMachine sn =&gt;
          initial_state_prop sn
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) sn ej
              tr
      | Existing i =&gt;
          <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
            equivocator_state_project s i =
            Some s0
            ‚àß finite_valid_trace_from_to
                (preloaded_vlsm X seed) s0 ej
                tr
      <span class="kr">end</span></span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project (item :: tl)
    (Existing j) = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a5"><span class="nb">destruct</span> Ht <span class="kr">as</span> [[Hs&#39; [Hiom Hv]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) 
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project tl
      (Existing j) = Some (tr, di)
    ‚àß <span class="kr">match</span> di <span class="kr">with</span>
      | NewMachine sn =&gt;
          initial_state_prop sn
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) sn ej
              tr
      | Existing i =&gt;
          <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
            equivocator_state_project s i =
            Some s0
            ‚àß finite_valid_trace_from_to
                (preloaded_vlsm X seed) s0 ej
                tr
      <span class="kr">end</span></span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project (item :: tl)
    (Existing j) = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a6"><span class="nb">specialize</span> (IHHbtr Hj) <span class="kr">as</span> [tlX [di&#39; [Htl_pr Hdi]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej tlX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project (item :: tl)
    (Existing j) = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a7"><span class="nb">change</span> (item :: tl) <span class="kr">with</span> ([item] ++ tl).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej tlX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project ([item] ++ tl)
    (Existing j) = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a8"><span class="nb">unfold</span> equivocator_vlsm_trace_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej tlX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  foldr
    (<span class="kr">Œª</span> (<span class="nv">item</span> : transition_item) (<span class="nv">result</span> : option
                                            (list
                                               transition_item *
                                             MachineDescriptor
                                               X)),
       <span class="kr">match</span> result <span class="kr">with</span>
       | Some (r, idescriptor) =&gt;
           <span class="kr">match</span>
             equivocator_vlsm_transition_item_project
               item idescriptor
           <span class="kr">with</span>
           | Some (Some item&#39;, odescriptor) =&gt;
               Some (item&#39; :: r, odescriptor)
           | Some (None, odescriptor) =&gt;
               Some (r, odescriptor)
           | None =&gt; None
           <span class="kr">end</span>
       | None =&gt; None
       <span class="kr">end</span>) (Some ([], Existing j)) ([item] ++ tl) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1a9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1a9"><span class="nb">rewrite</span> foldr_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej tlX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  foldr
    (<span class="kr">Œª</span> (<span class="nv">item</span> : transition_item) (<span class="nv">result</span> : option
                                            (list
                                               transition_item *
                                             MachineDescriptor
                                               X)),
       <span class="kr">match</span> result <span class="kr">with</span>
       | Some (r, idescriptor) =&gt;
           <span class="kr">match</span>
             equivocator_vlsm_transition_item_project
               item idescriptor
           <span class="kr">with</span>
           | Some (Some item&#39;, odescriptor) =&gt;
               Some (item&#39; :: r, odescriptor)
           | Some (None, odescriptor) =&gt;
               Some (r, odescriptor)
           | None =&gt; None
           <span class="kr">end</span>
       | None =&gt; None
       <span class="kr">end</span>)
    (foldr
       (<span class="kr">Œª</span> (<span class="nv">item</span> : transition_item) (<span class="nv">result</span> : option
                                               (list
                                                 transition_item *
                                                MachineDescriptor
                                                 X)),
          <span class="kr">match</span> result <span class="kr">with</span>
          | Some (r, idescriptor) =&gt;
              <span class="kr">match</span>
                equivocator_vlsm_transition_item_project
                  item idescriptor
              <span class="kr">with</span>
              | Some (Some item&#39;, odescriptor) =&gt;
                  Some (item&#39; :: r, odescriptor)
              | Some (None, odescriptor) =&gt;
                  Some (r, odescriptor)
              | None =&gt; None
              <span class="kr">end</span>
          | None =&gt; None
          <span class="kr">end</span>) (Some ([], Existing j)) tl) [item] =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1aa" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1aa"><span class="nb">replace</span> (foldr _ _ tl) <span class="kr">with</span> (Some (tlX, di&#39;)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej tlX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  foldr
    (<span class="kr">Œª</span> (<span class="nv">item</span> : transition_item) (<span class="nv">result</span> : option
                                            (list
                                               transition_item *
                                             MachineDescriptor
                                               X)),
       <span class="kr">match</span> result <span class="kr">with</span>
       | Some (r, idescriptor) =&gt;
           <span class="kr">match</span>
             equivocator_vlsm_transition_item_project
               item idescriptor
           <span class="kr">with</span>
           | Some (Some item&#39;, odescriptor) =&gt;
               Some (item&#39; :: r, odescriptor)
           | Some (None, odescriptor) =&gt;
               Some (r, odescriptor)
           | None =&gt; None
           <span class="kr">end</span>
       | None =&gt; None
       <span class="kr">end</span>) (Some (tlX, di&#39;)) [item] = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ab" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ab"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
      equivocator_state_project s i = Some s0
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s0 ej tlX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item di&#39;
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tlX, odescriptor)
  | Some (None, odescriptor) =&gt;
      Some (tlX, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ac" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ac"><span class="nb">destruct</span> di&#39; <span class="kr">as</span> [sn | i]; [<span class="bp">by</span> <span class="nb">eexists</span> _, _ |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">s0</span> : state X,
  equivocator_state_project s i = Some s0
  ‚àß finite_valid_trace_from_to
      (preloaded_vlsm X seed) s0 ej tlX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tlX, odescriptor)
  | Some (None, odescriptor) =&gt;
      Some (tlX, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ad" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ad"><span class="nb">destruct</span> Hdi <span class="kr">as</span> [si [Heqsi HltX]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tlX, odescriptor)
  | Some (None, odescriptor) =&gt;
      Some (tlX, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ae" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ae"><span class="nb">specialize</span> (equivocator_transition_item_project_proper_characterization item (Existing i))
      <span class="kr">as</span> Hchar.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hchar</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing i)
  (destination item)
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
    (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
    equivocator_vlsm_transition_item_project
      item (Existing i) =
    Some (oitem, descriptor&#39;)
    ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
      | Some itemx =&gt;
          (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label
                     X 
                     (VLSM.l item),
             VLSM.l itemx =
             existing_equivocator_label_extract
               X (VLSM.l item) Hex)
          ‚àß input item = input itemx
            ‚àß output item = output itemx
              ‚àß equivocator_state_descriptor_project
                  (destination item)
                  (Existing i) =
                destination itemx
                ‚àß descriptor&#39; =
                  equivocator_label_descriptor
                    (VLSM.l item)
      | None =&gt; <span class="kt">True</span>
      <span class="kr">end</span>
      ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
           valid (VLSM.l item) (s, input item)
           ‚Üí transition 
               (VLSM.l item) (
               s, input item) =
             (destination item, output item)
             ‚Üí proper_descriptor X descriptor&#39;
                 s
               ‚àß previous_state_descriptor_prop
                   (Existing i) s descriptor&#39;
                 ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                   | Some itemx =&gt;
                      <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (VLSM.l itemx)
                      (sx, input itemx)
                      ‚àß 
                      transition
                      (VLSM.l itemx)
                      (sx, input itemx) =
                      (
                      destination itemx,
                      output itemx)
                   | None =&gt;
                      equivocator_state_descriptor_project
                      (destination item)
                      (Existing i) =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                   <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tlX, odescriptor)
  | Some (None, odescriptor) =&gt;
      Some (tlX, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1af" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1af">spec Hchar; [<span class="bp">by</span> <span class="nb">subst</span> item; <span class="nb">cbn</span>; <span class="nb">rewrite</span> Heqsi; <span class="nb">eexists</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hchar</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">oitem</span> : option transition_item) 
  (<span class="nv">descriptor&#39;</span> : MachineDescriptor X),
  equivocator_vlsm_transition_item_project
    item (Existing i) =
  Some (oitem, descriptor&#39;)
  ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
    | Some itemx =&gt;
        (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
                   (VLSM.l item),
           VLSM.l itemx =
           existing_equivocator_label_extract
             X (VLSM.l item) Hex)
        ‚àß input item = input itemx
          ‚àß output item = output itemx
            ‚àß equivocator_state_descriptor_project
                (destination item)
                (Existing i) =
              destination itemx
              ‚àß descriptor&#39; =
                equivocator_label_descriptor
                  (VLSM.l item)
    | None =&gt; <span class="kt">True</span>
    <span class="kr">end</span>
    ‚àß (<span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
         valid (VLSM.l item) (s, input item)
         ‚Üí transition (VLSM.l item)
             (s, input item) =
           (destination item, output item)
           ‚Üí proper_descriptor X descriptor&#39; s
             ‚àß previous_state_descriptor_prop
                 (Existing i) s descriptor&#39;
               ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
                 | Some itemx =&gt;
                     <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                      sx =
                      equivocator_state_descriptor_project
                      s descriptor&#39;
                      ‚Üí 
                      valid 
                      (VLSM.l itemx)
                      (sx, input itemx)
                      ‚àß 
                      transition
                      (VLSM.l itemx)
                      (sx, input itemx) =
                      (
                      destination itemx,
                      output itemx)
                 | None =&gt;
                     equivocator_state_descriptor_project
                      (destination item)
                      (Existing i) =
                     equivocator_state_descriptor_project
                      s descriptor&#39;
                 <span class="kr">end</span>)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tlX, odescriptor)
  | Some (None, odescriptor) =&gt;
      Some (tlX, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b0"><span class="nb">destruct</span> Hchar <span class="kr">as</span> [oitem [descriptor&#39; [Hitem_pr [Hchar1 Hchar2]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item (Existing i) =
Some (oitem, descriptor&#39;)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (VLSM.l item),
       VLSM.l itemx =
       existing_equivocator_label_extract X
         (VLSM.l item) Hex)
    ‚àß input item = input itemx
      ‚àß output item = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination item) 
            (Existing i) = 
          destination itemx
          ‚àß descriptor&#39; =
            equivocator_label_descriptor
              (VLSM.l item)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
  valid (VLSM.l item) (s, input item)
  ‚Üí transition (VLSM.l item) (s, input item) =
    (destination item, output item)
    ‚Üí proper_descriptor X descriptor&#39; s
      ‚àß previous_state_descriptor_prop
          (Existing i) s descriptor&#39;
        ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s descriptor&#39;
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, input itemx) =
                    (destination itemx,
                     output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                (destination item)
                (Existing i) =
              equivocator_state_descriptor_project
                s descriptor&#39;
          <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tlX, odescriptor)
  | Some (None, odescriptor) =&gt;
      Some (tlX, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b1"><span class="nb">rewrite</span> Hitem_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  item (Existing i) =
Some (oitem, descriptor&#39;)</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (VLSM.l item),
       VLSM.l itemx =
       existing_equivocator_label_extract X
         (VLSM.l item) Hex)
    ‚àß input item = input itemx
      ‚àß output item = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination item) 
            (Existing i) = 
          destination itemx
          ‚àß descriptor&#39; =
            equivocator_label_descriptor
              (VLSM.l item)
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s</span> : state (equivocator_vlsm X),
  valid (VLSM.l item) (s, input item)
  ‚Üí transition (VLSM.l item) (s, input item) =
    (destination item, output item)
    ‚Üí proper_descriptor X descriptor&#39; s
      ‚àß previous_state_descriptor_prop
          (Existing i) s descriptor&#39;
        ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s descriptor&#39;
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, input itemx) =
                    (destination itemx,
                     output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                (destination item)
                (Existing i) =
              equivocator_state_descriptor_project
                s descriptor&#39;
          <span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span> oitem <span class="kr">with</span>
  | Some item&#39; =&gt; Some (item&#39; :: tlX, descriptor&#39;)
  | None =&gt; Some (tlX, descriptor&#39;)
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b2"><span class="nb">subst</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">s0</span> : state (equivocator_vlsm X),
  valid
    (VLSM.l
       {|
         l := l;
         input := iom;
         destination := s;
         output := oom
       |})
    (s0,
     input
       {|
         l := l;
         input := iom;
         destination := s;
         output := oom
       |})
  ‚Üí transition
      (VLSM.l
         {|
           l := l;
           input := iom;
           destination := s;
           output := oom
         |})
      (s0,
       input
         {|
           l := l;
           input := iom;
           destination := s;
           output := oom
         |}) =
    (destination
       {|
         l := l;
         input := iom;
         destination := s;
         output := oom
       |},
     output
       {|
         l := l;
         input := iom;
         destination := s;
         output := oom
       |})
    ‚Üí proper_descriptor X descriptor&#39; s0
      ‚àß previous_state_descriptor_prop
          (Existing i) s0 descriptor&#39;
        ‚àß <span class="kr">match</span> oitem <span class="kr">with</span>
          | Some itemx =&gt;
              <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
                sx =
                equivocator_state_descriptor_project
                  s0 descriptor&#39;
                ‚Üí valid 
                    (VLSM.l itemx)
                    (sx, input itemx)
                  ‚àß transition 
                      (VLSM.l itemx)
                      (
                      sx, input itemx) =
                    (destination itemx,
                     output itemx)
          | None =&gt;
              equivocator_state_descriptor_project
                (destination
                   {|
                     l := l;
                     input := iom;
                     destination := s;
                     output := oom
                   |}) 
                (Existing i) =
              equivocator_state_descriptor_project
                s0 descriptor&#39;
          <span class="kr">end</span></span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (VLSM.l
                  {|
                    l := l;
                    input := iom;
                    destination := s;
                    output := oom
                  |}),
       VLSM.l itemx =
       existing_equivocator_label_extract X
         (VLSM.l
            {|
              l := l;
              input := iom;
              destination := s;
              output := oom
            |}) Hex)
    ‚àß input
        {|
          l := l;
          input := iom;
          destination := s;
          output := oom
        |} = input itemx
      ‚àß output
          {|
            l := l;
            input := iom;
            destination := s;
            output := oom
          |} = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination
               {|
                 l := l;
                 input := iom;
                 destination := s;
                 output := oom
               |}) (Existing i) =
          destination itemx
          ‚àß descriptor&#39; =
            equivocator_label_descriptor
              (VLSM.l
                 {|
                   l := l;
                   input := iom;
                   destination := s;
                   output := oom
                 |})
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (oitem, descriptor&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span> oitem <span class="kr">with</span>
  | Some item&#39; =&gt; Some (item&#39; :: tlX, descriptor&#39;)
  | None =&gt; Some (tlX, descriptor&#39;)
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b3"><span class="nb">specialize</span> (Hchar2 _ Hv Ht) <span class="kr">as</span> [Hproper&#39; [Hprevious Hchar2]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    (<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
               (VLSM.l
                  {|
                    l := l;
                    input := iom;
                    destination := s;
                    output := oom
                  |}),
       VLSM.l itemx =
       existing_equivocator_label_extract X
         (VLSM.l
            {|
              l := l;
              input := iom;
              destination := s;
              output := oom
            |}) Hex)
    ‚àß input
        {|
          l := l;
          input := iom;
          destination := s;
          output := oom
        |} = input itemx
      ‚àß output
          {|
            l := l;
            input := iom;
            destination := s;
            output := oom
          |} = output itemx
        ‚àß equivocator_state_descriptor_project
            (destination
               {|
                 l := l;
                 input := iom;
                 destination := s;
                 output := oom
               |}) (Existing i) =
          destination itemx
          ‚àß descriptor&#39; =
            equivocator_label_descriptor
              (VLSM.l
                 {|
                   l := l;
                   input := iom;
                   destination := s;
                   output := oom
                 |})
| None =&gt; <span class="kt">True</span>
<span class="kr">end</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (oitem, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> oitem <span class="kr">with</span>
| Some itemx =&gt;
    <span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
      sx =
      equivocator_state_descriptor_project s&#39;
        descriptor&#39;
      ‚Üí valid (VLSM.l itemx)
          (sx, input itemx)
        ‚àß transition (VLSM.l itemx)
            (sx, input itemx) =
          (destination itemx, output itemx)
| None =&gt;
    equivocator_state_descriptor_project
      (destination
         {|
           l := l;
           input := iom;
           destination := s;
           output := oom
         |}) (Existing i) =
    equivocator_state_descriptor_project s&#39;
      descriptor&#39;
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  <span class="kr">match</span> oitem <span class="kr">with</span>
  | Some item&#39; =&gt; Some (item&#39; :: tlX, descriptor&#39;)
  | None =&gt; Some (tlX, descriptor&#39;)
  <span class="kr">end</span> = Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to
            (preloaded_vlsm X seed) sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project s&#39; i = Some s
          ‚àß finite_valid_trace_from_to
              (preloaded_vlsm X seed) s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b4"><span class="nb">destruct</span> oitem <span class="kr">as</span> [itemX |]; <span class="nb">eexists</span> _, _; <span class="nb">split</span>; [<span class="bp">done</span> | | <span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
           (VLSM.l
              {|
                l := l;
                input := iom;
                destination := s;
                output := oom
              |}),
   VLSM.l itemX =
   existing_equivocator_label_extract X
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := s;
          output := oom
        |}) Hex)
‚àß input
    {|
      l := l;
      input := iom;
      destination := s;
      output := oom
    |} = input itemX
  ‚àß output
      {|
        l := l;
        input := iom;
        destination := s;
        output := oom
      |} = output itemX
    ‚àß equivocator_state_descriptor_project
        (destination
           {|
             l := l;
             input := iom;
             destination := s;
             output := oom
           |}) (Existing i) =
      destination itemX
      ‚àß descriptor&#39; =
        equivocator_label_descriptor
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := s;
               output := oom
             |})</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (Some itemX, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  equivocator_state_descriptor_project s&#39;
    descriptor&#39;
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej (itemX :: tlX)
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej (itemX :: tlX)
<span class="kr">end</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1b5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (None, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>equivocator_state_descriptor_project
  (destination
     {|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |}) (Existing i) =
equivocator_state_descriptor_project s&#39;
  descriptor&#39;</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1b5"><hr></label><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej tlX
<span class="kr">end</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b6"><span class="mi">2</span>: {</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (None, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>equivocator_state_descriptor_project
  (destination
     {|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |}) (Existing i) =
equivocator_state_descriptor_project s&#39;
  descriptor&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej tlX
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b7"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine _ =&gt;
    equivocator_state_n s&#39; ‚â§ i
| Existing id&#39; =&gt; id&#39; ‚â§ i
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s)
  (equivocator_state_project s i) =
equivocator_state_descriptor_project s&#39;
  descriptor&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej tlX
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b8"><span class="nb">rewrite</span> Heqsi <span class="kr">in</span> Hchar2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine _ =&gt;
    equivocator_state_n s&#39; ‚â§ i
| Existing id&#39; =&gt; id&#39; ‚â§ i
<span class="kr">end</span></span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
equivocator_state_descriptor_project s&#39;
  descriptor&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej tlX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej tlX
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1b9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1b9"><span class="nb">destruct</span> descriptor&#39; <span class="kr">as</span> [sn | i&#39;]; <span class="nb">simpl</span> <span class="kr">in</span> Hchar2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si = sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
    sn ej tlX</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1ba" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, Existing i&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing i&#39;) s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1ba"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to 
      (preloaded_vlsm X seed) s ej tlX</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1bb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1bb">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si = sn</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
    sn ej tlX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">subst</span> si.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">         </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1bc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1bc">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, Existing i&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing i&#39;) s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej tlX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1bd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1bd"><span class="nb">destruct</span> Hproper&#39; <span class="kr">as</span> [s&#39;i&#39; Hproper&#39;].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, Existing i&#39;)</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si =
default (equivocator_state_zero s&#39;)
  (equivocator_state_project s&#39; i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej tlX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1be" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1be"><span class="nb">rewrite</span> Hproper&#39; <span class="kr">in</span> Hchar2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, Existing i&#39;)</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si =
default (equivocator_state_zero s&#39;)
  (Some s&#39;i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej tlX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">            </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1bf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1bf"><span class="nb">simpl</span> <span class="kr">in</span> Hchar2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, Existing i&#39;)</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span>si = s&#39;i&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej tlX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c0"><span class="nb">subst</span> s&#39;i&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span><span class="kt">True</span></span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := iom;
                destination := sj;
                output := oom
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, Existing i&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some si</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej tlX</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">si</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c1">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X
           (VLSM.l
              {|
                l := l;
                input := iom;
                destination := s;
                output := oom
              |}),
   VLSM.l itemX =
   existing_equivocator_label_extract X
     (VLSM.l
        {|
          l := l;
          input := iom;
          destination := s;
          output := oom
        |}) Hex)
‚àß input
    {|
      l := l;
      input := iom;
      destination := s;
      output := oom
    |} = input itemX
  ‚àß output
      {|
        l := l;
        input := iom;
        destination := s;
        output := oom
      |} = output itemX
    ‚àß equivocator_state_descriptor_project
        (destination
           {|
             l := l;
             input := iom;
             destination := s;
             output := oom
           |}) (Existing i) =
      destination itemX
      ‚àß descriptor&#39; =
        equivocator_label_descriptor
          (VLSM.l
             {|
               l := l;
               input := iom;
               destination := s;
               output := oom
             |})</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (Some itemX, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  equivocator_state_descriptor_project s&#39;
    descriptor&#39;
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej (itemX :: tlX)
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej (itemX :: tlX)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c2"><span class="nb">simpl</span> <span class="kr">in</span> Hchar1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
   VLSM.l itemX =
   existing_equivocator_label_extract X l Hex)
‚àß iom = input itemX
  ‚àß oom = output itemX
    ‚àß default (equivocator_state_zero s)
        (equivocator_state_project s i) =
      destination itemX
      ‚àß descriptor&#39; =
        equivocator_label_descriptor l</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (Some itemX, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  equivocator_state_descriptor_project s&#39;
    descriptor&#39;
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej (itemX :: tlX)
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej (itemX :: tlX)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c3"><span class="nb">rewrite</span> Heqsi <span class="kr">in</span> Hchar1.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hchar1</var><span class="hyp-type"><b>: </b><span>(<span class="kr">‚àÉ</span> <span class="nv">Hex</span> : existing_equivocator_label X l,
   VLSM.l itemX =
   existing_equivocator_label_extract X l Hex)
‚àß iom = input itemX
  ‚àß oom = output itemX
    ‚àß default (equivocator_state_zero s)
        (Some si) = destination itemX
      ‚àß descriptor&#39; =
        equivocator_label_descriptor l</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (Some itemX, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  equivocator_state_descriptor_project s&#39;
    descriptor&#39;
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej (itemX :: tlX)
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej (itemX :: tlX)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c4"><span class="nb">destruct</span> Hchar1 <span class="kr">as</span> [[Hex Hl] [Heqiom [Hoom [Hsi Hdl]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  iom</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>descriptor'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Heqiom</var><span class="hyp-type"><b>: </b><span>iom = input itemX</span></span></span><br><span><var>Hoom</var><span class="hyp-type"><b>: </b><span>oom = output itemX</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>Hdl</var><span class="hyp-type"><b>: </b><span>descriptor&#39; = equivocator_label_descriptor l</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := iom;
    destination := s;
    output := oom
  |} (Existing i) =
Some (Some itemX, descriptor&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X descriptor&#39; s&#39;</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; descriptor&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  equivocator_state_descriptor_project s&#39;
    descriptor&#39;
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> descriptor&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej (itemX :: tlX)
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej (itemX :: tlX)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c5"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  equivocator_state_descriptor_project s&#39;
    (equivocator_label_descriptor l)
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39;
  (equivocator_label_descriptor l)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X
  (equivocator_label_descriptor l) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some
  (Some itemX,
   equivocator_label_descriptor l)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> equivocator_label_descriptor l <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X seed) sn ej (itemX :: tlX)
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project s&#39; i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X seed) s ej (itemX :: tlX)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c6"><span class="nb">destruct</span> (equivocator_label_descriptor l) <span class="kr">as</span> [sn | i&#39;] <span class="nb">eqn</span>: Hd; <span class="nb">simpl</span> <span class="kr">in</span> Hchar2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx = sn
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
    sn ej (itemX :: tlX)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1c7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i&#39;)
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing i&#39;) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, Existing i&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1c7"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to 
      (preloaded_vlsm X seed) s ej 
      (itemX :: tlX)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c8">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx = sn
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
    sn ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1c9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1c9"><span class="nb">specialize</span> (Hchar2 _ eq_refl) <span class="kr">as</span> [HvX HtX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, NewMachine sn)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid (VLSM.l itemX) (sn, input itemX)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition (VLSM.l itemX) (sn, input itemX) =
(destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
    sn ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ca" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ca"><span class="nb">split</span>; [<span class="nb">apply</span> Hproper&#39; |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, NewMachine sn)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid (VLSM.l itemX) (sn, input itemX)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition (VLSM.l itemX) (sn, input itemX) =
(destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed) sn
  ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1cb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1cb"><span class="nb">destruct</span> itemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l
  (s&#39;,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}) =
(s,
 VLSM.output
   {|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l
  (s&#39;,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |} = existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
VLSM.destination
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |}</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (NewMachine sn)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (NewMachine sn) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input :=
      VLSM.input
        {|
          l := l0;
          input := input;
          destination := destination;
          output := output
        |};
    destination := s;
    output :=
      VLSM.output
        {|
          l := l0;
          input := input;
          destination := destination;
          output := output
        |}
  |} (Existing i) =
Some
  (Some
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (VLSM.l
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})
  (sn,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (VLSM.l
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})
  (sn,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}) =
(VLSM.destination
   {|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |},
 VLSM.output
   {|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed) sn
  ej
  ({|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1cc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1cc"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l0 = existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>si = destination</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid l0 (sn, input)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition l0 (sn, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed) sn
  ej
  ({|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1cd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1cd"><span class="nb">rewrite</span> Heqsi <span class="kr">in</span> Hitem_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l0 = existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>si = destination</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := si;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := si;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid l0 (sn, input)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition l0 (sn, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed) sn
  ej
  ({|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ce" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ce"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (sn, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (sn, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed) sn
  ej
  ({|
     l := existing_equivocator_label_extract X l Hex;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1cf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1cf"><span class="nb">apply</span> (finite_valid_trace_from_to_extend (preloaded_vlsm X seed)); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (sn, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (sn, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (preloaded_vlsm X seed)
  (existing_equivocator_label_extract X l Hex)
  (sn, input) (destination, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d0"><span class="kp">repeat</span> <span class="nb">split</span>; [.. | <span class="bp">done</span> | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (sn, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (sn, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_vlsm X seed) sn</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1d1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (sn, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (sn, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1d1"><hr></label><div class="goal-conclusion">option_valid_message_prop 
  (preloaded_vlsm X seed) input</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d2">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (sn, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (sn, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_vlsm X seed) sn</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> initial_state_is_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d3">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = NewMachine sn</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>equivocator_state_n s&#39; ‚â§ i</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (sn, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (sn, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing i)
| ContinueWith i0 lx =&gt;
    <span class="kr">if</span> decide (i0 = i)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
| ForkWith i0 lx =&gt;
    <span class="kr">if</span>
     decide (i = equivocator_state_last s)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := destination;
            output := output
          |}, Existing i0)
    <span class="kr">else</span> Some (None, Existing i)
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, NewMachine sn)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (preloaded_vlsm X seed)
  input</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> preloaded_with_equivocator_state_project_valid_message.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d4">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  default (equivocator_state_zero s&#39;)
    (equivocator_state_project s&#39; i&#39;)
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Hproper'</var><span class="hyp-type"><b>: </b><span>proper_descriptor X (Existing i&#39;) s&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project s&#39; i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d5"><span class="nb">destruct</span> Hproper&#39; <span class="kr">as</span> [s&#39;i&#39; Heqs&#39;i&#39;]; <span class="nb">rewrite</span> Heqs&#39;i&#39; <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx =
  default (equivocator_state_zero s&#39;)
    (Some s&#39;i&#39;)
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  Some s&#39;i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d6"><span class="nb">simpl</span> <span class="kr">in</span> Hchar2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hchar2</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">sx</span> : state X,
  sx = s&#39;i&#39;
  ‚Üí valid (VLSM.l itemX) (sx, input itemX)
    ‚àß transition (VLSM.l itemX)
        (sx, input itemX) =
      (destination itemX, output itemX)</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  Some s&#39;i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d7"><span class="nb">specialize</span> (Hchar2 _ eq_refl) <span class="kr">as</span> [HvX HtX].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, Existing i&#39;)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid (VLSM.l itemX) (s&#39;i&#39;, input itemX)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition (VLSM.l itemX) (s&#39;i&#39;, input itemX) =
(destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  Some s&#39;i&#39; = Some s
  ‚àß finite_valid_trace_from_to (preloaded_vlsm X seed)
      s ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d8"><span class="nb">eexists</span> _; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, input itemX) =
(s, output itemX)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, input itemX)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (input itemX)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l itemX =
existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
destination itemX</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input itemX;
    destination := s;
    output := output itemX
  |} (Existing i) =
Some (Some itemX, Existing i&#39;)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid (VLSM.l itemX) (s&#39;i&#39;, input itemX)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition (VLSM.l itemX) (s&#39;i&#39;, input itemX) =
(destination itemX, output itemX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed)
  s&#39;i&#39; ej (itemX :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1d9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1d9"><span class="nb">destruct</span> itemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (preloaded_vlsm (equivocator_vlsm X) seed)</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l
  (s&#39;,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}) =
(s,
 VLSM.output
   {|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l
  (s&#39;,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  (VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>VLSM.l
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |} = existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>default (equivocator_state_zero s) (Some si) =
VLSM.destination
  {|
    l := l0;
    input := input;
    destination := destination;
    output := output
  |}</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>previous_state_descriptor_prop
  (Existing i) s&#39; (Existing i&#39;)</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input :=
      VLSM.input
        {|
          l := l0;
          input := input;
          destination := destination;
          output := output
        |};
    destination := s;
    output :=
      VLSM.output
        {|
          l := l0;
          input := input;
          destination := destination;
          output := output
        |}
  |} (Existing i) =
Some
  (Some
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (VLSM.l
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})
  (s&#39;i&#39;,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (VLSM.l
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |})
  (s&#39;i&#39;,
   VLSM.input
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}) =
(VLSM.destination
   {|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |},
 VLSM.output
   {|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |})</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed)
  s&#39;i&#39; ej
  ({|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1da" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1da"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>l0</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) si ej tlX</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>Hl</var><span class="hyp-type"><b>: </b><span>l0 = existing_equivocator_label_extract X l Hex</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>si = destination</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l := l0;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid l0 (s&#39;i&#39;, input)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition l0 (s&#39;i&#39;, input) =
(destination, output)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed)
  s&#39;i&#39; ej
  ({|
     l := l0;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1db" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1db"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to (preloaded_vlsm X seed)
  s&#39;i&#39; ej
  ({|
     l := existing_equivocator_label_extract X l Hex;
     input := input;
     destination := destination;
     output := output
   |} :: tlX)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1dc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1dc"><span class="nb">apply</span> (finite_valid_trace_from_to_extend (preloaded_vlsm X seed)); [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition (preloaded_vlsm X seed)
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) (destination, output)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1dd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1dd"><span class="kp">repeat</span> <span class="nb">split</span>; [.. | <span class="bp">done</span> | <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_vlsm X seed) s&#39;i&#39;</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1de" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1de"><hr></label><div class="goal-conclusion">option_valid_message_prop 
  (preloaded_vlsm X seed) input</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1df" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1df">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop (preloaded_vlsm X seed) s&#39;i&#39;</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> preloaded_with_equivocator_state_project_valid_state.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e0">*</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>seed</var><span class="hyp-type"><b>: </b><span>message ‚Üí <span class="kt">Prop</span></span></span></span><br><span><var>s, f</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm (equivocator_vlsm X) seed) s
  f tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>Hs'</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_vlsm (equivocator_vlsm X) seed) s&#39;</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>equivocator_transition X l (s&#39;, input) =
(s, output)</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>equivocator_valid X l (s&#39;, input)</span></span></span><br><span><var>Hiom</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop
  (preloaded_vlsm (equivocator_vlsm X) seed)
  input</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project f j = Some ej</span></span></span><br><span><var>tlX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Htl_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl
  (Existing j) = Some (tlX, Existing i)</span></span></span><br><span><var>HltX</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X seed) destination ej tlX</span></span></span><br><span><var>Heqsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i =
Some destination</span></span></span><br><span><var>Hex</var><span class="hyp-type"><b>: </b><span>existing_equivocator_label X l</span></span></span><br><span><var>i'</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hd</var><span class="hyp-type"><b>: </b><span>equivocator_label_descriptor l = Existing i&#39;</span></span></span><br><span><var>s'i'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hprevious</var><span class="hyp-type"><b>: </b><span>i&#39; ‚â§ i</span></span></span><br><span><var>Heqs'i'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i&#39; = Some s&#39;i&#39;</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>transition
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input) = (destination, output)</span></span></span><br><span><var>HvX</var><span class="hyp-type"><b>: </b><span>valid
  (existing_equivocator_label_extract X l Hex)
  (s&#39;i&#39;, input)</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s i <span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing i)
    | ContinueWith i0 lx =&gt;
        <span class="kr">if</span> decide (i0 = i)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    | ForkWith i0 lx =&gt;
        <span class="kr">if</span>
         decide
           (i = equivocator_state_last s)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i0)
        <span class="kr">else</span> Some (None, Existing i)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> =
Some
  (Some
     {|
       l :=
         existing_equivocator_label_extract
           X l Hex;
       input := input;
       destination := destination;
       output := output
     |}, Existing i&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop (preloaded_vlsm X seed)
  input</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> preloaded_with_equivocator_state_project_valid_message.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e1"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_trace_project_valid</span>
  (<span class="nv">bs</span> <span class="nv">be</span> : state (equivocator_vlsm X))
  (<span class="nv">btr</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">Hbtr</span> : finite_valid_trace_from_to (equivocator_vlsm X) bs be btr)
  (<span class="nv">j</span> : nat)
  <span class="nv">ej</span>
  (<span class="nv">Hj</span> : equivocator_state_project be j = Some ej)
  : <span class="kr">exists</span>
    (<span class="nv">tr</span> : list (transition_item X))
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project btr (Existing j) = Some (tr, di) /\
    <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
      initial_state_prop X sn
      /\ finite_valid_trace_from_to X sn ej tr
    | Existing i =&gt;
      <span class="kr">exists</span> <span class="nv">s</span>, equivocator_state_project bs i = Some s /\
      finite_valid_trace_from_to X s ej tr
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to 
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_valid_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to 
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_valid_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e3"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from_to
    (proj1 (vlsm_is_preloaded_with_False (equivocator_vlsm X)))) <span class="kr">in</span> Hbtr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_valid_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e4"><span class="nb">specialize</span> (preloaded_with_equivocator_vlsm_trace_project_valid _ _ _ _ Hbtr _ _ Hj)
    <span class="kr">as</span> [tr [di [Hbtr_pr Hdi]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, di)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
        sn ej tr
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project bs i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X
             (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s ej tr
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_valid_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_valid_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e5"><span class="nb">eexists</span> _, _; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, di)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
        sn ej tr
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project bs i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X
             (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s ej tr
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to X sn ej tr
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project bs i = Some s
      ‚àß finite_valid_trace_from_to X s ej tr
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e6"><span class="nb">destruct</span> di <span class="kr">as</span> [sn | i].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn
‚àß finite_valid_trace_from_to
    (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) sn
    ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to X sn ej tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1e7" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to
      (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
      s ej tr</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1e7"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to X s ej tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e8">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn
‚àß finite_valid_trace_from_to
    (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) sn
    ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to X sn ej tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1e9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1e9"><span class="nb">destruct</span> Hdi <span class="kr">as</span> [Hsn Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hsn</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) sn
  ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_valid_trace_from_to X sn ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ea" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ea"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hsn</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) sn
  ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X sn ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1eb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1eb"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from_to (proj2
      (vlsm_is_preloaded_with_False X))) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hsn</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := X;
        vlsm_machine :=
          preloaded_vlsm X
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |};
    vlsm_machine :=
      {| vlsm_type := X; vlsm_machine := X |}
  |} sn ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X sn ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">clear</span> -Htr; <span class="nb">destruct</span> X.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ec" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ec">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to
      (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>))
      s ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to X s ej tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ed" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ed"><span class="nb">destruct</span> Hdi <span class="kr">as</span> [s [Hpr_bs_i Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr_bs_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project bs i = Some s</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s ej
  tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to X s ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ee" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ee"><span class="nb">eexists</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr_bs_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project bs i = Some s</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)) s ej
  tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ef" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ef"><span class="nb">apply</span> (VLSM_incl_finite_valid_trace_from_to (proj2 (vlsm_is_preloaded_with_False X)))
      <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine := equivocator_vlsm X
      |};
    vlsm_machine :=
      {|
        vlsm_type := equivocator_vlsm X;
        vlsm_machine :=
          preloaded_vlsm 
            (equivocator_vlsm X)
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |}
  |} bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr_bs_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project bs i = Some s</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  {|
    vlsm_type :=
      {|
        vlsm_type := X;
        vlsm_machine :=
          preloaded_vlsm X
            (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">False</span>)
      |};
    vlsm_machine :=
      {| vlsm_type := X; vlsm_machine := X |}
  |} s ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from_to X s ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">clear</span> -Htr; <span class="nb">destruct</span> X.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  The projection of a segment of a valid trace from the <span class="inlinecode"><span class="id" title="var">preloaded_with_all_messages_vlsm</span></span>
  corresponding to the <span class="inlinecode"><span class="id" title="var">equivocator_vlsm</span></span> is defined and it is a valid
  trace segment in the <span class="inlinecode"><span class="id" title="var">preloaded_with_all_messages_vlsm</span></span> corresponding to the original vlsm.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f0"><span class="kn">Lemma</span> <span class="nf">preloaded_equivocator_vlsm_trace_project_valid</span>
  (<span class="nv">bs</span> <span class="nv">be</span> : state (equivocator_vlsm X))
  (<span class="nv">btr</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">Hbtr</span> : finite_constrained_trace_from_to (equivocator_vlsm X) bs be btr)
  (<span class="nv">j</span> : nat)
  <span class="nv">ej</span>
  (<span class="nv">Hj</span> : equivocator_state_project be j = Some ej)
  : <span class="kr">exists</span>
    (<span class="nv">tr</span> : list (transition_item X))
    (<span class="nv">di</span> : MachineDescriptor X),
    equivocator_vlsm_trace_project btr (Existing j) = Some (tr, di) /\
    <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
      initial_state_prop X sn
      /\ finite_constrained_trace_from_to X sn ej tr
    | Existing i =&gt;
      <span class="kr">exists</span> <span class="nv">s</span>, equivocator_state_project bs i = Some s /\
      finite_constrained_trace_from_to X s ej tr
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_constrained_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_constrained_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f1"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_constrained_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_constrained_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f2"><span class="nb">specialize</span> (preloaded_with_equivocator_vlsm_trace_project_valid _ _ _ _ Hbtr _ _ Hj)
    <span class="kr">as</span> [tr [di [Hbtr_pr Hdi]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, di)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))
        sn ej tr
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project bs i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X
             (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) s ej tr
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">tr</span> : list transition_item) (<span class="nv">di</span> : MachineDescriptor
                                      X),
  equivocator_vlsm_trace_project btr (Existing j) =
  Some (tr, di)
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        initial_state_prop sn
        ‚àß finite_constrained_trace_from_to X sn ej tr
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
          equivocator_state_project bs i = Some s
          ‚àß finite_constrained_trace_from_to X s ej tr
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f3"><span class="nb">eexists</span> _, _; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, di)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_valid_trace_from_to
        (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>))
        sn ej tr
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project bs i = Some s
      ‚àß finite_valid_trace_from_to
          (preloaded_vlsm X
             (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) s ej tr
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_constrained_trace_from_to X sn ej tr
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project bs i = Some s
      ‚àß finite_constrained_trace_from_to X s ej tr
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f4"><span class="nb">destruct</span> di <span class="kr">as</span> [sn | i].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn
‚àß finite_valid_trace_from_to
    (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) sn
    ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_constrained_trace_from_to X sn ej tr</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk1f5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to
      (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) s
      ej tr</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk1f5"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_constrained_trace_from_to X s ej tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f6">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, NewMachine sn)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span>initial_state_prop sn
‚àß finite_valid_trace_from_to
    (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) sn
    ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop sn
‚àß finite_constrained_trace_from_to X sn ej tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> Hdi <span class="kr">as</span> [Hsn Htr].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f7">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_valid_trace_from_to
      (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) s
      ej tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_constrained_trace_from_to X s ej tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f8"><span class="nb">destruct</span> Hdi <span class="kr">as</span> [s [Hpr_bs_i Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs, be</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) bs be btr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>ej</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project be j = Some ej</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Hbtr_pr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project btr
  (Existing j) = Some (tr, Existing i)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hpr_bs_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project bs i = Some s</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_vlsm X (<span class="kr">Œª</span> <span class="nv">_</span> : message, <span class="kt">True</span>)) s ej
  tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project bs i = Some s
  ‚àß finite_constrained_trace_from_to X s ej tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  If <span class="inlinecode"><span class="id" title="var">equivocator_vlsm_trace_project</span></span> does not fail, then the index of the
  machine descriptor is valid for the last state of the trace argument.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1f9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1f9"><span class="kn">Lemma</span> <span class="nf">equivocator_vlsm_trace_project_inv</span>
  (<span class="nv">tr</span> : list transition_item)
  (<span class="nv">Hntr</span> : tr &lt;&gt; [])
  (<span class="nv">j</span> : nat)
  (<span class="nv">HtrX</span> : is_Some (equivocator_vlsm_trace_project tr (Existing j)))
  (<span class="nv">is</span> : state (equivocator_vlsm X))
  : <span class="kr">exists</span> <span class="nv">sj</span>, equivocator_state_project (finite_trace_last <span class="kr">is</span> tr) j = Some sj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_vlsm_trace_project tr
     (Existing j))</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (finite_trace_last <span class="kr">is</span> tr)
    j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1fa" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1fa"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_vlsm_trace_project tr
     (Existing j))</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (finite_trace_last <span class="kr">is</span> tr)
    j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1fb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1fb"><span class="nb">apply</span> exists_last <span class="kr">in</span> Hntr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>{l&#39; : list transition_item &amp;
{a : transition_item | tr = l&#39; ++ [a]}}</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_vlsm_trace_project tr
     (Existing j))</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (finite_trace_last <span class="kr">is</span> tr)
    j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1fc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1fc"><span class="nb">destruct</span> Hntr <span class="kr">as</span> [suffix [x Heq]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>tr, suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>tr = suffix ++ [x]</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_vlsm_trace_project tr
     (Existing j))</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (finite_trace_last <span class="kr">is</span> tr)
    j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1fd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1fd"><span class="nb">subst</span> tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_vlsm_trace_project
     (suffix ++ [x]) (Existing j))</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (finite_trace_last <span class="kr">is</span> (suffix ++ [x])) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1fe" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1fe"><span class="nb">destruct</span> HtrX <span class="kr">as</span> [p Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>p</var><span class="hyp-type"><b>: </b><span>(list transition_item * MachineDescriptor X)%type</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project 
  (suffix ++ [x]) (Existing j) = 
Some p</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (finite_trace_last <span class="kr">is</span> (suffix ++ [x])) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk1ff" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk1ff"><span class="nb">destruct</span> p <span class="kr">as</span> (trX, d).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project 
  (suffix ++ [x]) (Existing j) = 
Some (trX, d)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (finite_trace_last <span class="kr">is</span> (suffix ++ [x])) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk200" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk200"><span class="nb">apply</span> equivocator_vlsm_trace_project_app <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> (<span class="nv">dmiddle</span> : MachineDescriptor X) 
  (<span class="nv">prefix</span> <span class="nv">suffix0</span> : list transition_item) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project suffix
         dmiddle = Some (prefix, d)) 
  (<span class="nv">_</span> : equivocator_vlsm_trace_project [x]
         (Existing j) = 
       Some (suffix0, dmiddle)),
  trX = prefix ++ suffix0</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (finite_trace_last <span class="kr">is</span> (suffix ++ [x])) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk201" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk201"><span class="nb">destruct</span> Htr <span class="kr">as</span> [dmiddle [_ [lx [_ [Hx _]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [x] (Existing j) =
Some (lx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (finite_trace_last <span class="kr">is</span> (suffix ++ [x])) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk202" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk202"><span class="nb">rewrite</span> finite_trace_last_is_last.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [x] (Existing j) =
Some (lx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk203" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk203"><span class="nb">remember</span> (Existing j) <span class="kr">as</span> dj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project [x] dj =
Some (lx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk204" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk204"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_vlsm_transition_item_project x dj
<span class="kr">with</span>
| Some (Some item&#39;, odescriptor) =&gt;
    Some ([item&#39;], odescriptor)
| Some (None, odescriptor) =&gt;
    Some ([], odescriptor)
| None =&gt; None
<span class="kr">end</span> = Some (lx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk205" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk205"><span class="nb">destruct</span> (equivocator_vlsm_transition_item_project x dj)
    <span class="kr">as</span> [(_x, _dmiddle) |]
    <span class="nb">eqn</span>: Hx&#39;
  ; [| <span class="bp">by</span> <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>lx</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>_x</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>_dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x dj =
Some (_x, _dmiddle)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> _x <span class="kr">with</span>
| Some item&#39; =&gt; Some ([item&#39;], _dmiddle)
| None =&gt; Some ([], _dmiddle)
<span class="kr">end</span> = Some (lx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk206" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk206"><span class="nb">destruct</span> _x <span class="kr">as</span> [itemx |]; <span class="nb">inversion</span> Hx; <span class="nb">subst</span> lx _dmiddle; <span class="nb">clear</span> Hx.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle, dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x dj =
Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk207" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle, dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x dj =
Some (None, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk207"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk208" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk208">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle, dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x dj =
Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk209" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk209"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x
  (Existing j) = Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20a"><span class="nb">destruct</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_type X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_type X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} (Existing j) = Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (VLSM.destination
       {|
         l := l;
         input := input;
         destination := destination;
         output := output
       |}) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20b"><span class="nb">unfold</span> equivocator_vlsm_transition_item_project <span class="kr">in</span> Hx&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_type X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_type X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination j
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing j)
    | ContinueWith i lx =&gt;
        <span class="kr">if</span> decide (i = j)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    | ForkWith i lx =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (VLSM.destination
       {|
         l := l;
         input := input;
         destination := destination;
         output := output
       |}) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20c"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_type X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_type X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination j
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing j)
    | ContinueWith i lx =&gt;
        <span class="kr">if</span> decide (i = j)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    | ForkWith i lx =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project destination j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20d"><span class="nb">destruct</span> (equivocator_state_project destination j); [| <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_type X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_type X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing j)
| ContinueWith i lx =&gt;
    <span class="kr">if</span> decide (i = j)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
| ForkWith i lx =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
<span class="kr">end</span> = Some (Some itemx, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X, Some s = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle, dj</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Heqdj</var><span class="hyp-type"><b>: </b><span>dj = Existing j</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x dj =
Some (None, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk20f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk20f"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project x
  (Existing j) = Some (None, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project (destination x) j =
  Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk210" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk210"><span class="nb">destruct</span> x.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (equivocator_type X)</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>state (equivocator_type X)</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project
  {|
    l := l;
    input := input;
    destination := destination;
    output := output
  |} (Existing j) = Some (None, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project
    (VLSM.destination
       {|
         l := l;
         input := input;
         destination := destination;
         output := output
       |}) j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk211" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk211"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span>
  equivocator_state_project destination j
<span class="kr">with</span>
| Some sj =&gt;
    <span class="kr">match</span> l <span class="kr">with</span>
    | Spawn sn =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span> Some (None, NewMachine sn)
        <span class="kr">else</span> Some (None, Existing j)
    | ContinueWith i lx =&gt;
        <span class="kr">if</span> decide (i = j)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    | ForkWith i lx =&gt;
        <span class="kr">if</span>
         decide
           (j =
            equivocator_state_last destination)
        <span class="kr">then</span>
         Some
           (Some
              {|
                l := lx;
                input := input;
                destination := sj;
                output := output
              |}, Existing i)
        <span class="kr">else</span> Some (None, Existing j)
    <span class="kr">end</span>
| None =&gt; None
<span class="kr">end</span> = Some (None, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
  equivocator_state_project destination j = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk212" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk212"><span class="nb">destruct</span> (equivocator_state_project destination j); [| <span class="bp">congruence</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>suffix</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>EquivocatorLabel X</span></span></span><br><span><var>input</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>destination</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br><span><var>output</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>d, dmiddle</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hx'</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> l <span class="kr">with</span>
| Spawn sn =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span> Some (None, NewMachine sn)
    <span class="kr">else</span> Some (None, Existing j)
| ContinueWith i lx =&gt;
    <span class="kr">if</span> decide (i = j)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
| ForkWith i lx =&gt;
    <span class="kr">if</span>
     decide
       (j = equivocator_state_last destination)
    <span class="kr">then</span>
     Some
       (Some
          {|
            l := lx;
            input := input;
            destination := s;
            output := output
          |}, Existing i)
    <span class="kr">else</span> Some (None, Existing j)
<span class="kr">end</span> = Some (None, dmiddle)</span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>Equivocators.bounded_state_copies X</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X, Some s = Some sj</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Projecting a valid trace segment on an index which is valid for the
  first state of the trace does not fail and yields the same index.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk213" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk213"><span class="kn">Lemma</span> <span class="nf">preloaded_equivocator_vlsm_trace_project_valid_inv</span>
  (<span class="nv">bs</span> : state (equivocator_vlsm X))
  (<span class="nv">btr</span> : list (transition_item (equivocator_vlsm X)))
  (<span class="nv">Hbtr</span> : finite_constrained_trace_from (equivocator_vlsm X) bs btr)
  (<span class="nv">i</span> : nat)
  <span class="nv">si</span>
  (<span class="nv">Hi</span> : equivocator_state_project bs i = Some si)
  : <span class="kr">exists</span>
    (<span class="nv">tr</span> : list (transition_item X)),
    equivocator_vlsm_trace_project btr (Existing i) = Some (tr, Existing i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from
  (equivocator_vlsm X) bs btr</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project bs i = Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project btr (Existing i) =
  Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk214" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk214"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from
  (equivocator_vlsm X) bs btr</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project bs i = Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project btr (Existing i) =
  Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk215" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk215"><span class="nb">revert</span> i si Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from
  (equivocator_vlsm X) bs btr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project bs i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project btr (Existing i) =
      Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk216" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk216"><span class="nb">induction</span> Hbtr; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project [] (Existing i) =
  Some (tr, Existing i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk217" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) l (
  s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk217"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project
    ({|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |} :: tl) (Existing i) = 
  Some (tr, Existing i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk218" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk218">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project [] (Existing i) =
  Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk219" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk219">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) l (
  s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project
    ({|
       l := l;
       input := iom;
       destination := s;
       output := oom
     |} :: tl) (Existing i) = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21a"><span class="nb">remember</span> {| l := l; input := iom; destination := s; output := oom |} <span class="kr">as</span> item.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) l (
  s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  equivocator_vlsm_trace_project (item :: tl)
    (Existing i) = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21b"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) l (
  s&#39;, iom) (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_trace_project tl (Existing i)
  <span class="kr">with</span>
  | Some (r, idescriptor) =&gt;
      <span class="kr">match</span>
        equivocator_vlsm_transition_item_project item
          idescriptor
      <span class="kr">with</span>
      | Some (Some item&#39;, odescriptor) =&gt;
          Some (item&#39; :: r, odescriptor)
      | Some (None, odescriptor) =&gt;
          Some (r, odescriptor)
      | None =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21c"><span class="nb">destruct</span> Ht <span class="kr">as</span> [[_ [_ Hv]] Ht].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_trace_project tl (Existing i)
  <span class="kr">with</span>
  | Some (r, idescriptor) =&gt;
      <span class="kr">match</span>
        equivocator_vlsm_transition_item_project item
          idescriptor
      <span class="kr">with</span>
      | Some (Some item&#39;, odescriptor) =&gt;
          Some (item&#39; :: r, odescriptor)
      | Some (None, odescriptor) =&gt;
          Some (r, odescriptor)
      | None =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21d"><span class="nb">specialize</span>
      (equivocator_valid_transition_project_inv4 l s s&#39; iom oom Hv Ht i)
      <span class="kr">as</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si&#39;</span> : state X,
  equivocator_state_project s&#39; i = Some si&#39;
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
      equivocator_state_project s i = Some si
      ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
           equivocator_vlsm_transition_item_project
             {|
               l := l;
               input := iom;
               destination := s;
               output := oom
             |} (Existing i) =
           Some (oitem, Existing i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_trace_project tl (Existing i)
  <span class="kr">with</span>
  | Some (r, idescriptor) =&gt;
      <span class="kr">match</span>
        equivocator_vlsm_transition_item_project item
          idescriptor
      <span class="kr">with</span>
      | Some (Some item&#39;, odescriptor) =&gt;
          Some (item&#39; :: r, odescriptor)
      | Some (None, odescriptor) =&gt;
          Some (r, odescriptor)
      | None =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21e"><span class="nb">replace</span>
      {| input := iom |}
      <span class="kr">with</span> item <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">si&#39;</span> : state X,
  equivocator_state_project s&#39; i = Some si&#39;
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">si</span> : state X,
      equivocator_state_project s i = Some si
      ‚àß (<span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
           equivocator_vlsm_transition_item_project
             item (Existing i) =
           Some (oitem, Existing i))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_trace_project tl (Existing i)
  <span class="kr">with</span>
  | Some (r, idescriptor) =&gt;
      <span class="kr">match</span>
        equivocator_vlsm_transition_item_project item
          idescriptor
      <span class="kr">with</span>
      | Some (Some item&#39;, odescriptor) =&gt;
          Some (item&#39; :: r, odescriptor)
      | Some (None, odescriptor) =&gt;
          Some (r, odescriptor)
      | None =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk21f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk21f"><span class="nb">specialize</span> (Hitem _ Hi) <span class="kr">as</span> [si&#39; [Hsi&#39; Hitem]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>IHHbtr</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">i</span> : nat) (<span class="nv">si</span> : state X),
  equivocator_state_project s i = Some si
  ‚Üí <span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
      equivocator_vlsm_trace_project tl
        (Existing i) = 
      Some (tr, Existing i)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  equivocator_vlsm_transition_item_project
    item (Existing i) =
  Some (oitem, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_trace_project tl (Existing i)
  <span class="kr">with</span>
  | Some (r, idescriptor) =&gt;
      <span class="kr">match</span>
        equivocator_vlsm_transition_item_project item
          idescriptor
      <span class="kr">with</span>
      | Some (Some item&#39;, odescriptor) =&gt;
          Some (item&#39; :: r, odescriptor)
      | Some (None, odescriptor) =&gt;
          Some (r, odescriptor)
      | None =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk220" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk220"><span class="nb">specialize</span> (IHHbtr i si&#39; Hsi&#39;) <span class="kr">as</span> [tr Htr].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  equivocator_vlsm_transition_item_project
    item (Existing i) =
  Some (oitem, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_trace_project tl (Existing i)
  <span class="kr">with</span>
  | Some (r, idescriptor) =&gt;
      <span class="kr">match</span>
        equivocator_vlsm_transition_item_project item
          idescriptor
      <span class="kr">with</span>
      | Some (Some item&#39;, odescriptor) =&gt;
          Some (item&#39; :: r, odescriptor)
      | Some (None, odescriptor) =&gt;
          Some (r, odescriptor)
      | None =&gt; None
      <span class="kr">end</span>
  | None =&gt; None
  <span class="kr">end</span> = Some (tr, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk221" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk221"><span class="nb">rewrite</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">oitem</span> : option transition_item,
  equivocator_vlsm_transition_item_project
    item (Existing i) =
  Some (oitem, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tr, odescriptor)
  | Some (None, odescriptor) =&gt; Some (tr, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr0, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk222" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk222"><span class="nb">destruct</span> Hitem <span class="kr">as</span> [oitem Hoitem].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>Hoitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (oitem, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  <span class="kr">match</span>
    equivocator_vlsm_transition_item_project item
      (Existing i)
  <span class="kr">with</span>
  | Some (Some item&#39;, odescriptor) =&gt;
      Some (item&#39; :: tr, odescriptor)
  | Some (None, odescriptor) =&gt; Some (tr, odescriptor)
  | None =&gt; None
  <span class="kr">end</span> = Some (tr0, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk223" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk223"><span class="nb">rewrite</span> Hoitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>oitem</var><span class="hyp-type"><b>: </b><span>option transition_item</span></span></span><br><span><var>Hoitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (oitem, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  <span class="kr">match</span> oitem <span class="kr">with</span>
  | Some item&#39; =&gt; Some (item&#39; :: tr, Existing i)
  | None =&gt; Some (tr, Existing i)
  <span class="kr">end</span> = Some (tr0, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk224" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk224"><span class="nb">destruct</span> oitem <span class="kr">as</span> [itemx |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hoitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) =
Some (Some itemx, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  Some (itemx :: tr, Existing i) =
  Some (tr0, Existing i)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk225" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>Hoitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (None, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk225"><hr></label><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  Some (tr, Existing i) = Some (tr0, Existing i)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk226" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk226">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>itemx</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Hoitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) =
Some (Some itemx, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  Some (itemx :: tr, Existing i) =
  Some (tr0, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> (<span class="nv">itemx</span> :: tr).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk227" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk227">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tl</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X)) s tl</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>valid l (s&#39;, iom)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>transition l (s&#39;, iom) = (s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s&#39; i = Some si</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>Heqitem</var><span class="hyp-type"><b>: </b><span>item =
{|
  l := l;
  input := iom;
  destination := s;
  output := oom
|}</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hsi'</var><span class="hyp-type"><b>: </b><span>equivocator_state_project s i = Some si&#39;</span></span></span><br><span><var>Hoitem</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_transition_item_project item
  (Existing i) = Some (None, Existing i)</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tl (Existing i) =
Some (tr, Existing i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">tr0</span> : list transition_item,
  Some (tr, Existing i) = Some (tr0, Existing i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">tr</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
An inversion lemma about projections of a valid trace. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk228" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk228"><span class="kn">Lemma</span> <span class="nf">preloaded_equivocator_vlsm_valid_trace_project_inv2</span>
  (<span class="nv">is</span> <span class="nv">fs</span> : state (preloaded_with_all_messages_vlsm (equivocator_vlsm X)))
  (<span class="nv">tr</span> : list transition_item)
  (<span class="nv">Hntr</span> : tr &lt;&gt; [])
  (<span class="nv">Htr</span> : finite_constrained_trace_from_to (equivocator_vlsm X) <span class="kr">is</span> fs tr)
  (<span class="nv">j</span> : nat)
  (<span class="nv">di</span> : MachineDescriptor X)
  (<span class="nv">trX</span> : list (transition_item X))
  (<span class="nv">HtrX</span> : equivocator_vlsm_trace_project tr (Existing j) = Some (trX, di))
  : <span class="kr">exists</span> <span class="nv">fsj</span>, equivocator_state_project fs j = Some fsj /\
    <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
      finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
      <span class="kr">exists</span> <span class="nv">isi</span>, equivocator_state_project <span class="kr">is</span> i = Some isi /\
      finite_constrained_trace_from_to X isi fsj trX /\
      (initial_state_prop (preloaded_with_all_messages_vlsm (equivocator_vlsm X)) <span class="kr">is</span> -&gt;
        initial_state_prop (preloaded_with_all_messages_vlsm X) isi)
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">fsj</span> : state X,
  equivocator_state_project fs j = Some fsj
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
          equivocator_state_project <span class="kr">is</span> i = Some isi
          ‚àß finite_constrained_trace_from_to X isi fsj
              trX
            ‚àß (initial_state_prop <span class="kr">is</span>
               ‚Üí initial_state_prop isi)
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk229" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk229"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">fsj</span> : state X,
  equivocator_state_project fs j = Some fsj
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
          equivocator_state_project <span class="kr">is</span> i = Some isi
          ‚àß finite_constrained_trace_from_to X isi fsj
              trX
            ‚àß (initial_state_prop <span class="kr">is</span>
               ‚Üí initial_state_prop isi)
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22a"><span class="nb">specialize</span> (equivocator_vlsm_trace_project_inv _ Hntr j) <span class="kr">as</span> Hj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span>is_Some
  (equivocator_vlsm_trace_project tr (Existing j))
‚Üí <span class="kr">‚àÄ</span> <span class="nv">is</span> : state (equivocator_vlsm X),
    <span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
      equivocator_state_project
        (finite_trace_last <span class="kr">is</span> tr) j = 
      Some sj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">fsj</span> : state X,
  equivocator_state_project fs j = Some fsj
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
          equivocator_state_project <span class="kr">is</span> i = Some isi
          ‚àß finite_constrained_trace_from_to X isi fsj
              trX
            ‚àß (initial_state_prop <span class="kr">is</span>
               ‚Üí initial_state_prop isi)
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22b">spec Hj; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>Hj</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">is</span> : state (equivocator_vlsm X),
  <span class="kr">‚àÉ</span> <span class="nv">sj</span> : state X,
    equivocator_state_project
      (finite_trace_last <span class="kr">is</span> tr) j = 
    Some sj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">fsj</span> : state X,
  equivocator_state_project fs j = Some fsj
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
          equivocator_state_project <span class="kr">is</span> i = Some isi
          ‚àß finite_constrained_trace_from_to X isi fsj
              trX
            ‚àß (initial_state_prop <span class="kr">is</span>
               ‚Üí initial_state_prop isi)
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22c"><span class="nb">specialize</span> (Hj <span class="kr">is</span>) <span class="kr">as</span> [fsj Hfsj].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project
  (finite_trace_last <span class="kr">is</span> tr) j = 
Some fsj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">fsj</span> : state X,
  equivocator_state_project fs j = Some fsj
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
          equivocator_state_project <span class="kr">is</span> i = Some isi
          ‚àß finite_constrained_trace_from_to X isi fsj
              trX
            ‚àß (initial_state_prop <span class="kr">is</span>
               ‚Üí initial_state_prop isi)
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22d"><span class="nb">replace</span> (finite_trace_last _ _) <span class="kr">with</span> fs <span class="kr">in</span> Hfsj
    <span class="bp">by</span> (<span class="nb">symmetry</span>; <span class="nb">red</span> <span class="kr">in</span> Htr; <span class="nb">apply</span> valid_trace_get_last <span class="kr">in</span> Htr; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">fsj</span> : state X,
  equivocator_state_project fs j = Some fsj
  ‚àß <span class="kr">match</span> di <span class="kr">with</span>
    | NewMachine sn =&gt;
        finite_constrained_trace_init_to X sn fsj trX
    | Existing i =&gt;
        <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
          equivocator_state_project <span class="kr">is</span> i = Some isi
          ‚àß finite_constrained_trace_from_to X isi fsj
              trX
            ‚àß (initial_state_prop <span class="kr">is</span>
               ‚Üí initial_state_prop isi)
    <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22e"><span class="kr">exists</span> <span class="nv">fsj</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project fs j = Some fsj
‚àß <span class="kr">match</span> di <span class="kr">with</span>
  | NewMachine sn =&gt;
      finite_constrained_trace_init_to X sn fsj trX
  | Existing i =&gt;
      <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
        equivocator_state_project <span class="kr">is</span> i = Some isi
        ‚àß finite_constrained_trace_from_to X isi fsj
            trX
          ‚àß (initial_state_prop <span class="kr">is</span>
             ‚Üí initial_state_prop isi)
  <span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk22f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk22f"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    finite_constrained_trace_init_to X sn fsj trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some isi
      ‚àß finite_constrained_trace_from_to X isi fsj trX
        ‚àß (initial_state_prop <span class="kr">is</span>
           ‚Üí initial_state_prop isi)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk230" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk230"><span class="nb">specialize</span>
    (preloaded_equivocator_vlsm_trace_project_valid _ _ _ Htr _ _ Hfsj)
    <span class="kr">as</span> [trX&#39; [di&#39; [HtrX&#39; Hdi]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX&#39;, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_constrained_trace_from_to X sn fsj
        trX&#39;
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some s
      ‚àß finite_constrained_trace_from_to X s fsj
          trX&#39;
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    finite_constrained_trace_init_to X sn fsj trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some isi
      ‚àß finite_constrained_trace_from_to X isi fsj trX
        ‚àß (initial_state_prop <span class="kr">is</span>
           ‚Üí initial_state_prop isi)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk231" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk231"><span class="nb">rewrite</span> HtrX <span class="kr">in</span> HtrX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>Some (trX, di) = Some (trX&#39;, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_constrained_trace_from_to X sn fsj
        trX&#39;
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some s
      ‚àß finite_constrained_trace_from_to X s fsj
          trX&#39;
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    finite_constrained_trace_init_to X sn fsj trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some isi
      ‚àß finite_constrained_trace_from_to X isi fsj trX
        ‚àß (initial_state_prop <span class="kr">is</span>
           ‚Üí initial_state_prop isi)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk232" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk232"><span class="nb">inversion</span> HtrX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>trX'</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>di'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>Some (trX, di) = Some (trX&#39;, di&#39;)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_constrained_trace_from_to X sn fsj
        trX&#39;
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some s
      ‚àß finite_constrained_trace_from_to X s fsj
          trX&#39;
<span class="kr">end</span></span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>trX = trX&#39;</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>di = di&#39;</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di&#39; <span class="kr">with</span>
| NewMachine sn =&gt;
    finite_constrained_trace_init_to X sn fsj trX&#39;
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some isi
      ‚àß finite_constrained_trace_from_to X isi fsj
          trX&#39;
        ‚àß (initial_state_prop <span class="kr">is</span>
           ‚Üí initial_state_prop isi)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk233" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk233"><span class="nb">subst</span> di&#39; trX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>Some (trX, di) = Some (trX, di)</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_constrained_trace_from_to X sn fsj
        trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some s
      ‚àß finite_constrained_trace_from_to X s fsj
          trX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    finite_constrained_trace_init_to X sn fsj trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some isi
      ‚àß finite_constrained_trace_from_to X isi fsj trX
        ‚àß (initial_state_prop <span class="kr">is</span>
           ‚Üí initial_state_prop isi)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">  </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk234" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk234"><span class="nb">clear</span> HtrX&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>di</var><span class="hyp-type"><b>: </b><span>MachineDescriptor X</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, di)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    initial_state_prop sn
    ‚àß finite_constrained_trace_from_to X sn fsj
        trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some s
      ‚àß finite_constrained_trace_from_to X s fsj
          trX
<span class="kr">end</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> di <span class="kr">with</span>
| NewMachine sn =&gt;
    finite_constrained_trace_init_to X sn fsj trX
| Existing i =&gt;
    <span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
      equivocator_state_project <span class="kr">is</span> i = Some isi
      ‚àß finite_constrained_trace_from_to X isi fsj trX
        ‚àß (initial_state_prop <span class="kr">is</span>
           ‚Üí initial_state_prop isi)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk235" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk235"><span class="nb">destruct</span> di <span class="kr">as</span> [sn | n]; <span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">apply</span> Hdi.. |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, Existing n)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>Hdi</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">s</span> : state X,
  equivocator_state_project <span class="kr">is</span> n = Some s
  ‚àß finite_constrained_trace_from_to X s fsj trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
  equivocator_state_project <span class="kr">is</span> n = Some isi
  ‚àß finite_constrained_trace_from_to X isi fsj trX
    ‚àß (initial_state_prop <span class="kr">is</span> ‚Üí initial_state_prop isi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk236" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk236"><span class="nb">destruct</span> Hdi <span class="kr">as</span> [isi [Hisi HtrX&#39;]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, Existing n)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>isi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hisi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project <span class="kr">is</span> n = Some isi</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to X isi fsj trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> <span class="nv">isi</span> : state X,
  equivocator_state_project <span class="kr">is</span> n = Some isi
  ‚àß finite_constrained_trace_from_to X isi fsj trX
    ‚àß (initial_state_prop <span class="kr">is</span> ‚Üí initial_state_prop isi)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk237" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk237"><span class="kr">exists</span> <span class="nv">isi</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, Existing n)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>isi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hisi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project <span class="kr">is</span> n = Some isi</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to X isi fsj trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_project <span class="kr">is</span> n = Some isi
‚àß finite_constrained_trace_from_to X isi fsj trX
  ‚àß (initial_state_prop <span class="kr">is</span> ‚Üí initial_state_prop isi)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk238" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk238"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">done</span>.. |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>is, fs</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hntr</var><span class="hyp-type"><b>: </b><span>tr ‚â† []</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (equivocator_vlsm X) <span class="kr">is</span> fs tr</span></span></span><br><span><var>j, n</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>trX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>HtrX</var><span class="hyp-type"><b>: </b><span>equivocator_vlsm_trace_project tr (Existing j) =
Some (trX, Existing n)</span></span></span><br><span><var>fsj</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hfsj</var><span class="hyp-type"><b>: </b><span>equivocator_state_project fs j = Some fsj</span></span></span><br><span><var>isi</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>Hisi</var><span class="hyp-type"><b>: </b><span>equivocator_state_project <span class="kr">is</span> n = Some isi</span></span></span><br><span><var>HtrX'</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to X isi fsj trX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop <span class="kr">is</span> ‚Üí initial_state_prop isi</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (equivocator_vlsm_initial_state_preservation_rev X _ _ _ Hisi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocator_label_zero_project</span> (<span class="nv">l</span> : equivocator_label X) : option (label X) :=
  <span class="kr">match</span> l <span class="kr">with</span>
  | ContinueWith <span class="mi">0</span> li =&gt; Some li
  | _ =&gt; None
  <span class="kr">end</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk239" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk239"><span class="kn">Lemma</span> <span class="nf">equivocator_zero_projection</span>
  : VLSM_projection (equivocator_vlsm X) X
    equivocator_label_zero_project equivocator_state_zero.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (equivocator_vlsm X) X
  equivocator_label_zero_project
  equivocator_state_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk23a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk23a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection (equivocator_vlsm X) X
  equivocator_label_zero_project
  equivocator_state_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk23b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk23b"><span class="nb">apply</span> basic_VLSM_strong_projection; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>valid lX (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid lY (equivocator_state_zero s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk23c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk23c"><hr></label><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk23d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk23d"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk23e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk23e"><hr></label><div class="goal-conclusion">initial_state_prop (equivocator_state_zero s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk23f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid_message_prop (equivocator_vlsm X) m</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk23f"><hr></label><div class="goal-conclusion">valid_message_prop X m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk240" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk240">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>valid lX (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid lY (equivocator_state_zero s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> lX <span class="kr">as</span> [sn | [| i] lX | [| i] lX]; <span class="nb">inversion</span> H; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk241" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk241">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk242" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk242"><span class="nb">destruct</span> lX <span class="kr">as</span> [sn | [| i] lX | [| i] lX]; <span class="nb">inversion</span> H; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project (ContinueWith <span class="mi">0</span> lY) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith <span class="mi">0</span> lY) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk243" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk243"><span class="nb">cbn</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project (ContinueWith <span class="mi">0</span> lY) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s <span class="mi">0</span> <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lY (si, om) <span class="kr">in</span>
    (equivocator_state_update s <span class="mi">0</span> si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk244" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk244"><span class="nb">rewrite</span> equivocator_state_project_zero <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project (ContinueWith <span class="mi">0</span> lY) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition lY (equivocator_state_zero s, om) <span class="kr">in</span>
 (equivocator_state_update s <span class="mi">0</span> si&#39;, om&#39;)) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (transition _ _ _); <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk245" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk245">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk246" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk246"><span class="nb">unfold</span> equivocator_label_zero_project <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> lX <span class="kr">with</span>
| ContinueWith <span class="mi">0</span> li =&gt; Some li
| _ =&gt; None
<span class="kr">end</span> = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk247" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk247"><span class="nb">destruct</span> lX <span class="kr">as</span> [sn | [| i] lX | [| i] lX]; <span class="nb">inversion</span> H; <span class="nb">subst</span>; <span class="nb">cbn</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s sn, None) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk248" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_update s (S i) si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk248"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk249" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s <span class="mi">0</span> <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk249"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk24a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk24a"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk24b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk24b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s sn, None) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk24c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk24c">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_update s (S i) si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (equivocator_state_project _ _); [<span class="nb">destruct</span> (transition _ _ _) |]; <span class="nb">inversion</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk24d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk24d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s <span class="mi">0</span> <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk24e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk24e"><span class="nb">rewrite</span> equivocator_state_project_zero <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition lX (equivocator_state_zero s, om) <span class="kr">in</span>
 (equivocator_state_extend s si&#39;, om&#39;)) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (transition _ _ _); <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk24f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk24f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (equivocator_state_project _ _); [<span class="nb">destruct</span> (transition _ _ _) |];
        <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk250" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk250">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (equivocator_state_zero s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk251" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk251">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>valid_message_prop (equivocator_vlsm X) m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop X m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equivocator_state_project_valid_message.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk252" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk252"><span class="kn">Lemma</span> <span class="nf">preloaded_equivocator_zero_projection</span> :
  VLSM_projection
    (preloaded_with_all_messages_vlsm (equivocator_vlsm X)) (preloaded_with_all_messages_vlsm X)
    equivocator_label_zero_project equivocator_state_zero.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))
  (preloaded_with_all_messages_vlsm X)
  equivocator_label_zero_project
  equivocator_state_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk253" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk253"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_projection
  (preloaded_with_all_messages_vlsm
     (equivocator_vlsm X))
  (preloaded_with_all_messages_vlsm X)
  equivocator_label_zero_project
  equivocator_state_zero</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk254" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk254"><span class="nb">apply</span> basic_VLSM_projection_preloaded; <span class="nb">intro</span>; <span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>valid lX (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid lY (equivocator_state_zero s, om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk255" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk255"><hr></label><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk256" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk256"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk257" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk257"><hr></label><div class="goal-conclusion">initial_state_prop (equivocator_state_zero s)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk258" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk258">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>valid lX (s, om)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid lY (equivocator_state_zero s, om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> lX <span class="kr">as</span> [sn | [| i] lX | [| i] lX]; <span class="nb">inversion</span> H; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk259" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk259">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25a"><span class="nb">destruct</span> lX <span class="kr">as</span> [sn | [| i] lX | [| i] lX]; <span class="nb">inversion</span> H; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project (ContinueWith <span class="mi">0</span> lY) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition (ContinueWith <span class="mi">0</span> lY) (s, om) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25b"><span class="nb">cbn</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project (ContinueWith <span class="mi">0</span> lY) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s <span class="mi">0</span> <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lY (si, om) <span class="kr">in</span>
    (equivocator_state_update s <span class="mi">0</span> si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25c"><span class="nb">rewrite</span> equivocator_state_project_zero <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lY</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project (ContinueWith <span class="mi">0</span> lY) =
Some lY</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition lY (equivocator_state_zero s, om) <span class="kr">in</span>
 (equivocator_state_update s <span class="mi">0</span> si&#39;, om&#39;)) =
(s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">transition lY (equivocator_state_zero s, om) =
(equivocator_state_zero s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (transition _ _ _); <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>equivocator_label_zero_project lX = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25e"><span class="nb">unfold</span> equivocator_label_zero_project <span class="kr">in</span> H.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> lX <span class="kr">with</span>
| ContinueWith <span class="mi">0</span> li =&gt; Some li
| _ =&gt; None
<span class="kr">end</span> = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>transition lX (s, om) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk25f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk25f"><span class="nb">destruct</span> lX <span class="kr">as</span> [sn | [| i] lX | [| i] lX]; <span class="nb">inversion</span> H; <span class="nb">subst</span>; <span class="nb">cbn</span> <span class="kr">in</span> H0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s sn, None) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk260" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_update s (S i) si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk260"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk261" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s <span class="mi">0</span> <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk261"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsProjections-v-chk262" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsProjections-v-chk262"><hr></label><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk263" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk263">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>sn</var><span class="hyp-type"><b>: </b><span>state X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>(equivocator_state_extend s sn, None) = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">inversion</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk264" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk264">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_update s (S i) si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (equivocator_state_project _ _); [<span class="nb">destruct</span> (transition _ _ _) |];
        <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk265" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk265">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s <span class="mi">0</span> <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_state_project_zero <span class="kr">in</span> H0; <span class="nb">destruct</span> (transition _ _ _);
        <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk266" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk266">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>lX</var><span class="hyp-type"><b>: </b><span>label X</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>None = None</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> equivocator_state_project s (S i) <span class="kr">with</span>
| Some si =&gt;
    <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) := transition lX (si, om) <span class="kr">in</span>
    (equivocator_state_extend s si&#39;, om&#39;)
| None =&gt; (s, om)
<span class="kr">end</span> = (s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_zero s&#39; = equivocator_state_zero s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (equivocator_state_project _ _); [<span class="nb">destruct</span> (transition _ _ _) |];
        <span class="nb">inversion_clear</span> H0.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsProjections-v-chk267" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsProjections-v-chk267">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>X</var><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state (equivocator_vlsm X)</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (equivocator_state_zero s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> H.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_equivocator_vlsm_projections</span>.</span></span></pre></article></body></html>