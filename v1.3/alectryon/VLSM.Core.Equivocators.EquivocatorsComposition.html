<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>EquivocatorsComposition.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk0"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Itauto.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FinFun FunctionalExtensionality Reals.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble ListSetExtras StdppExtras.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> NatExtras Measurable.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file extraction_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file equations_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM VLSMProjections Plans Composition Equivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> SubProjectionTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation.NoEquivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocators.Equivocators.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocators.MessageProperties.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Core: VLSM Equivocator Composition</h1>
<div class="paragraph"> </div>

  Given a composition <code>X</code> of VLSMs, we can model equivocator behavior by
  creating an <i>equivocator composition</i> which replaces each component of <code>X</code>
  with its equivocator version and strengthens the composition constraint to
  allow no (additional) equivocations, that is, all messages being received
  must have been previously sent by one of the (equivocator) VLSMs in the
  composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Extracting equivocator traces from equivocator composition traces</h2>
<div class="paragraph"> </div>

  To recover the equivocator trace for the regular composition <code>X</code> from
  the traces of the equivocator composition, we'll assume that only the
  first state copy of each machine is observable in the composition
  and we ignore the activity corresponding to any other state copy,
  including the forks.

<div class="paragraph"> </div>

  This amounts to removing from the trace all transitions in which the
  state copy index is not 1, forgetting the additional components of
  the label, and keeping only the copy of index 1 for each machine.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_fully_equivocating_composition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)}
  (Free := free_composite_vlsm IM)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocator_IM</span>
  (<span class="nv">i</span> : index)
  : VLSM message
  :=
  equivocator_vlsm (IM i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocating_indices</span>
  (<span class="nv">index_listing</span> : list index)
  (<span class="nv">s</span> : composite_state equivocator_IM)
  : list index
  :=
  filter (<span class="kr">fun</span> <span class="nv">i</span> =&gt; is_equivocating_state (IM i) (s i)) index_listing.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2"><span class="kn">Lemma</span> <span class="nf">equivocating_indices_initially_empty</span>
  (<span class="nv">index_listing</span> : list index)
  (<span class="nv">s</span> : composite_state equivocator_IM)
  (<span class="nv">Hs</span> : composite_initial_state_prop equivocator_IM s)
  : equivocating_indices index_listing s = [].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_indices index_listing s = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_indices index_listing s = []</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4"><span class="nb">apply</span> Forall_filter_nil.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall
  (<span class="kr">Œª</span> <span class="nv">a</span> : index, ¬¨ is_equivocating_state (IM a) (s a))
  index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5"><span class="nb">apply</span> Forall_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  x ‚àà index_listing
  ‚Üí ¬¨ is_equivocating_state (IM x) (s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6"><span class="nb">intros</span> i _.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM s</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ is_equivocating_state (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7"><span class="nb">specialize</span> (Hs i).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ is_equivocating_state (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk8"><span class="nb">destruct</span> Hs <span class="kr">as</span> [Hs _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>is_singleton_state (IM i) (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">¬¨ is_equivocating_state (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">congruence</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_equivocating_indices_BasicEquivocation</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">threshold</span> : R)
  `{ReachableThreshold index Ci threshold}
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Program Instance</span> <span class="nf">equivocating_indices_BasicEquivocation</span> :
  BasicEquivocation (composite_state equivocator_IM) index Ci threshold
  := {
    is_equivocating := <span class="kr">fun</span> <span class="nv">s</span> <span class="nv">v</span> =&gt; v ‚àà equivocating_indices (enum index) s ;
    state_validators := <span class="kr">fun</span> <span class="nv">s</span> =&gt; list_to_set(enum index)
  }.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9"><span class="kn">Next Obligation</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (y ‚àà equivocating_indices (enum index) x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>y</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision (y ‚àà equivocating_indices (enum index) x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">typeclasses eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chkb" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chkb"><span class="kn">Lemma</span> <span class="nf">equivocating_indices_equivocating_validators</span>
  : <span class="kr">forall</span> <span class="nv">s</span>, equivocating_validators s ‚â°@{Ci} list_to_set(equivocating_indices (enum index) s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state equivocator_IM,
  equivocating_validators s
  ‚â° list_to_set (equivocating_indices (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chkc" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chkc"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s</span> : composite_state equivocator_IM,
  equivocating_validators s
  ‚â° list_to_set (equivocating_indices (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chkd"><span class="nb">intros</span> s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators s
‚â° list_to_set (equivocating_indices (enum index) s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chke"><span class="nb">apply</span> set_eq_fin_set.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq (elements (equivocating_validators s))
  (elements
     (list_to_set
        (equivocating_indices (enum index) s)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chkf"><span class="nb">unfold</span> equivocating_validators, is_equivocating.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq
  (elements
     (filter
        (<span class="kr">Œª</span> <span class="nv">v</span> : index,
           (<span class="kr">let</span>
              (<span class="nv">is_equivocating</span>, is_equivocating_dec,
               state_validators,
               equivocating_validators,
               equivocation_fault, not_heavy) :=
              equivocating_indices_BasicEquivocation <span class="kr">in</span>
            is_equivocating) s v) (state_validators s)))
  (elements
     (list_to_set
        (equivocating_indices (enum index) s)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk10"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">set_eq
  (elements
     (filter
        (<span class="kr">Œª</span> <span class="nv">v</span> : index,
           v ‚àà equivocating_indices (enum index) s)
        (list_to_set (enum index))))
  (elements
     (list_to_set
        (equivocating_indices (enum index) s)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk11"><span class="nb">split</span>; <span class="nb">intro</span> Hin
  ; <span class="nb">rewrite</span> !elem_of_elements, elem_of_filter, !elem_of_list_to_set.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Hin ‚àà equivocating_indices (enum index) s
‚àß Hin ‚àà enum index
‚Üí Hin ‚àà equivocating_indices (enum index) s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk12" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk12"><hr></label><div class="goal-conclusion">Hin ‚àà equivocating_indices (enum index) s
‚Üí Hin ‚àà equivocating_indices (enum index) s
  ‚àß Hin ‚àà enum index</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk13">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Hin ‚àà equivocating_indices (enum index) s
‚àß Hin ‚àà enum index
‚Üí Hin ‚àà equivocating_indices (enum index) s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> [].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk14">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Hin</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Hin ‚àà equivocating_indices (enum index) s
‚Üí Hin ‚àà equivocating_indices (enum index) s
  ‚àß Hin ‚àà enum index</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; <span class="nb">auto using</span> elem_of_enum.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk15"><span class="kn">Lemma</span> <span class="nf">eq_equivocating_indices_equivocation_fault</span> :
  <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>,
    list_to_set (equivocating_indices (enum index) s1) ‚â°@{Ci}
    list_to_set (equivocating_indices (enum index) s2) -&gt;
      equivocation_fault s1 = equivocation_fault s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state equivocator_IM,
  list_to_set (equivocating_indices (enum index) s1)
  ‚â° list_to_set (equivocating_indices (enum index) s2)
  ‚Üí equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk16"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state equivocator_IM,
  list_to_set (equivocating_indices (enum index) s1)
  ‚â° list_to_set (equivocating_indices (enum index) s2)
  ‚Üí equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk17"><span class="nb">intros</span> s1 s2 Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>list_to_set
  (equivocating_indices (enum index) s1)
‚â° list_to_set
    (equivocating_indices (enum index) s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk18"><span class="nb">rewrite</span> &lt;- !equivocating_indices_equivocating_validators <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>equivocating_validators s1
‚â° equivocating_validators s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk19"><span class="nb">unfold</span> equivocation_fault.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>equivocating_validators s1
‚â° equivocating_validators s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sum_weights (equivocating_validators s1) =
sum_weights (equivocating_validators s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1a"><span class="nb">apply</span> set_eq_fin_set <span class="kr">in</span> Heq <span class="kr">as</span> [Heq1 Heq2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq1</var><span class="hyp-type"><b>: </b><span>elements (equivocating_validators s1)
‚äÜ elements (equivocating_validators s2)</span></span></span><br><span><var>Heq2</var><span class="hyp-type"><b>: </b><span>elements (equivocating_validators s2)
‚äÜ elements (equivocating_validators s1)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sum_weights (equivocating_validators s1) =
sum_weights (equivocating_validators s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1b"><span class="nb">apply</span> sum_weights_subseteq_list <span class="kr">in</span> Heq1, Heq2;
    [| <span class="bp">by</span> <span class="nb">apply</span> NoDup_elements..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq1</var><span class="hyp-type"><b>: </b><span>(sum_weights_list
   (elements (equivocating_validators s1)) &lt;=
 sum_weights_list
   (elements (equivocating_validators s2)))%R</span></span></span><br><span><var>Heq2</var><span class="hyp-type"><b>: </b><span>(sum_weights_list
   (elements (equivocating_validators s2)) &lt;=
 sum_weights_list
   (elements (equivocating_validators s1)))%R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">sum_weights (equivocating_validators s1) =
sum_weights (equivocating_validators s2)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Rle_antisym.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1c"><span class="kn">Lemma</span> <span class="nf">eq_equivocating_indices_equivocation_fault&#39;</span> :
  <span class="kr">forall</span> <span class="nv">s1</span> <span class="nv">s2</span>,
    list_to_set (equivocating_indices (enum index) s1)
      ‚â°@{Ci}
    list_to_set (equivocating_indices (enum index) s2) -&gt;
      equivocation_fault s1 = equivocation_fault s2.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state equivocator_IM,
  list_to_set (equivocating_indices (enum index) s1)
  ‚â° list_to_set (equivocating_indices (enum index) s2)
  ‚Üí equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">s1</span> <span class="nv">s2</span> : composite_state equivocator_IM,
  list_to_set (equivocating_indices (enum index) s1)
  ‚â° list_to_set (equivocating_indices (enum index) s2)
  ‚Üí equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1e"><span class="nb">intros</span> s1 s2 Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>list_to_set
  (equivocating_indices (enum index) s1)
‚â° list_to_set
    (equivocating_indices (enum index) s2)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk1f"><span class="nb">rewrite</span> &lt;- !equivocating_indices_equivocating_validators <span class="kr">in</span> Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>equivocating_validators s1
‚â° equivocating_validators s2</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk20"><span class="nb">apply</span> set_equiv_subseteq <span class="kr">in</span> Heq <span class="kr">as</span> [Heq1 Heq2].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable index</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ReachableThreshold index Ci threshold</span></span></span><br><span><var>s1, s2</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Heq1</var><span class="hyp-type"><b>: </b><span>equivocating_validators s1
‚äÜ equivocating_validators s2</span></span></span><br><span><var>Heq2</var><span class="hyp-type"><b>: </b><span>equivocating_validators s2
‚äÜ equivocating_validators s1</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocation_fault s1 = equivocation_fault s2</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Rle_antisym; <span class="nb">apply</span> sum_weights_subseteq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_equivocating_indices_BasicEquivocation</span>.</span></span></pre><div class="doc">
  The statement below is obvious a transition cannot make an already equivocating
  component non-equivocating.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk21"><span class="kn">Lemma</span> <span class="nf">equivocators_transition_preserves_equivocating_indices</span>
  (<span class="nv">index_listing</span> : list index)
  (<span class="nv">s</span> : composite_state equivocator_IM)
  (<span class="nv">iom</span> <span class="nv">oom</span> : option message)
  (<span class="nv">l</span> : composite_label equivocator_IM)
  (<span class="nv">s0</span> : composite_state equivocator_IM)
  (<span class="nv">Ht</span> : composite_transition equivocator_IM l (s0, iom) = (s, oom))
  : equivocating_indices index_listing s0 ‚äÜ equivocating_indices index_listing s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_indices index_listing s0
‚äÜ equivocating_indices index_listing s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk22"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_indices index_listing s0
‚äÜ equivocating_indices index_listing s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk23"><span class="nb">intros</span> i Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocating_indices index_listing s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà equivocating_indices index_listing s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk24"><span class="nb">apply</span> elem_of_list_filter.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà equivocating_indices index_listing s0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state (IM i) (s i) ‚àß i ‚àà index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk25"><span class="nb">apply</span> elem_of_list_filter <span class="kr">in</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>is_equivocating_state (IM i) (s0 i)
‚àß i ‚àà index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state (IM i) (s i) ‚àß i ‚àà index_listing</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk26"><span class="nb">split</span>; [| <span class="bp">by</span> <span class="nb">apply</span> Hi].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>is_equivocating_state (IM i) (s0 i)
‚àß i ‚àà index_listing</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk27"><span class="nb">destruct</span> Hi <span class="kr">as</span> [Hi _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>is_equivocating_state (IM i) (s0 i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_equivocating_state (IM i) (s i)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk28"><span class="nb">intro</span> Hsi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>is_equivocating_state (IM i) (s0 i)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>is_singleton_state (IM i) (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kt">False</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk29"><span class="nb">elim</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>is_equivocating_state (IM i) (s0 i)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>is_singleton_state (IM i) (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_singleton_state (IM i) (s0 i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2a"><span class="nb">clear</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>is_singleton_state (IM i) (s i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">is_singleton_state (IM i) (s0 i)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2b"><span class="nb">unfold</span> is_singleton_state <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s0, iom) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s i) = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s0 i) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2c"><span class="nb">simpl</span> <span class="kr">in</span> *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">i</span>, li) := l <span class="kr">in</span>
 <span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   equivocator_transition (IM i) li (s0 i, iom) <span class="kr">in</span>
 (state_update equivocator_IM s0 i si&#39;, om&#39;)) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s i) = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s0 i) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2d"><span class="nb">destruct</span> l <span class="kr">as</span> (j, lj).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   equivocator_transition (IM j) lj (s0 j, iom) <span class="kr">in</span>
 (state_update equivocator_IM s0 j si&#39;, om&#39;)) =
(s, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s i) = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s0 i) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2e">case_match; <span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>equivocator_state (IM j)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>equivocator_transition (IM j) lj (s0 j, iom) =
(e, oom)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_n
  (state_update equivocator_IM s0 j e i) = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s0 i) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk2f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk2f"><span class="nb">destruct</span> (decide (i = j)); <span class="nb">subst</span>; state_update_simpl; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>index_listing</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>equivocator_state (IM j)</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>equivocator_transition (IM j) lj (s0 j, iom) =
(e, oom)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>equivocator_state_n e = <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s0 j) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">revert</span> Hsi; <span class="nb">apply</span> equivocator_transition_reflects_singleton_state <span class="kr">with</span> iom oom lj.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk30"><span class="kn">Lemma</span> <span class="nf">equivocators_transition_cannot_decrease_state_size</span>
  <span class="nv">l</span> <span class="nv">s</span> <span class="nv">iom</span> <span class="nv">s&#39;</span> <span class="nv">oom</span>
  (<span class="nv">Ht</span> : composite_transition equivocator_IM l (s, iom) = (s&#39;, oom))
  : <span class="kr">forall</span> <span class="nv">eqv</span>, equivocator_state_n (s eqv) &lt;= equivocator_state_n (s&#39; eqv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s, iom) =
(s&#39;, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk31"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s, iom) =
(s&#39;, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk32"><span class="nb">intro</span> eqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>composite_label equivocator_IM</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l (s, iom) =
(s&#39;, oom)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk33"><span class="nb">destruct</span> l <span class="kr">as</span> [j lj]; <span class="nb">cbn</span> <span class="kr">in</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   equivocator_transition (IM j) lj (s j, iom) <span class="kr">in</span>
 (state_update equivocator_IM s j si&#39;, om&#39;)) =
(s&#39;, oom)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk34"><span class="nb">destruct</span> (equivocator_transition _ _ _) <span class="kr">as</span> [sj&#39; om&#39;] <span class="nb">eqn</span>: Htj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sj'</var><span class="hyp-type"><b>: </b><span>equivocator_state (IM j)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>equivocator_transition (IM j) lj (s j, iom) =
(sj&#39;, om&#39;)</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update equivocator_IM s j sj&#39;, om&#39;) =
(s&#39;, oom)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk35"><span class="nb">apply</span> equivocator_transition_cannot_decrease_state_size <span class="kr">in</span> Htj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sj'</var><span class="hyp-type"><b>: </b><span>equivocator_state (IM j)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s j)
‚â§ equivocator_state_n sj&#39;</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>(state_update equivocator_IM s j sj&#39;, om&#39;) =
(s&#39;, oom)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk36"><span class="nb">inversion</span> Ht; <span class="nb">subst</span>; <span class="nb">clear</span> Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>lj</var><span class="hyp-type"><b>: </b><span>label (equivocator_IM j)</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sj'</var><span class="hyp-type"><b>: </b><span>equivocator_state (IM j)</span></span></span><br><span><var>Htj</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s j)
‚â§ equivocator_state_n sj&#39;</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    (state_update equivocator_IM s j sj&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (decide (j = eqv)); <span class="nb">subst</span>; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk37"><span class="kn">Lemma</span> <span class="nf">equivocators_plan_cannot_decrease_state_size</span>
  (<span class="nv">s</span> : composite_state equivocator_IM)
  (<span class="nv">plan</span> : list (composite_plan_item equivocator_IM))
  (<span class="nv">s&#39;</span> := snd (composite_apply_plan equivocator_IM s plan))
  : <span class="kr">forall</span> <span class="nv">eqv</span>, equivocator_state_n (s eqv) &lt;= equivocator_state_n (s&#39; eqv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>(composite_apply_plan equivocator_IM s plan).<span class="mi">2</span></span></span><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk38"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>(composite_apply_plan equivocator_IM s plan).<span class="mi">2</span></span></span><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk39"><span class="nb">intro</span> eqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>s'</var><span><span class="hyp-body"><b>:= </b><span>(composite_apply_plan equivocator_IM s plan).<span class="mi">2</span></span></span><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk3a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk3a"><span class="nb">subst</span> s&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s plan).<span class="mi">2</span>
       eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk3b"><span class="nb">induction</span> plan <span class="nb">using</span> rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s []).<span class="mi">2</span> eqv)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk3c" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_plan_item equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s
        plan).<span class="mi">2</span> eqv)</span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk3c"><hr></label><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s
        (plan ++ [x])).<span class="mi">2</span> eqv)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk3d">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s []).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span>; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk3e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_plan_item equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s
        plan).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s
        (plan ++ [x])).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk3f"><span class="nb">rewrite</span> (composite_apply_plan_app equivocator_IM s plan).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_plan_item equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((composite_apply_plan equivocator_IM s
        plan).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((<span class="kr">let</span> (<span class="nv">aitems</span>, afinal) :=
        composite_apply_plan equivocator_IM s plan <span class="kr">in</span>
      <span class="kr">let</span> (<span class="nv">a&#39;items</span>, a&#39;final) :=
        composite_apply_plan equivocator_IM afinal [x] <span class="kr">in</span>
      (aitems ++ a&#39;items, a&#39;final)).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk40"><span class="nb">destruct</span> (composite_apply_plan equivocator_IM s plan) <span class="kr">as</span> [junk s1].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>composite_plan_item equivocator_IM</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((<span class="kr">let</span> (<span class="nv">a&#39;items</span>, a&#39;final) :=
        composite_apply_plan equivocator_IM s1 [x] <span class="kr">in</span>
      (junk ++ a&#39;items, a&#39;final)).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk41"><span class="nb">destruct</span> x <span class="kr">as</span> [l im].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (composite_type equivocator_IM)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((<span class="kr">let</span> (<span class="nv">a&#39;items</span>, a&#39;final) :=
        composite_apply_plan equivocator_IM s1
          [{| label_a := l; input_a := im |}] <span class="kr">in</span>
      (junk ++ a&#39;items, a&#39;final)).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk42"><span class="nb">unfold</span> composite_apply_plan.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (composite_type equivocator_IM)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((<span class="kr">let</span> (<span class="nv">a&#39;items</span>, a&#39;final) :=
        _apply_plan s1
          [{| label_a := l; input_a := im |}] <span class="kr">in</span>
      (junk ++ a&#39;items, a&#39;final)).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk43"><span class="nb">unfold</span> _apply_plan.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (composite_type equivocator_IM)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((<span class="kr">let</span> (<span class="nv">a&#39;items</span>, a&#39;final) :=
        <span class="kr">let</span> (<span class="nv">final</span>, items) :=
          foldr _apply_plan_folder (s1, [])
            (rev [{| label_a := l; input_a := im |}]) <span class="kr">in</span>
        (rev items, final) <span class="kr">in</span>
      (junk ++ a&#39;items, a&#39;final)).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk44"><span class="nb">cbn</span> -[composite_transition].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (composite_type equivocator_IM)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((<span class="kr">let</span> (<span class="nv">a&#39;items</span>, a&#39;final) :=
        <span class="kr">let</span> (<span class="nv">final</span>, items) :=
          <span class="kr">let</span> (<span class="nv">dest</span>, out) :=
            composite_transition equivocator_IM l
              (s1, im) <span class="kr">in</span>
          (dest,
           [{|
              l := l;
              input := im;
              destination := dest;
              output := out
            |}]) <span class="kr">in</span>
        (rev items, final) <span class="kr">in</span>
      (junk ++ a&#39;items, a&#39;final)).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk45"><span class="kr">match goal with</span>
      |- <span class="kp">context</span> [composite_transition equivocator_IM l <span class="nl">?som</span>] =&gt;
      <span class="nb">destruct</span> (composite_transition equivocator_IM l som) <span class="nb">eqn</span>: Htrans
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (composite_type equivocator_IM)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>o</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>composite_transition equivocator_IM l
  (s1, im) = (c, o)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((junk ++
      rev
        [{|
           l := l;
           input := im;
           destination := c;
           output := o
         |}], c).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk46"><span class="nb">apply</span> equivocators_transition_cannot_decrease_state_size <span class="kr">with</span> (eqv := eqv) <span class="kr">in</span> Htrans.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label (composite_type equivocator_IM)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>plan</var><span class="hyp-type"><b>: </b><span>list (composite_plan_item equivocator_IM)</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>junk</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>s1</var><span class="hyp-type"><b>: </b><span>state (composite_type equivocator_IM)</span></span></span><br><span><var>IHplan</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n ((junk, s1).<span class="mi">2</span> eqv)</span></span></span><br><span><var>c</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>o</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Htrans</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s1 eqv)
‚â§ equivocator_state_n (c eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s eqv)
‚â§ equivocator_state_n
    ((junk ++
      rev
        [{|
           l := l;
           input := im;
           destination := c;
           output := o
         |}], c).<span class="mi">2</span> eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbn</span> <span class="kr">in</span> *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk47"><span class="kn">Lemma</span> <span class="nf">equivocators_pre_trace_cannot_decrease_state_size</span>
  <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">tr</span>
  (<span class="nv">Htr</span> : finite_constrained_trace_from_to (free_composite_vlsm equivocator_IM) s s&#39; tr)
  : <span class="kr">forall</span> <span class="nv">eqv</span>, equivocator_state_n (s eqv) &lt;= equivocator_state_n (s&#39; eqv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (free_composite_vlsm equivocator_IM) s s&#39; tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk48"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (free_composite_vlsm equivocator_IM) s s&#39; tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk49"><span class="nb">apply</span> trace_to_plan_to_trace_from_to <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>apply_plan
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM)) s
  (trace_to_plan
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm equivocator_IM)) tr) =
(tr, s&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4a"><span class="nb">specialize</span> (equivocators_plan_cannot_decrease_state_size s (trace_to_plan _ tr)) <span class="kr">as</span> Hmon.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>apply_plan
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM)) s
  (trace_to_plan
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm equivocator_IM)) tr) =
(tr, s&#39;)</span></span></span><br><span><var>Hmon</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> (<span class="nv">s&#39;</span> :=
   (composite_apply_plan equivocator_IM s
      (trace_to_plan
         (preloaded_with_all_messages_vlsm
            (free_composite_vlsm equivocator_IM))
         tr)).<span class="mi">2</span>) (<span class="nv">eqv</span> : index),
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv)
  ‚â§ equivocator_state_n (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">replace</span> (composite_apply_plan _ _ _) <span class="kr">with</span> (tr, s&#39;) <span class="kr">in</span> Hmon.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4b"><span class="kn">Lemma</span> <span class="nf">equivocators_pre_trace_preserves_equivocating_state</span>
  <span class="nv">s</span> <span class="nv">s&#39;</span> <span class="nv">tr</span>
  (<span class="nv">Htr</span> : finite_constrained_trace_from_to (free_composite_vlsm equivocator_IM) s s&#39; tr)
  : <span class="kr">forall</span> <span class="nv">eqv</span>, is_equivocating_state (IM eqv) (s eqv) -&gt; is_equivocating_state (IM eqv) (s&#39; eqv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (free_composite_vlsm equivocator_IM) s s&#39; tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  is_equivocating_state (IM eqv) (s eqv)
  ‚Üí is_equivocating_state (IM eqv) (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (free_composite_vlsm equivocator_IM) s s&#39; tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  is_equivocating_state (IM eqv) (s eqv)
  ‚Üí is_equivocating_state (IM eqv) (s&#39; eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4d"><span class="nb">unfold</span> is_equivocating_state, is_singleton_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (free_composite_vlsm equivocator_IM) s s&#39; tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">eqv</span> : index,
  equivocator_state_n (s eqv) ‚â† <span class="mi">1</span>
  ‚Üí equivocator_state_n (s&#39; eqv) ‚â† <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4e"><span class="nb">intros</span> eqv Hseqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_constrained_trace_from_to
  (free_composite_vlsm equivocator_IM) s s&#39; tr</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hseqv</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv) ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s&#39; eqv) ‚â† <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk4f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk4f"><span class="nb">apply</span> equivocators_pre_trace_cannot_decrease_state_size  <span class="kr">with</span> (eqv := eqv) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s, s'</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm equivocator_IM))</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv)
‚â§ equivocator_state_n (s&#39; eqv)</span></span></span><br><span><var>Hseqv</var><span class="hyp-type"><b>: </b><span>equivocator_state_n (s eqv) ‚â† <span class="mi">1</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (s&#39; eqv) ‚â† <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbv</span> <span class="kr">in</span> *; <span class="bp">lia</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">equivocators_free_vlsm</span> := free_composite_vlsm equivocator_IM)
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocators_no_equivocations_constraint</span>
  :=
  no_equivocations_additional_constraint equivocator_IM (free_constraint equivocator_IM).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocators_no_equivocations_vlsm</span>
  : VLSM message
  :=
  composite_vlsm equivocator_IM equivocators_no_equivocations_constraint.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk50" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk50"><span class="kn">Lemma</span> <span class="nf">equivocators_no_equivocations_vlsm_incl_equivocators_free</span>
  : VLSM_incl equivocators_no_equivocations_vlsm equivocators_free_vlsm.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl equivocators_no_equivocations_vlsm
  equivocators_free_vlsm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk51" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk51"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl equivocators_no_equivocations_vlsm
  equivocators_free_vlsm</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk52"><span class="nb">apply</span> basic_VLSM_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_state_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk53" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk53"><hr></label><div class="goal-conclusion">weak_incl_initial_message_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk54" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk54"><hr></label><div class="goal-conclusion">weak_incl_valid_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk55" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk55"><hr></label><div class="goal-conclusion">weak_incl_transition_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk56">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">strong_incl_initial_state_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">cbv</span>; <span class="nb">intros</span> s Hn n; <span class="nb">specialize</span> (Hn n); split_and!; itauto.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk57" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk57">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_initial_message_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span>; <span class="nb">intros</span>; <span class="nb">apply</span> initial_message_is_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk58">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_valid_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> l s om Hiv _ _; <span class="nb">apply</span> Hiv.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk59">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_incl_transition_preservation
  (constrained_vlsm_machine
     (free_composite_vlsm equivocator_IM)
     equivocators_no_equivocations_constraint)
  (free_composite_vlsm_machine equivocator_IM)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> <span class="mi">1</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5a"><span class="kn">Lemma</span> <span class="nf">preloaded_equivocators_no_equivocations_vlsm_incl_PreFree</span> :
  VLSM_incl
    (preloaded_with_all_messages_vlsm equivocators_no_equivocations_vlsm)
    (preloaded_with_all_messages_vlsm equivocators_free_vlsm).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (preloaded_with_all_messages_vlsm
     equivocators_no_equivocations_vlsm)
  (preloaded_with_all_messages_vlsm
     equivocators_free_vlsm)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5b"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl
  (preloaded_with_all_messages_vlsm
     equivocators_no_equivocations_vlsm)
  (preloaded_with_all_messages_vlsm
     equivocators_free_vlsm)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> basic_VLSM_incl_preloaded; [<span class="nb">intro</span> | <span class="nb">inversion</span> <span class="mi">1</span> | <span class="nb">intro</span>].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5c"><span class="kn">Lemma</span> <span class="nf">equivocators_initial_state_size</span>
  (<span class="nv">is</span> : composite_state equivocator_IM)
  (<span class="nv">His</span> : composite_initial_state_prop equivocator_IM <span class="kr">is</span>)
  (<span class="nv">eqv</span> : index)
  : equivocator_state_n (<span class="kr">is</span> eqv) = <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM <span class="kr">is</span></span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (<span class="kr">is</span> eqv) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>composite_state equivocator_IM</span></span></span><br><span><var>His</var><span class="hyp-type"><b>: </b><span>composite_initial_state_prop equivocator_IM <span class="kr">is</span></span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_n (<span class="kr">is</span> eqv) = <span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (His eqv).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  An indexed set of <span class="inlinecode"><span class="id" title="var">MachineDescriptor</span></span>s, one for each equivocating machine in
  the composition.

<div class="paragraph"> </div>

  This will be used to project <span class="inlinecode"><span class="id" title="var">composite_state</span></span>s and <span class="inlinecode"><span class="id" title="var">composite_transition_item</span></span>s
  from the composition of equivocators to the composition of their corresponding
  components.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocator_descriptors</span> : <span class="kt">Type</span> := <span class="kr">forall</span> (<span class="nv">eqv</span> : index), MachineDescriptor (IM eqv).</span></span></pre><div class="doc">
  Generalizes the <span class="inlinecode"><span class="id" title="var">proper_descriptor</span></span> definition to <span class="inlinecode"><span class="id" title="var">equivocator_descriptors</span></span>.
  Basically, an indexed set is proper w.r.t. a <span class="inlinecode"><span class="id" title="var">composite_state</span></span> one can obtain
  through it a valid projection of the <span class="inlinecode"><span class="id" title="var">composite_state</span></span> to the non-equivocating
  universe.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">proper_equivocator_descriptors</span>
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  : <span class="kt">Prop</span>
  := <span class="kr">forall</span>
    (<span class="nv">eqv</span> : index),
    proper_descriptor (IM eqv) (eqv_descriptors eqv) (s eqv).</span></span></pre><div class="doc">
Same as above, but disallowing equivocation. 
</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">not_equivocating_equivocator_descriptors</span>
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  : <span class="kt">Prop</span>
  := <span class="kr">forall</span>
    (<span class="nv">eqv</span> : index),
    existing_descriptor (IM eqv) (eqv_descriptors eqv) (s eqv).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5e">#[export] <span class="kn">Instance</span> <span class="nf">not_equivocating_equivocator_descriptors_dec</span>
  : RelDecision not_equivocating_equivocator_descriptors.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision not_equivocating_equivocator_descriptors</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk5f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">RelDecision not_equivocating_equivocator_descriptors</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk60"><span class="nb">intros</span> eqv_descriptors s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (not_equivocating_equivocator_descriptors
     eqv_descriptors s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk61"><span class="nb">apply</span> @Decision_iff <span class="kr">with</span> (P :=
    Forall (<span class="kr">fun</span> <span class="nv">eqv</span> =&gt; existing_descriptor (IM eqv) (eqv_descriptors eqv) (s eqv)) (enum index)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall
  (<span class="kr">Œª</span> <span class="nv">eqv</span> : index,
     existing_descriptor (IM eqv)
       (eqv_descriptors eqv) (s eqv)) (enum index)
‚Üî not_equivocating_equivocator_descriptors
    eqv_descriptors s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk62" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk62"><hr></label><div class="goal-conclusion">Decision
  (Forall
     (<span class="kr">Œª</span> <span class="nv">eqv</span> : index,
        existing_descriptor 
          (IM eqv) (eqv_descriptors eqv) 
          (s eqv)) (enum index))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk63" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk63">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Forall
  (<span class="kr">Œª</span> <span class="nv">eqv</span> : index,
     existing_descriptor (IM eqv)
       (eqv_descriptors eqv) (s eqv)) (enum index)
‚Üî not_equivocating_equivocator_descriptors
    eqv_descriptors s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk64"><span class="nb">rewrite</span> Forall_forall.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
   x ‚àà enum index
   ‚Üí existing_descriptor (IM x) (eqv_descriptors x)
       (s x))
‚Üî not_equivocating_equivocator_descriptors
    eqv_descriptors s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk65"><span class="nb">apply</span> forall_proper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  (x ‚àà enum index
   ‚Üí existing_descriptor (IM x) (eqv_descriptors x)
       (s x))
  ‚Üî existing_descriptor (IM x) (eqv_descriptors x)
      (s x)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk66"><span class="nb">intros</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x ‚àà enum index
 ‚Üí existing_descriptor (IM x) (eqv_descriptors x)
     (s x))
‚Üî existing_descriptor (IM x) (eqv_descriptors x) (s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk67"><span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(x ‚àà enum index
 ‚Üí existing_descriptor (IM x) (eqv_descriptors x)
     (s x))
‚Üí existing_descriptor (IM x) (eqv_descriptors x) (s x)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span> Henum; <span class="nb">apply</span> Henum, elem_of_enum.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk68">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (Forall
     (<span class="kr">Œª</span> <span class="nv">eqv</span> : index,
        existing_descriptor (IM eqv)
          (eqv_descriptors eqv) (s eqv)) (enum index))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk69"><span class="nb">apply</span> Forall_dec.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  Decision
    (existing_descriptor (IM x) (eqv_descriptors x)
       (s x))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6a"><span class="nb">intro</span> eqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">Decision
  (existing_descriptor (IM eqv) (eqv_descriptors eqv)
     (s eqv))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> existing_descriptor_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6b"><span class="kn">Lemma</span> <span class="nf">not_equivocating_equivocator_descriptors_proper</span>
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  (<span class="nv">Hne</span> : not_equivocating_equivocator_descriptors eqv_descriptors s)
  : proper_equivocator_descriptors eqv_descriptors s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>not_equivocating_equivocator_descriptors
  eqv_descriptors s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_descriptors eqv_descriptors s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>Hne</var><span class="hyp-type"><b>: </b><span>not_equivocating_equivocator_descriptors
  eqv_descriptors s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_descriptors eqv_descriptors s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span> eqv; <span class="nb">apply</span> existing_descriptor_proper, Hne.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">zero_descriptor</span>
  (<span class="nv">eqv</span> : index)
  : MachineDescriptor (IM eqv)
  := Existing <span class="mi">0</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6d"><span class="kn">Lemma</span> <span class="nf">zero_descriptor_not_equivocating</span>
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  : not_equivocating_equivocator_descriptors zero_descriptor s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">not_equivocating_equivocator_descriptors
  zero_descriptor s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6e"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">not_equivocating_equivocator_descriptors
  zero_descriptor s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span> eqv; <span class="nb">eexists</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk6f"><span class="kn">Lemma</span> <span class="nf">zero_descriptor_proper</span>
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  : proper_equivocator_descriptors zero_descriptor s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_descriptors zero_descriptor s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk70"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_descriptors zero_descriptor s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk71"><span class="nb">apply</span> not_equivocating_equivocator_descriptors_proper.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">not_equivocating_equivocator_descriptors
  zero_descriptor s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> zero_descriptor_not_equivocating.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk72" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk72"><span class="kn">Lemma</span> <span class="nf">proper_equivocator_descriptors_state_update_eqv</span>
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  (<span class="nv">eqv</span> : index)
  (<span class="nv">si</span> : state (equivocator_IM eqv))
  (<span class="nv">Hsi_proper</span> : proper_descriptor (IM eqv) (eqv_descriptors eqv) (s eqv))
  (<span class="nv">Hproper</span> : proper_equivocator_descriptors eqv_descriptors (state_update equivocator_IM s eqv si))
  : proper_equivocator_descriptors eqv_descriptors s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br><span><var>Hsi_proper</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv)
  (eqv_descriptors eqv) 
  (s eqv)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors
  eqv_descriptors
  (state_update equivocator_IM s eqv si)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_descriptors eqv_descriptors s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk73" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk73"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br><span><var>Hsi_proper</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv)
  (eqv_descriptors eqv) 
  (s eqv)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors
  eqv_descriptors
  (state_update equivocator_IM s eqv si)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_equivocator_descriptors eqv_descriptors s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk74" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk74"><span class="nb">intro</span> eqv&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br><span><var>Hsi_proper</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv)
  (eqv_descriptors eqv) 
  (s eqv)</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors
  eqv_descriptors
  (state_update equivocator_IM s eqv si)</span></span></span><br><span><var>eqv'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor (IM eqv&#39;) (eqv_descriptors eqv&#39;)
  (s eqv&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk75" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk75"><span class="nb">specialize</span> (Hproper eqv&#39;).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br><span><var>Hsi_proper</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv)
  (eqv_descriptors eqv) 
  (s eqv)</span></span></span><br><span><var>eqv'</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hproper</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv&#39;)
  (eqv_descriptors eqv&#39;)
  (state_update equivocator_IM s eqv si eqv&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">proper_descriptor (IM eqv&#39;) (eqv_descriptors eqv&#39;)
  (s eqv&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">destruct</span> (decide (eqv = eqv&#39;)); <span class="nb">subst</span>; state_update_simpl.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocators_state_project</span>
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  : state Free
  :=
  <span class="kr">fun</span> (<span class="nv">eqv</span> : index) =&gt;
  equivocator_state_descriptor_project (s eqv) (eqv_descriptors eqv).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">lift_to_equivocators_state</span>
  (<span class="nv">s</span> : state Free)
  (<span class="nv">eqv</span> : index)
  : state (equivocator_IM eqv)
  :=
  mk_singleton_state _ (s eqv).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk76"><span class="kn">Lemma</span> <span class="nf">lift_initial_to_equivocators_state</span>
  (<span class="nv">s</span> : state Free)
  (<span class="nv">Hs</span> : initial_state_prop Free s)
  : initial_state_prop equivocators_no_equivocations_vlsm (lift_to_equivocators_state s).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state Free</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (lift_to_equivocators_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk77"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state Free</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>initial_state_prop s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop (lift_to_equivocators_state s)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk78"><span class="nb">cbn</span> <span class="kr">in</span> Hs |- *; <span class="nb">unfold</span> composite_initial_state_prop <span class="kr">in</span> Hs |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state Free</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">n</span> : index, initial_state_prop (s n)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">n</span> : index,
  initial_state_prop (lift_to_equivocators_state s n)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span> i; <span class="nb">specialize</span> (Hs i).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">newmachine_descriptors_list</span>
  (<span class="nv">index_listing</span> : list index)
  (<span class="nv">descriptors</span> : equivocator_descriptors)
  : list index
  := @filter _ _ _ (<span class="kr">fun</span> <span class="nv">i</span> =&gt; is_newmachine_descriptor (IM i) (descriptors i))
   (<span class="kr">fun</span> <span class="nv">i</span> =&gt; newmachine_descriptor_dec (IM i) (descriptors i)) index_listing.</span></span></pre><div class="doc">
  A very useful operation on <span class="inlinecode"><span class="id" title="var">equivocator_descriptors</span></span>s is updating the state corresponding
  to a component.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">equivocator_descriptors_update</span>
  (<span class="nv">s</span> : equivocator_descriptors)
  (<span class="nv">i</span> : index)
  (<span class="nv">si</span> : MachineDescriptor (IM i))
  (<span class="nv">j</span> : index)
  : MachineDescriptor (IM j)
  :=
  <span class="kr">match</span> decide (j = i) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt; eq_rect_r (<span class="kr">fun</span> <span class="nv">i</span> =&gt; MachineDescriptor (IM i)) si e
  | _ =&gt; s j
  <span class="kr">end</span>.</span></span></pre><div class="doc">
  The next few results describe several properties of the
  <span class="inlinecode"><span class="id" title="var">equivocator_descriptors_update</span></span> operation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk79"><span class="kn">Lemma</span> <span class="nf">equivocator_descriptors_update_neq</span>
  (<span class="nv">s</span> : equivocator_descriptors)
  (<span class="nv">i</span> : index)
  (<span class="nv">si</span> : MachineDescriptor (IM i))
  (<span class="nv">j</span> : index)
  (<span class="nv">Hneq</span> : j &lt;&gt; i)
  : equivocator_descriptors_update s i si j = s j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hneq</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">unfold</span> equivocator_descriptors_update; case_decide.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  A generalized version of <span class="inlinecode"><span class="id" title="var">equivocator_descriptors_update_eq</span></span> parametric on the
  hypothesis equating the indices.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7b"><span class="kn">Lemma</span> <span class="nf">equivocator_descriptors_update_eq_rew</span>
  (<span class="nv">s</span> : equivocator_descriptors)
  (<span class="nv">i</span> : index)
  (<span class="nv">si</span> : MachineDescriptor (IM i))
  (<span class="nv">j</span> : index)
  (<span class="nv">Heq</span> : j = i)
  : equivocator_descriptors_update s i si j = eq_rect_r (<span class="kr">fun</span> <span class="nv">i</span> =&gt; MachineDescriptor (IM i)) si Heq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si j =
eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, MachineDescriptor (IM i)) si
  Heq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7c"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si j =
eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, MachineDescriptor (IM i)) si
  Heq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7d"><span class="nb">unfold</span> equivocator_descriptors_update.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> decide (j = i) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, MachineDescriptor (IM i))
      si e
| <span class="nb">right</span> _ =&gt; s j
<span class="kr">end</span> =
eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, MachineDescriptor (IM i)) si
  Heq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7e">case_decide; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Heq, H2</var><span class="hyp-type"><b>: </b><span>j = i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, MachineDescriptor (IM i)) si
  H2 =
eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, MachineDescriptor (IM i)) si
  Heq</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">f_equal</span>; <span class="nb">apply</span> Eqdep_dec.UIP_dec.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk7f"><span class="kn">Lemma</span> <span class="nf">equivocator_descriptors_update_eq</span>
  (<span class="nv">s</span> : equivocator_descriptors)
  (<span class="nv">i</span> : index)
  (<span class="nv">si</span> : MachineDescriptor (IM i))
  : equivocator_descriptors_update s i si i = si.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si i = si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk80"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si i = si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_descriptors_update_eq_rew <span class="kr">with</span> (Heq := eq_refl).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk81"><span class="kn">Lemma</span> <span class="nf">equivocator_descriptors_update_id</span>
  (<span class="nv">s</span> : equivocator_descriptors)
  (<span class="nv">i</span> : index)
  (<span class="nv">si</span> : MachineDescriptor (IM i))
  (<span class="nv">Heq</span> : s i = si)
  : equivocator_descriptors_update s i si = s.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk82"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si = s</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk83"><span class="nb">apply</span> functional_extensionality_dep_good.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  equivocator_descriptors_update s i si x = s x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk84"><span class="nb">intro</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>Heq</var><span class="hyp-type"><b>: </b><span>s i = si</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i si j = s j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk85" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk85"><span class="nb">destruct</span> (decide (j = i)); <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i (s i) i = s i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk86" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk86"><hr></label><div class="goal-conclusion">equivocator_descriptors_update s i (s i) j = s j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk87">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i (s i) i = s i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equivocator_descriptors_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk88">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i, j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update s i (s i) j = s j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> equivocator_descriptors_update_neq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk89"><span class="kn">Lemma</span> <span class="nf">equivocator_descriptors_update_twice</span>
  (<span class="nv">s</span> : equivocator_descriptors)
  (<span class="nv">i</span> : index)
  (<span class="nv">si</span> <span class="nv">si&#39;</span> : MachineDescriptor (IM i))
  : equivocator_descriptors_update (equivocator_descriptors_update s i si) i si&#39;
  = equivocator_descriptors_update s i si&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; =
equivocator_descriptors_update s i si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk8a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; =
equivocator_descriptors_update s i si&#39;</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk8b"><span class="nb">apply</span> functional_extensionality_dep_good.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÄ</span> <span class="nv">x</span> : index,
  equivocator_descriptors_update
    (equivocator_descriptors_update s i si) i si&#39; x =
  equivocator_descriptors_update s i si&#39; x</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk8c"><span class="nb">intro</span> j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; j =
equivocator_descriptors_update s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk8d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk8d"><span class="nb">destruct</span> (decide (j = i)); <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; i =
equivocator_descriptors_update s i si&#39; i</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="EquivocatorsComposition-v-chk8e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><label class="goal-separator" for="EquivocatorsComposition-v-chk8e"><hr></label><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; j =
equivocator_descriptors_update s i si&#39; j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk8f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; i =
equivocator_descriptors_update s i si&#39; i</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> equivocator_descriptors_update_eq, equivocator_descriptors_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk90">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>si, si'</var><span class="hyp-type"><b>: </b><span>MachineDescriptor (IM i)</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>j ‚â† i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_descriptors_update
  (equivocator_descriptors_update s i si) i si&#39; j =
equivocator_descriptors_update s i si&#39; j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> !equivocator_descriptors_update_neq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk91"><span class="kn">Lemma</span> <span class="nf">equivocators_state_project_state_update_eqv</span>
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">s</span> : state equivocators_free_vlsm)
  (<span class="nv">eqv</span> : index)
  (<span class="nv">seqv</span> : state (equivocator_IM eqv))
  : <span class="kr">let</span> <span class="nv">si</span> :=  <span class="kr">match</span> eqv_descriptors eqv <span class="kr">with</span>
    | NewMachine sn =&gt; sn
    | Existing i =&gt;
      <span class="kr">match</span> equivocator_state_project seqv i <span class="kr">with</span>
      | Some si =&gt; si
      | None =&gt; equivocator_state_zero seqv
      <span class="kr">end</span>
    <span class="kr">end</span> <span class="kr">in</span>
  equivocators_state_project eqv_descriptors (state_update equivocator_IM s eqv seqv)
  = state_update IM (equivocators_state_project eqv_descriptors s) eqv si.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>seqv</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">si</span> :=
  <span class="kr">match</span> eqv_descriptors eqv <span class="kr">with</span>
  | NewMachine sn =&gt; sn
  | Existing i =&gt;
      <span class="kr">match</span> equivocator_state_project seqv i <span class="kr">with</span>
      | Some si =&gt; si
      | None =&gt; equivocator_state_zero seqv
      <span class="kr">end</span>
  <span class="kr">end</span> <span class="kr">in</span>
equivocators_state_project eqv_descriptors
  (state_update equivocator_IM s eqv seqv) =
state_update IM
  (equivocators_state_project eqv_descriptors s) eqv
  si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk92"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>seqv</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">let</span> <span class="nv">si</span> :=
  <span class="kr">match</span> eqv_descriptors eqv <span class="kr">with</span>
  | NewMachine sn =&gt; sn
  | Existing i =&gt;
      <span class="kr">match</span> equivocator_state_project seqv i <span class="kr">with</span>
      | Some si =&gt; si
      | None =&gt; equivocator_state_zero seqv
      <span class="kr">end</span>
  <span class="kr">end</span> <span class="kr">in</span>
equivocators_state_project eqv_descriptors
  (state_update equivocator_IM s eqv seqv) =
state_update IM
  (equivocators_state_project eqv_descriptors s) eqv
  si</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk93"><span class="nb">cbn</span>; extensionality ieqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>seqv</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br><span><var>ieqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocators_state_project eqv_descriptors
  (state_update equivocator_IM s eqv seqv) ieqv =
state_update IM
  (equivocators_state_project eqv_descriptors s) eqv
  <span class="kr">match</span> eqv_descriptors eqv <span class="kr">with</span>
  | NewMachine sn =&gt; sn
  | Existing i =&gt;
      <span class="kr">match</span> equivocator_state_project seqv i <span class="kr">with</span>
      | Some si =&gt; si
      | None =&gt; equivocator_state_zero seqv
      <span class="kr">end</span>
  <span class="kr">end</span> ieqv</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk94"><span class="nb">unfold</span> equivocators_state_project, state_update.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>seqv</var><span class="hyp-type"><b>: </b><span>state (equivocator_IM eqv)</span></span></span><br><span><var>ieqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocator_state_descriptor_project
  <span class="kr">match</span> decide (ieqv = eqv) <span class="kr">with</span>
  | <span class="nb">left</span> e =&gt;
      eq_rect_r
        (<span class="kr">Œª</span> <span class="nv">i</span> : index, state (equivocator_IM i)) seqv e
  | <span class="nb">right</span> _ =&gt; s ieqv
  <span class="kr">end</span> (eqv_descriptors ieqv) =
<span class="kr">match</span> decide (ieqv = eqv) <span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    eq_rect_r (<span class="kr">Œª</span> <span class="nv">i</span> : index, state (IM i))
      <span class="kr">match</span> eqv_descriptors eqv <span class="kr">with</span>
      | NewMachine sn =&gt; sn
      | Existing i =&gt;
          <span class="kr">match</span> equivocator_state_project seqv i <span class="kr">with</span>
          | Some si =&gt; si
          | None =&gt; equivocator_state_zero seqv
          <span class="kr">end</span>
      <span class="kr">end</span> e
| <span class="nb">right</span> _ =&gt;
    equivocator_state_descriptor_project (s ieqv)
      (eqv_descriptors ieqv)
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> case_decide; <span class="nb">subst</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk95"><span class="kn">Lemma</span> <span class="nf">equivocators_initial_state_project</span>
  (<span class="nv">es</span> : state equivocators_free_vlsm)
  (<span class="nv">Hes</span> : initial_state_prop equivocators_free_vlsm es)
  (<span class="nv">eqv_descriptors</span> : equivocator_descriptors)
  (<span class="nv">Heqv</span> : proper_equivocator_descriptors eqv_descriptors es)
  : initial_state_prop Free (equivocators_state_project eqv_descriptors es).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop es</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors eqv_descriptors
  es</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocators_state_project eqv_descriptors es)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk96"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop es</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors eqv_descriptors
  es</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocators_state_project eqv_descriptors es)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk97"><span class="nb">intro</span> eqv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop es</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors eqv_descriptors
  es</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocators_state_project eqv_descriptors es eqv)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk98"><span class="nb">specialize</span> (Hes eqv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors eqv_descriptors
  es</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocators_state_project eqv_descriptors es eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk99" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk99"><span class="nb">unfold</span> equivocator_IM <span class="kr">in</span> Hes.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors eqv_descriptors
  es</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocators_state_project eqv_descriptors es eqv)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9a"><span class="nb">unfold</span> equivocators_state_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_equivocator_descriptors eqv_descriptors
  es</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocator_state_descriptor_project (es eqv)
     (eqv_descriptors eqv))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9b"><span class="nb">specialize</span> (Heqv eqv).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv)
  (eqv_descriptors eqv) 
  (es eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocator_state_descriptor_project (es eqv)
     (eqv_descriptors eqv))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9c"><span class="nb">destruct</span> (eqv_descriptors eqv) <span class="kr">as</span> [sn | i]; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>proper_descriptor (IM eqv) 
  (Existing i) (es eqv)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocator_state_descriptor_project (es eqv)
     (Existing i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9d"><span class="nb">destruct</span> Heqv <span class="kr">as</span> [es_eqv_i Hes_eqv_i].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>es_eqv_i</var><span class="hyp-type"><b>: </b><span>state (IM eqv)</span></span></span><br><span><var>Hes_eqv_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (es eqv) i =
Some es_eqv_i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (equivocator_state_descriptor_project (es eqv)
     (Existing i))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9e" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9e"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>es_eqv_i</var><span class="hyp-type"><b>: </b><span>state (IM eqv)</span></span></span><br><span><var>Hes_eqv_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (es eqv) i =
Some es_eqv_i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (default (equivocator_state_zero (es eqv))
     (equivocator_state_project (es eqv) i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chk9f"><span class="nb">rewrite</span> Hes_eqv_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>es_eqv_i</var><span class="hyp-type"><b>: </b><span>state (IM eqv)</span></span></span><br><span><var>Hes_eqv_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (es eqv) i =
Some es_eqv_i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop
  (default (equivocator_state_zero (es eqv))
     (Some es_eqv_i))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka0"><span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>es</var><span class="hyp-type"><b>: </b><span>state equivocators_free_vlsm</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hes</var><span class="hyp-type"><b>: </b><span>initial_state_prop (es eqv)</span></span></span><br><span><var>eqv_descriptors</var><span class="hyp-type"><b>: </b><span>equivocator_descriptors</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>nat</span></span></span><br><span><var>es_eqv_i</var><span class="hyp-type"><b>: </b><span>state (IM eqv)</span></span></span><br><span><var>Hes_eqv_i</var><span class="hyp-type"><b>: </b><span>equivocator_state_project (es eqv) i =
Some es_eqv_i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop es_eqv_i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> equivocator_vlsm_initial_state_preservation_rev.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka1"><span class="kn">Lemma</span> <span class="nf">equivocators_initial_message</span>
  (<span class="nv">m</span> : message)
  (<span class="nv">Hem</span> : initial_message_prop equivocators_free_vlsm m)
  : initial_message_prop Free m.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hem</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka2"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hem</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka3"><span class="nb">destruct</span> Hem <span class="kr">as</span> [eqv [emi Hem]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>Free</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>equivocators_free_vlsm</var><span><span class="hyp-body"><b>:= </b><span>free_composite_vlsm
  equivocator_IM</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>eqv</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>emi</var><span class="hyp-type"><b>: </b><span>initial_message (equivocator_IM eqv)</span></span></span><br><span><var>Hem</var><span class="hyp-type"><b>: </b><span>`emi = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">eqv</span>, emi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_fully_equivocating_composition</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> @equivocator_descriptors_update_eq : state_update.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> @equivocator_descriptors_update_id <span class="nb">using</span> <span class="bp">done</span> : state_update.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> @equivocator_descriptors_update_neq <span class="nb">using</span> <span class="bp">done</span> : state_update.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input">#[export] <span class="kn">Hint Rewrite</span> @equivocators_state_project_state_update_eqv <span class="nb">using</span> <span class="bp">done</span> : state_update.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_equivocators_sub_projections</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{EqDecision index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  (equivocating : list index)
  (sub_equivocator_IM := sub_IM (equivocator_IM IM) equivocating)
  (sub_IM_equivocator := equivocator_IM (sub_IM IM equivocating))
  .</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">seeded_equivocators_no_equivocation_vlsm</span>
  (<span class="nv">seed</span> : message -&gt; <span class="kt">Prop</span>)
  : VLSM message :=
  composite_no_equivocation_vlsm_with_preloaded
    sub_equivocator_IM (free_constraint sub_equivocator_IM) seed.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka4"><span class="kn">Lemma</span> <span class="nf">sub_equivocator_IM_initial_state_commute</span> <span class="nv">is</span> :
  composite_initial_state_prop sub_equivocator_IM <span class="kr">is</span> &lt;-&gt;
  composite_initial_state_prop sub_IM_equivocator <span class="kr">is</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>equivocating</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_equivocator_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM (equivocator_IM IM)
  equivocating</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocating
‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM_equivocator</var><span><span class="hyp-body"><b>:= </b><span>equivocator_IM
  (sub_IM IM equivocating)</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocating
‚Üí VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>composite_state sub_equivocator_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_equivocator_IM <span class="kr">is</span>
‚Üî composite_initial_state_prop sub_IM_equivocator <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="EquivocatorsComposition-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="EquivocatorsComposition-v-chka5"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>equivocating</var><span class="hyp-type"><b>: </b><span>list index</span></span></span><br><span><var>sub_equivocator_IM</var><span><span class="hyp-body"><b>:= </b><span>sub_IM (equivocator_IM IM)
  equivocating</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocating
‚Üí VLSM message</span></span></span></span><br><span><var>sub_IM_equivocator</var><span><span class="hyp-body"><b>:= </b><span>equivocator_IM
  (sub_IM IM equivocating)</span></span><span class="hyp-type"><b>: </b><span>sub_index equivocating
‚Üí VLSM message</span></span></span></span><br><span><var>is</var><span class="hyp-type"><b>: </b><span>composite_state sub_equivocator_IM</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_initial_state_prop sub_equivocator_IM <span class="kr">is</span>
‚Üî composite_initial_state_prop sub_IM_equivocator <span class="kr">is</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_equivocators_sub_projections</span>.</span></span></pre></article></body></html>