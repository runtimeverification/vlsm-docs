<!DOCTYPE html>
<html class="alectryon-standalone"><head><title>LimitedByzantineTraces.v</title><meta charset="utf-8"><meta content="Alectryon" name="generator"><meta name="viewport" content="width=device-width, initial-scale=1"><link href="alectryon.css" rel="stylesheet"><link href="pygments.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/IBM-type/0.5.4/css/ibm-type.min.css" integrity="sha512-sky5cf9Ts6FY1kstGOBHSybfKqdHR41M0Ldb0BjNiv3ifltoQIsg0zIaQ+wwdwgQ0w9vKFW7Js50lxH9vqNSSw==" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/firacode/5.2.0/fira_code.min.css" integrity="sha512-MbysAYimH1hH2xYzkkMHB6MqxBqfP0megxsCLknbYqHVwXTCg9IqHbk+ZP/vnhO8UEW6PaXAkKe2vQ+SWACxxA==" crossorigin="anonymous" /><script src="alectryon.js"></script></head><body><article class="alectryon-root alectryon-windowed alectryon-coqdoc"><div class="alectryon-banner">Built with <a href="https://github.com/cpitclaudel/alectryon/">Alectryon</a>, running Coq+SerAPI v8.18.0+0.18.1. Bubbles (<span class="alectryon-bubble"></span>) indicate interactive fragments: hover for details, tap to reveal contents. Use <kbd>Ctrl+‚Üë</kbd> <kbd>Ctrl+‚Üì</kbd> to navigate, <kbd>Ctrl+üñ±Ô∏è</kbd> to focus. On Mac, use <kbd>‚åò</kbd> instead of <kbd>Ctrl</kbd>.</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk0" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk0"><span class="kn">From</span> stdpp <span class="kn">Require Import</span> prelude finite.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file ring_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file zify_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file micromega_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote><blockquote class="alectryon-message">[Loading ML file btauto_plugin.cmxs (<span class="nb">using</span> legacy method) ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> Coq <span class="kn">Require Import</span> FunctionalExtensionality Reals.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Preamble FinSetExtras.</label><small class="alectryon-output"><div><div class="alectryon-messages"><blockquote class="alectryon-message">[Loading ML file coq-itauto.plugin ... <span class="bp">done</span>]</blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Lib <span class="kn">Require Import</span> Measurable RealsExtras.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> VLSM MessageDependencies VLSMProjections Composition ProjectionTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> SubProjectionTraces AnnotatedVLSM Equivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> ByzantineTraces.FixedSetByzantineTraces.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation.FixedSetEquivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation.LimitedMessageEquivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation.MsgDepLimitedEquivocation.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">From</span> VLSM.Core <span class="kn">Require Import</span> Equivocation.TraceWiseEquivocation.</span></span></pre><div class="doc">
<a id="lab1"></a><h1 class="section">Core: VLSM Compositions with Byzantine Components of Limited Weight</h1>
<div class="paragraph"> </div>

  In this module, we define and study protocol executions allowing a
  (weight-)limited amount of byzantine faults.

<div class="paragraph"> </div>

  We will show that, if the non-byzantine components are validators for a
  composition constraint allowing only a limited amount of equivocation, then
  they do not distinguish between byzantine components and equivocating ones, that is,
  projections of traces with byzantine faults to the non-byzantine components are
  projections of traces of the composition of the regular components under a
  composition constraint allowing only a limited amount of equivocation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_limited_byzantine_traces</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{FinSet index Ci}
  `{!finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)}
  (threshold : R)
  `{ReachableThreshold validator Cv threshold}
  `{!finite.Finite validator}
  (A : validator -&gt; index)
  `{!Inj (=) (=) A}
  (sender : message -&gt; option validator)
  .</span></span></pre><div class="doc">
  We define the <span class="inlinecode"><span class="id" title="var">limited_byzantine_trace_prop</span></span>erty in two steps. First, we
  leverage the <span class="inlinecode"><span class="id" title="var">fixed_byzantine_trace_alt_prop</span></span>erty by assuming a fixed selection
  of <code>byzantine</code> components whose added weight is below the <span class="inlinecode"><span class="id" title="var">ReachableThreshold</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">fixed_limited_byzantine_trace_prop</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  (<span class="nv">byzantine_vs</span> : Cv)
  (<span class="nv">byzantine</span> := fin_sets.set_map A byzantine_vs : Ci)
  : <span class="kt">Prop</span>
  := (sum_weights byzantine_vs &lt;= threshold)%R /\
     fixed_byzantine_trace_alt_prop (Ci := Ci) IM byzantine A sender s tr.</span></span></pre><div class="doc">
  The union of traces with the <span class="inlinecode"><span class="id" title="var">fixed_limited_byzantine_trace_prop</span></span>erty over
  all possible selections of (limited) byzantine components.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Definition</span> <span class="nf">limited_byzantine_trace_prop</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  : <span class="kt">Prop</span> :=
  <span class="kr">exists</span> <span class="nv">byzantine</span>, fixed_limited_byzantine_trace_prop s tr byzantine.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  `{FinSet message Cm}
  {is_equivocating_tracewise_no_has_been_sent_dec :
    RelDecision (is_equivocating_tracewise_no_has_been_sent IM A sender)}
  (limited_constraint := tracewise_limited_equivocation_constraint (Cv := Cv) IM threshold A sender)
  (Limited : VLSM message := composite_vlsm IM limited_constraint)
  (Hvalidator : <span class="kr">forall</span> <span class="nv">i</span> : index, component_message_validator_prop IM limited_constraint i)
  (no_initial_messages_in_IM : no_initial_messages_in_IM_prop IM)
  (can_emit_signed : channel_authentication_prop IM A sender)
  (message_dependencies : message -&gt; Cm)
  `{!Irreflexive (msg_dep_happens_before message_dependencies)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies}
  (Hfull : <span class="kr">forall</span> <span class="nv">i</span>, message_dependencies_full_node_condition_prop (IM i) message_dependencies)
  .</span></span></pre><div class="doc">
<a id="lab2"></a><h2 class="section">Assuming the byzantine components are known</h2>
<div class="paragraph"> </div>

  We will first fix a selection of <code>byzantine</code> components of limited weight and
  analyze traces with the <span class="inlinecode"><span class="id" title="var">fixed_limited_byzantine_trace_prop</span></span>erty w.r.t. that
  selection.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_fixed_limited_selection</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  (<span class="nv">byzantine_vs</span> : Cv)
  (<span class="nv">byzantine</span> : Ci := fin_sets.set_map A byzantine_vs )
  (<span class="nv">non_byzantine</span> : Ci := difference (list_to_set (enum index)) byzantine)
  (<span class="nv">Hlimit</span> : (sum_weights byzantine_vs &lt;= threshold)%R)
  (<span class="nv">PreNonByzantine</span> := preloaded_fixed_non_byzantine_vlsm IM byzantine A sender)
  (<span class="nv">HBE</span> : BasicEquivocation (composite_state IM) validator Cv threshold
    := equivocation_dec_tracewise IM threshold A sender)
  .</span></span></pre><div class="doc">
  When replacing the byzantine components of a composite <span class="inlinecode"><span class="id" title="var">valid_state</span></span> with
  initial states for those machines we obtain a state which is <span class="inlinecode"><span class="id" title="var">not_heavy</span></span>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk2" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk2"><span class="kn">Lemma</span> <span class="nf">limited_PreNonByzantine_valid_state_lift_not_heavy</span> <span class="nv">s</span>
  (<span class="nv">Hs</span> : valid_state_prop PreNonByzantine s)
  (<span class="nv">sX</span> := lift_sub_state IM (elements non_byzantine) s)
  : not_heavy (<span class="mi">1</span> := HBE) sX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">not_heavy sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk3" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk3"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">not_heavy sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk4" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk4"><span class="nb">cut</span> (equivocating_validators (<span class="mi">1</span> := HBE) sX ‚äÜ byzantine_vs).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs
‚Üí not_heavy sX</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk5" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk5"><hr></label><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs
‚Üí not_heavy sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7"><span class="nb">intro</span> Hincl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">not_heavy sX</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk8" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk8"><span class="nb">unfold</span> not_heavy.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(equivocation_fault sX &lt;= threshold)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk9" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk9"><span class="nb">transitivity</span> (sum_weights byzantine_vs); [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(equivocation_fault sX &lt;= sum_weights byzantine_vs)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka"><span class="nb">apply</span> sum_weights_subseteq_list.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (elements (equivocating_validators sX))</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chkb" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chkb"><hr></label><div class="goal-conclusion">NoDup (elements byzantine_vs)</div></blockquote><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chkc" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chkc"><hr></label><div class="goal-conclusion">elements (equivocating_validators sX)
‚äÜ elements byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (elements (equivocating_validators sX))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> NoDup_elements.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chke" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chke">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">NoDup (elements byzantine_vs)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> NoDup_elements.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkf" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkf">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">elements (equivocating_validators sX)
‚äÜ elements byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk10" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk10"><span class="nb">intros</span> i Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hincl</var><span class="hyp-type"><b>: </b><span>equivocating_validators sX ‚äÜ byzantine_vs</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà elements (equivocating_validators sX)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà elements byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_elements, Hincl, elem_of_elements, Hi.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk11" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk11">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>Hs</var><span class="hyp-type"><b>: </b><span>valid_state_prop PreNonByzantine s</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk12" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk12"><span class="nb">apply</span> valid_state_has_trace <span class="kr">in</span> Hs <span class="kr">as</span> [<span class="kr">is</span> [tr Htr]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk13" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk13"><span class="nb">specialize</span> (preloaded_non_byzantine_vlsm_lift IM byzantine A sender)
    <span class="kr">as</span> Hproj.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk14" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk14"><span class="nb">apply</span> (VLSM_embedding_finite_valid_trace_init_to Hproj) <span class="kr">in</span> Htr <span class="kr">as</span> Hpre_tr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">equivocating_validators sX ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk15" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk15"><span class="nb">intros</span> v Hv.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk16" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk16"><span class="nb">apply</span> equivocating_validators_is_equivocating_tracewise_iff <span class="kr">in</span> Hv <span class="kr">as</span> Hvs&#39;.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hvs'</var><span class="hyp-type"><b>: </b><span>is_equivocating_tracewise_no_has_been_sent IM A
  sender sX v</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk17" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk17"><span class="nb">specialize</span> (Hvs&#39; _ _ Hpre_tr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hvs'</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÉ</span> <span class="nv">m</span> : message,
  sender m = Some v
  ‚àß equivocation_in_trace
      (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM)) m
      (VLSM_embedding_finite_trace_project
        Hproj tr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk18" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk18"><span class="nb">destruct</span> Hvs&#39; <span class="kr">as</span> [m0 [Hsender0 [preX [itemX [sufX [Htr_pr [Hm0 Heqv]]]]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>VLSM_embedding_finite_trace_project Hproj tr =
preX ++ itemX :: sufX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input itemX = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk19" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk19"><span class="nb">apply</span> map_eq_app <span class="kr">in</span> Htr_pr <span class="kr">as</span> [pre [item_suf [Heqtr [Hpre_pr Hitem_suf_pr]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>sufX, pre, item_suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item_suf</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hitem_suf_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm
        IM byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) item_suf =
itemX :: sufX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input itemX = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1a"><span class="nb">apply</span> map_eq_cons <span class="kr">in</span> Hitem_suf_pr <span class="kr">as</span> [item [suf [Heqitem_suf [Hitem_pr Hsuf_pr]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  tr</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     tr)</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>sufX, pre, item_suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqtr</var><span class="hyp-type"><b>: </b><span>tr = pre ++ item_suf</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqitem_suf</var><span class="hyp-type"><b>: </b><span>item_suf = item :: suf</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_embedding_transition_item_project
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))) item = itemX</span></span></span><br><span><var>Hsuf_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) suf = sufX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input itemX = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1b"><span class="nb">subst</span> tr item_suf.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  (pre ++ item :: suf)</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_embedding_transition_item_project
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))) item = itemX</span></span></span><br><span><var>Hsuf_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) suf = sufX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input itemX = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1c"><span class="nb">clear</span> Hsuf_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  (pre ++ item :: suf)</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>itemX</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hitem_pr</var><span class="hyp-type"><b>: </b><span>pre_VLSM_embedding_transition_item_project
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))) item = itemX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input itemX = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1d"><span class="nb">subst</span> itemX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  (pre ++ item :: suf)</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
     item) = 
Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1e"><span class="nb">cbn</span> <span class="kr">in</span> Hm0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  (pre ++ item :: suf)</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk1f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk1f"><span class="nb">change</span> (pre ++ item :: suf) <span class="kr">with</span> (pre ++ [item] ++ suf) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to PreNonByzantine <span class="kr">is</span> s
  (pre ++ [item] ++ suf)</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk20" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk20"><span class="nb">destruct</span> Htr <span class="kr">as</span> [Htr Hinit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span> s
  (pre ++ [item] ++ suf)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk21" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk21"><span class="nb">apply</span> (finite_valid_trace_from_to_app_split PreNonByzantine) <span class="kr">in</span> Htr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Htr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre
‚àß finite_valid_trace_from_to PreNonByzantine
    (finite_trace_last <span class="kr">is</span> pre) s 
    ([item] ++ suf)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk22" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk22"><span class="nb">destruct</span> Htr <span class="kr">as</span> [Hpre Hitem].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine
  (finite_trace_last <span class="kr">is</span> pre) s 
  ([item] ++ suf)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk23" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk23"><span class="nb">apply</span> (VLSM_embedding_finite_valid_trace_from_to Hproj) <span class="kr">in</span> Hpre <span class="kr">as</span> Hpre_pre.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine
  (finite_trace_last <span class="kr">is</span> pre) s 
  ([item] ++ suf)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk24" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk24"><span class="nb">apply</span> valid_trace_last_pstate <span class="kr">in</span> Hpre_pre <span class="kr">as</span> Hs_pre.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine
  (finite_trace_last <span class="kr">is</span> pre) s 
  ([item] ++ suf)</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk25" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk25"><span class="nb">apply</span> (finite_valid_trace_from_to_app_split PreNonByzantine), proj1 <span class="kr">in</span> Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>item</var><span class="hyp-type"><b>: </b><span>transition_item</span></span></span><br><span><var>suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>Hitem</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine
  (finite_trace_last <span class="kr">is</span> pre)
  (finite_trace_last
     (finite_trace_last <span class="kr">is</span> pre) [item]) [item]</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++ item :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>preX, sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre_pr</var><span class="hyp-type"><b>: </b><span>map
  (pre_VLSM_embedding_transition_item_project
     (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
     (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
     (lift_sub_label IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
        (list_to_set (enum index)
        ‚àñ byzantine)))) pre = preX</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input item = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0 preX</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk26" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk26"><span class="nb">inversion</span> Hitem; <span class="nb">subst</span>; <span class="nb">clear</span> Htl Hitem.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := iom;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>input
  {|
    l := l;
    input := iom;
    destination := s0;
    output := oom
  |} = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreNonByzantine l
  (finite_trace_last <span class="kr">is</span> pre, iom) (
  s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk27" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk27"><span class="nb">simpl</span> <span class="kr">in</span> Hm0.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := iom;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hm0</var><span class="hyp-type"><b>: </b><span>iom = Some m0</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreNonByzantine l
  (finite_trace_last <span class="kr">is</span> pre, iom) (
  s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk28" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk28"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>input_valid_transition PreNonByzantine l
  (finite_trace_last <span class="kr">is</span> pre, Some m0) (
  s0, oom)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk29" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk29"><span class="nb">destruct</span> Ht <span class="kr">as</span> [[_ [_ [_ [Hc _]]]] _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hc</var><span class="hyp-type"><b>: </b><span>NoEquivocation.composite_no_equivocations_except_from
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (fixed_set_signed_message IM byzantine A sender)
  l (finite_trace_last <span class="kr">is</span> pre, Some m0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk2a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk2a"><span class="nb">destruct</span> Hc <span class="kr">as</span> [[sub_i Hsenti] | Hemit].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index
  (elements
     (list_to_set (enum index) ‚àñ byzantine))</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     sub_i)
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     sub_i) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk2b" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk2b"><hr></label><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk2c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk2c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index
  (elements
     (list_to_set (enum index) ‚àñ byzantine))</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     sub_i)
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     sub_i) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk2d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk2d">destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span> sub_i.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk2e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk2e"><span class="nb">assert</span> (Hsent : composite_has_been_sent IM
                      (lift_sub_state IM (elements non_byzantine) (finite_trace_last <span class="kr">is</span> pre)) m0).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM
  (lift_sub_state IM (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre)) m0</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk2f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent IM
  (lift_sub_state IM 
     (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre)) m0</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk2f"><hr></label><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk30" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk30">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM
  (lift_sub_state IM (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre)) m0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk31" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk31"><span class="kr">exists</span> <span class="nv">i</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM i)
  (lift_sub_state IM (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre) i) m0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk32" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk32"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM i)
  (lift_sub_state_to IM (elements non_byzantine)
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
     (finite_trace_last <span class="kr">is</span> pre) i) m0</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (lift_sub_state_to_eq _ _ _ _ _ Hi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk33" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk33">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent IM
  (lift_sub_state IM 
     (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk34" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk34"><span class="nb">apply</span> (composite_proper_sent IM) <span class="kr">in</span> Hsent; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  (free_composite_vlsm IM)
  (field_selector output)
  (lift_sub_state IM 
     (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk35" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk35"><span class="nb">apply</span> (VLSM_embedding_initial_state Hproj) <span class="kr">in</span> Hinit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     <span class="kr">is</span>)</span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Hsenti</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))
  ((finite_trace_last <span class="kr">is</span> pre, Some m0).<span class="mi">1</span>
     (dexist i Hi)) m0</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>selected_message_exists_in_all_preloaded_traces
  (free_composite_vlsm IM)
  (field_selector output)
  (lift_sub_state IM 
     (elements non_byzantine)
     (finite_trace_last <span class="kr">is</span> pre)) m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">specialize</span> (Hsent _ _ (conj Hpre_pre Hinit)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk36" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk36">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk37" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk37"><span class="nb">specialize</span> (proj1 Hemit) <span class="kr">as</span> [i [Hi Hsigned]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk38" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk38"><span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk39" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk39"><span class="nb">destruct</span> (decide (i ‚àà byzantine)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk3a" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ byzantine</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk3a"><hr></label><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk3b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk3b">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk3c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk3c"><span class="nb">unfold</span> channel_authenticated_message <span class="kr">in</span> Hsigned.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>option_map A (sender m0) = Some i</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk3d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk3d"><span class="nb">rewrite</span> Hsender0 <span class="kr">in</span> Hsigned.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>option_map A (Some v) = Some i</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>i ‚àà byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk3e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk3e"><span class="nb">apply</span> Some_inj <span class="kr">in</span> Hsigned; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>A v
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>e</var><span class="hyp-type"><b>: </b><span>A v ‚àà byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">revert</span> e; <span class="nb">apply</span> elem_of_set_map_inj.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk3f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk3f">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i
‚àâ elements (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk40" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk40"><span class="nb">rewrite</span> elem_of_elements <span class="kr">in</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àâ list_to_set (enum index) ‚àñ byzantine</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">v ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk41" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk41"><span class="bp">contradict</span> Hi.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà list_to_set (enum index) ‚àñ byzantine</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk42" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk42"><span class="nb">apply</span> elem_of_difference; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s, is</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>pre, suf</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hpre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to PreNonByzantine <span class="kr">is</span>
  (finite_trace_last <span class="kr">is</span> pre) pre</span></span></span><br><span><var>s0</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>Hinit</var><span class="hyp-type"><b>: </b><span>initial_state_prop <span class="kr">is</span></span></span></span><br><span><var>sX</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM (elements non_byzantine) s</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>Hproj</var><span class="hyp-type"><b>: </b><span>VLSM_embedding
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_label IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))</span></span></span><br><span><var>m0</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hpre_tr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_init_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) s)
  (VLSM_embedding_finite_trace_project Hproj
     (pre ++
      {|
        l := l;
        input := Some m0;
        destination := s0;
        output := oom
      |} :: suf))</span></span></span><br><span><var>v</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>v ‚àà equivocating_validators sX</span></span></span><br><span><var>Hsender0</var><span class="hyp-type"><b>: </b><span>sender m0 = Some v</span></span></span><br><span><var>sufX</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Heqv</var><span class="hyp-type"><b>: </b><span>¬¨ trace_has_message 
    (field_selector output) m0
    (map
       (pre_VLSM_embedding_transition_item_project
        (preloaded_fixed_non_byzantine_vlsm IM
        byzantine A sender)
        (preloaded_with_all_messages_vlsm
        (free_composite_vlsm IM))
        (lift_sub_label IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
        (elements
        (list_to_set (enum index) ‚àñ byzantine))))
       pre)</span></span></span><br><span><var>Hpre_pre</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from_to
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine)) <span class="kr">is</span>)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
        ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))
  (VLSM_embedding_finite_trace_project
     Hproj pre)</span></span></span><br><span><var>Hs_pre</var><span class="hyp-type"><b>: </b><span>valid_state_prop
  (preloaded_with_all_messages_vlsm
     (free_composite_vlsm IM))
  (lift_sub_state IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (finite_trace_last <span class="kr">is</span> pre))</span></span></span><br><span><var>Hemit</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A sender
  m0</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender i m0</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚àâ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i ‚àà list_to_set (enum index)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> elem_of_list_to_set, elem_of_enum.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Existing Instance</span> <span class="nf">HBE</span>.</span></span></pre><div class="doc">
  When replacing the byzantine components of a composite <span class="inlinecode"><span class="id" title="var">valid_state</span></span> with
  initial states for those machines validity of transitions for the non-byzantine
  components is preserved.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk43" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk43"><span class="kn">Lemma</span> <span class="nf">limited_PreNonByzantine_lift_valid</span>
  : weak_embedding_valid_preservation PreNonByzantine Limited
    (lift_sub_label IM (elements non_byzantine))
    (lift_sub_state IM (elements non_byzantine)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_embedding_valid_preservation PreNonByzantine
  Limited (lift_sub_label IM (elements non_byzantine))
  (lift_sub_state IM (elements non_byzantine))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk44" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk44"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">weak_embedding_valid_preservation PreNonByzantine
  Limited (lift_sub_label IM (elements non_byzantine))
  (lift_sub_state IM (elements non_byzantine))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk45" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk45"><span class="nb">intros</span> l s om Hv HsY HomY.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid (lift_sub_label IM (elements non_byzantine) l)
  (lift_sub_state IM (elements non_byzantine) s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk46" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk46"><span class="kp">repeat</span> <span class="nb">split</span>; [<span class="bp">by</span> rapply @lift_sub_valid; <span class="nb">apply</span> Hv |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_constraint
  (lift_sub_label IM (elements non_byzantine) l)
  (lift_sub_state IM (elements non_byzantine) s, om)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk47" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk47"><span class="nb">hnf</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LimitedEquivocationProp IM threshold is_equivocating
  (composite_transition IM
     (lift_sub_label IM (elements non_byzantine) l)
     (lift_sub_state IM (elements non_byzantine) s, om)).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk48" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk48"><span class="nb">destruct</span> (composite_transition (sub_IM IM (elements non_byzantine)) l (s, om))
    <span class="kr">as</span> [s&#39; om&#39;] <span class="nb">eqn</span>: Ht.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state
  (sub_IM IM (elements non_byzantine))</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition
  (sub_IM IM (elements non_byzantine)) l (
  s, om) = (
s&#39;, om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LimitedEquivocationProp IM threshold is_equivocating
  (composite_transition IM
     (lift_sub_label IM (elements non_byzantine) l)
     (lift_sub_state IM (elements non_byzantine) s, om)).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk49" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk49"><span class="nb">apply</span> (lift_sub_transition IM (elements non_byzantine)) <span class="kr">in</span> Ht <span class="kr">as</span> HtX.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state
  (sub_IM IM (elements non_byzantine))</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition
  (sub_IM IM (elements non_byzantine)) l (
  s, om) = (
s&#39;, om&#39;)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>composite_transition IM
  (lift_sub_label IM (elements non_byzantine) l)
  (lift_sub_state IM (elements non_byzantine) s,
   om) =
(lift_sub_state IM (elements non_byzantine) s&#39;,
 om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LimitedEquivocationProp IM threshold is_equivocating
  (composite_transition IM
     (lift_sub_label IM (elements non_byzantine) l)
     (lift_sub_state IM (elements non_byzantine) s, om)).<span class="mi">1</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk4a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk4a"><span class="nb">simpl</span> <span class="kr">in</span> HtX |- *; <span class="nb">rewrite</span> HtX; <span class="nb">simpl</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state
  (sub_IM IM (elements non_byzantine))</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition
  (sub_IM IM (elements non_byzantine)) l (
  s, om) = (
s&#39;, om&#39;)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition 
     (projT2 l)
     (lift_sub_state IM 
        (elements non_byzantine) s 
        (`(projT1 l)), om) <span class="kr">in</span>
 (state_update IM
    (lift_sub_state IM 
       (elements non_byzantine) s) 
    (`(projT1 l)) si&#39;, om&#39;)) =
(lift_sub_state IM (elements non_byzantine) s&#39;,
 om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LimitedEquivocationProp IM threshold
  (is_equivocating_tracewise_no_has_been_sent IM A
     sender)
  (lift_sub_state IM (elements non_byzantine) s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk4b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk4b"><span class="nb">change</span> (is_equivocating_tracewise_no_has_been_sent _ _ _) <span class="kr">with</span> is_equivocating.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, om)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>HomY</var><span class="hyp-type"><b>: </b><span>option_valid_message_prop Limited om</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>composite_state
  (sub_IM IM (elements non_byzantine))</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht</var><span class="hyp-type"><b>: </b><span>composite_transition
  (sub_IM IM (elements non_byzantine)) l (
  s, om) = (
s&#39;, om&#39;)</span></span></span><br><span><var>HtX</var><span class="hyp-type"><b>: </b><span>(<span class="kr">let</span> (<span class="nv">si&#39;</span>, om&#39;) :=
   transition 
     (projT2 l)
     (lift_sub_state IM 
        (elements non_byzantine) s 
        (`(projT1 l)), om) <span class="kr">in</span>
 (state_update IM
    (lift_sub_state IM 
       (elements non_byzantine) s) 
    (`(projT1 l)) si&#39;, om&#39;)) =
(lift_sub_state IM (elements non_byzantine) s&#39;,
 om&#39;)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">LimitedEquivocationProp IM threshold is_equivocating
  (lift_sub_state IM (elements non_byzantine) s&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> tracewise_not_heavy_LimitedEquivocationProp_iff,
    limited_PreNonByzantine_valid_state_lift_not_heavy,
    input_valid_transition_destination.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  By replacing the byzantine components of a composite <span class="inlinecode"><span class="id" title="var">valid_state</span></span> with
  initial states for those machines and ignoring transitions for byzantine components
  we obtain valid traces for the <code>Limited</code> equivocation composition.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk4c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk4c"><span class="kn">Lemma</span> <span class="nf">limited_PreNonByzantine_vlsm_lift</span>
  : VLSM_embedding PreNonByzantine Limited
      (lift_sub_label IM (elements non_byzantine))
      (lift_sub_state IM (elements non_byzantine)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_embedding PreNonByzantine Limited
  (lift_sub_label IM (elements non_byzantine))
  (lift_sub_state IM (elements non_byzantine))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk4d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk4d"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_embedding PreNonByzantine Limited
  (lift_sub_label IM (elements non_byzantine))
  (lift_sub_state IM (elements non_byzantine))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk4e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk4e"><span class="nb">apply</span> basic_VLSM_embedding; <span class="nb">intros</span> ? *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid PreNonByzantine l (s, om)
‚Üí valid_state_prop Limited
    (lift_sub_state IM (elements non_byzantine) s)
  ‚Üí option_valid_message_prop Limited om
    ‚Üí valid
        (lift_sub_label IM (elements non_byzantine) l)
        (lift_sub_state IM (elements non_byzantine) s,
         om)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk4f" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk4f"><hr></label><div class="goal-conclusion">input_valid_transition PreNonByzantine l (
  s, om) (
  s&#39;, om&#39;)
‚Üí transition
    (lift_sub_label IM (elements non_byzantine) l)
    (lift_sub_state IM (elements non_byzantine) s, om) =
  (lift_sub_state IM (elements non_byzantine) s&#39;, om&#39;)</div></blockquote><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk50" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk50"><hr></label><div class="goal-conclusion">initial_state_prop s
‚Üí initial_state_prop
    (lift_sub_state IM (elements non_byzantine) s)</div></blockquote><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk51" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk51"><hr></label><div class="goal-conclusion">input_valid PreNonByzantine l (s, Some m)
‚Üí valid_state_prop Limited
    (lift_sub_state IM (elements non_byzantine) s)
  ‚Üí initial_message_prop m
    ‚Üí valid_message_prop Limited m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk52" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk52">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid PreNonByzantine l (s, om)
‚Üí valid_state_prop Limited
    (lift_sub_state IM (elements non_byzantine) s)
  ‚Üí option_valid_message_prop Limited om
    ‚Üí valid
        (lift_sub_label IM (elements non_byzantine) l)
        (lift_sub_state IM (elements non_byzantine) s,
         om)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">apply</span> limited_PreNonByzantine_lift_valid.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk53" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk53">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>s'</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition PreNonByzantine l (s, om)
  (s&#39;, om&#39;)
‚Üí transition
    (lift_sub_label IM (elements non_byzantine) l)
    (lift_sub_state IM (elements non_byzantine) s, om) =
  (lift_sub_state IM (elements non_byzantine) s&#39;, om&#39;)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span> * []; rapply lift_sub_transition.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk54" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk54">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_state_prop s
‚Üí initial_state_prop
    (lift_sub_state IM (elements non_byzantine) s)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intros</span>; <span class="nb">apply</span> (lift_sub_state_initial IM).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk55" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk55">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid PreNonByzantine l (s, Some m)
‚Üí valid_state_prop Limited
    (lift_sub_state IM (elements non_byzantine) s)
  ‚Üí initial_message_prop m
    ‚Üí valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk56" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk56"><span class="nb">intros</span> Hv HsY [[sub_i [[im Him] Heqm]] | Hseeded].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index
  (elements
     (list_to_set (enum index) ‚àñ byzantine))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>`(im ‚Üæ Him) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk57" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>Hseeded</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A
  sender m</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk57"><hr></label><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk58" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk58">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index
  (elements
     (list_to_set (enum index) ‚àñ byzantine))</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop im</span></span></span><br><span><var>Heqm</var><span class="hyp-type"><b>: </b><span>`(im ‚Üæ Him) = m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk59" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk59"><span class="nb">cbn</span> <span class="kr">in</span> Heqm; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>sub_i</var><span class="hyp-type"><b>: </b><span>sub_index
  (elements
     (list_to_set (enum index) ‚àñ byzantine))</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk5a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk5a">destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk5b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk5b"><span class="nb">unfold</span> sub_IM <span class="kr">in</span> Him; <span class="nb">cbn</span> <span class="kr">in</span> Him; <span class="nb">clear</span> -Him.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk5c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk5c"><span class="nb">apply</span> initial_message_is_valid.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Him</var><span class="hyp-type"><b>: </b><span>initial_message_prop m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">initial_message_prop m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">i</span>, (exist _ m Him).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk5d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk5d">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>Hseeded</var><span class="hyp-type"><b>: </b><span>fixed_set_signed_message IM byzantine A
  sender m</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk5e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk5e"><span class="nb">destruct</span> Hseeded <span class="kr">as</span> (Hsigned &amp; i &amp; Hi &amp; li &amp; si &amp; Hpre_valid).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>PreNonByzantine</var><span><span class="hyp-body"><b>:= </b><span>preloaded_fixed_non_byzantine_vlsm IM
  byzantine A sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>HBE</var><span><span class="hyp-body"><b>:= </b><span>equivocation_dec_tracewise IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>BasicEquivocation 
  (composite_state IM) validator Cv threshold</span></span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label PreNonByzantine</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>state PreNonByzantine</span></span></span><br><span><var>m</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>Hv</var><span class="hyp-type"><b>: </b><span>input_valid PreNonByzantine l (s, Some m)</span></span></span><br><span><var>HsY</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited
  (lift_sub_state IM (elements non_byzantine) s)</span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>non_sub_index_authenticated_message
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  A sender m</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>i ‚àà list_to_set (enum index) ‚àñ byzantine</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state (preloaded_with_all_messages_vlsm (IM i))</span></span></span><br><span><var>Hpre_valid</var><span class="hyp-type"><b>: </b><span>input_constrained (IM i) li (si, Some m)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_message_prop Limited m</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hvalidator.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_fixed_limited_selection</span>.</span></span></pre><div class="doc">
  Given a trace with the <span class="inlinecode"><span class="id" title="var">fixed_limited_byzantine_trace_prop</span></span>erty for a selection
  of <code>byzantine</code> components, there exists a valid trace for the <code>Limited</code>
  equivocation composition such that the projection of the two traces to
  the non-byzantine components coincide.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk5f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk5f"><span class="kn">Lemma</span> <span class="nf">validator_fixed_limited_non_byzantine_traces_are_limited_non_equivocating</span> <span class="nv">s</span> <span class="nv">tr</span> <span class="nv">byzantine_vs</span>
  (<span class="nv">byzantine</span> : Ci := fin_sets.set_map A byzantine_vs)
  (<span class="nv">not_byzantine</span> : Ci := difference (list_to_set (enum index)) byzantine)
  : fixed_limited_byzantine_trace_prop s tr byzantine_vs -&gt;
    <span class="kr">exists</span> <span class="nv">bs</span> <span class="nv">btr</span>,
      finite_valid_trace Limited bs btr /\
      composite_state_sub_projection IM (elements not_byzantine) s =
      composite_state_sub_projection IM (elements not_byzantine) bs /\
      finite_trace_sub_projection IM (elements not_byzantine) tr =
      finite_trace_sub_projection IM (elements not_byzantine) btr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_limited_byzantine_trace_prop s tr byzantine_vs
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
    finite_valid_trace Limited bs btr
    ‚àß composite_state_sub_projection IM
        (elements not_byzantine) s =
      composite_state_sub_projection IM
        (elements not_byzantine) bs
      ‚àß finite_trace_sub_projection IM
          (elements not_byzantine) tr =
        finite_trace_sub_projection IM
          (elements not_byzantine) btr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk60" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk60"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_limited_byzantine_trace_prop s tr byzantine_vs
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
    finite_valid_trace Limited bs btr
    ‚àß composite_state_sub_projection IM
        (elements not_byzantine) s =
      composite_state_sub_projection IM
        (elements not_byzantine) bs
      ‚àß finite_trace_sub_projection IM
          (elements not_byzantine) tr =
        finite_trace_sub_projection IM
          (elements not_byzantine) btr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk61" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk61"><span class="nb">intros</span> [Hlimit Hfixed].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
  finite_valid_trace Limited bs btr
  ‚àß composite_state_sub_projection IM
      (elements not_byzantine) s =
    composite_state_sub_projection IM
      (elements not_byzantine) bs
    ‚àß finite_trace_sub_projection IM
        (elements not_byzantine) tr =
      finite_trace_sub_projection IM
        (elements not_byzantine) btr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk62" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk62"><span class="nb">eexists</span> _, _; <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited <span class="nl">?Goal</span> <span class="nl">?Goal0</span></div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk63" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk63"><hr></label><div class="goal-conclusion">composite_state_sub_projection IM
  (elements not_byzantine) s =
composite_state_sub_projection IM
  (elements not_byzantine) 
  <span class="nl">?Goal</span>
‚àß finite_trace_sub_projection IM
    (elements not_byzantine) tr =
  finite_trace_sub_projection IM
    (elements not_byzantine) 
    <span class="nl">?Goal0</span></div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk64" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk64">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited <span class="nl">?Goal</span> <span class="nl">?Goal0</span></div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> (VLSM_embedding_finite_valid_trace
            (limited_PreNonByzantine_vlsm_lift byzantine_vs Hlimit)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk65" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk65">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements not_byzantine) s =
composite_state_sub_projection IM
  (elements not_byzantine)
  (lift_sub_state IM
     (elements
        (list_to_set (enum index)
         ‚àñ set_map A byzantine_vs))
     (composite_state_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine_vs)) s))
‚àß finite_trace_sub_projection IM
    (elements not_byzantine) tr =
  finite_trace_sub_projection IM
    (elements not_byzantine)
    (VLSM_embedding_finite_trace_project
       (limited_PreNonByzantine_vlsm_lift byzantine_vs
          Hlimit)
       (finite_trace_sub_projection IM
          (elements
             (list_to_set (enum index)
              ‚àñ set_map A byzantine_vs)) tr))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk66" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk66"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements not_byzantine) s =
composite_state_sub_projection IM
  (elements not_byzantine)
  (lift_sub_state_to IM
     (elements
        (list_to_set (enum index)
         ‚àñ set_map A byzantine_vs))
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
     (composite_state_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine_vs)) s))
‚àß finite_trace_sub_projection IM
    (elements not_byzantine) tr =
  finite_trace_sub_projection IM
    (elements not_byzantine)
    (VLSM_embedding_finite_trace_project
       (limited_PreNonByzantine_vlsm_lift byzantine_vs
          Hlimit)
       (finite_trace_sub_projection IM
          (elements
             (list_to_set (enum index)
              ‚àñ set_map A byzantine_vs)) tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk67" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk67"><span class="nb">rewrite</span> composite_state_sub_projection_lift_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements not_byzantine) s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine_vs)) s
‚àß finite_trace_sub_projection IM
    (elements not_byzantine) tr =
  finite_trace_sub_projection IM
    (elements not_byzantine)
    (VLSM_embedding_finite_trace_project
       (limited_PreNonByzantine_vlsm_lift byzantine_vs
          Hlimit)
       (finite_trace_sub_projection IM
          (elements
             (list_to_set (enum index)
              ‚àñ set_map A byzantine_vs)) tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk68" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk68"><span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>not_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hfixed</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine_vs) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_sub_projection IM
  (elements not_byzantine) tr =
finite_trace_sub_projection IM
  (elements not_byzantine)
  (VLSM_embedding_finite_trace_project
     (limited_PreNonByzantine_vlsm_lift byzantine_vs
        Hlimit)
     (finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine_vs)) tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">symmetry</span>; <span class="nb">apply</span> composite_trace_sub_projection_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
<a id="lab3"></a><h2 class="section">The main result</h2>
<div class="paragraph"> </div>

  Given any trace with the <span class="inlinecode"><span class="id" title="var">limited_byzantine_trace_prop</span></span>erty, there exists
  a valid trace for the <code>Limited</code> equivocation composition and
  a selection of components of limited weight such that the projection of the
  two traces to the components not in the selection coincide.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk69" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk69"><span class="kn">Lemma</span> <span class="nf">validator_limited_non_byzantine_traces_are_limited_non_equivocating</span> <span class="nv">s</span> <span class="nv">tr</span>
  : limited_byzantine_trace_prop s tr -&gt;
    <span class="kr">exists</span> <span class="nv">bs</span> <span class="nv">btr</span>,
      finite_valid_trace Limited bs btr /\
      <span class="kr">exists</span> (<span class="nv">selection_vs</span> : Cv)
        (<span class="nv">selection</span> : Ci := fin_sets.set_map A selection_vs)
        (<span class="nv">selection_complement</span> := difference (list_to_set (enum index)) selection),
        (sum_weights selection_vs &lt;= threshold)%R /\
        composite_state_sub_projection IM (elements selection_complement) s =
        composite_state_sub_projection IM (elements selection_complement) bs /\
        finite_trace_sub_projection IM (elements selection_complement) tr =
        finite_trace_sub_projection IM (elements selection_complement) btr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop s tr
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
    finite_valid_trace Limited bs btr
    ‚àß (<span class="kr">‚àÉ</span> <span class="nv">selection_vs</span> : Cv,
         <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">selection_complement</span> :=
           list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
         (sum_weights selection_vs &lt;= threshold)%R
         ‚àß composite_state_sub_projection IM
             (elements selection_complement) s =
           composite_state_sub_projection IM
             (elements selection_complement) bs
           ‚àß finite_trace_sub_projection IM
               (elements selection_complement) tr =
             finite_trace_sub_projection IM
               (elements selection_complement) btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop s tr
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
    finite_valid_trace Limited bs btr
    ‚àß (<span class="kr">‚àÉ</span> <span class="nv">selection_vs</span> : Cv,
         <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
         <span class="kr">let</span> <span class="nv">selection_complement</span> :=
           list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
         (sum_weights selection_vs &lt;= threshold)%R
         ‚àß composite_state_sub_projection IM
             (elements selection_complement) s =
           composite_state_sub_projection IM
             (elements selection_complement) bs
           ‚àß finite_trace_sub_projection IM
               (elements selection_complement) tr =
             finite_trace_sub_projection IM
               (elements selection_complement) btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6b"><span class="nb">intros</span> [byzantine Hlimited].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>fixed_limited_byzantine_trace_prop s tr
  byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
  finite_valid_trace Limited bs btr
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">selection_vs</span> : Cv,
       <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
       <span class="kr">let</span> <span class="nv">selection_complement</span> :=
         list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
       (sum_weights selection_vs &lt;= threshold)%R
       ‚àß composite_state_sub_projection IM
           (elements selection_complement) s =
         composite_state_sub_projection IM
           (elements selection_complement) bs
         ‚àß finite_trace_sub_projection IM
             (elements selection_complement) tr =
           finite_trace_sub_projection IM
             (elements selection_complement) btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6c"><span class="nb">apply</span> proj1 <span class="kr">in</span> Hlimited <span class="kr">as</span> Hlimit.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>fixed_limited_byzantine_trace_prop s tr
  byzantine</span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
  finite_valid_trace Limited bs btr
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">selection_vs</span> : Cv,
       <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
       <span class="kr">let</span> <span class="nv">selection_complement</span> :=
         list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
       (sum_weights selection_vs &lt;= threshold)%R
       ‚àß composite_state_sub_projection IM
           (elements selection_complement) s =
         composite_state_sub_projection IM
           (elements selection_complement) bs
         ‚àß finite_trace_sub_projection IM
             (elements selection_complement) tr =
           finite_trace_sub_projection IM
             (elements selection_complement) btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6d"><span class="nb">apply</span> validator_fixed_limited_non_byzantine_traces_are_limited_non_equivocating
    <span class="kr">in</span> Hlimited
    <span class="kr">as</span> [bs [btr [Hlimited [Hs_pr Htr_pr]]]].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>is_equivocating_tracewise_no_has_been_sent_dec</var><span class="hyp-type"><b>: </b><span>RelDecision
  (is_equivocating_tracewise_no_has_been_sent
     IM A sender)</span></span></span><br><span><var>limited_constraint</var><span><span class="hyp-body"><b>:= </b><span>tracewise_limited_equivocation_constraint
  IM threshold A sender</span></span><span class="hyp-type"><b>: </b><span>composite_label IM
‚Üí composite_state IM *
  option message ‚Üí <span class="kt">Prop</span></span></span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>composite_vlsm IM limited_constraint</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  component_message_validator_prop IM
    limited_constraint i</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>can_emit_signed</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A
  sender</span></span></span><br><span><var>message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>Irreflexive0</var><span class="hyp-type"><b>: </b><span>Irreflexive
  (msg_dep_happens_before
     message_dependencies)</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies 
    (IM i) message_dependencies</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Hs_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) bs</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) btr</span></span></span><br><span><var>Hlimit</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item),
  finite_valid_trace Limited bs btr
  ‚àß (<span class="kr">‚àÉ</span> <span class="nv">selection_vs</span> : Cv,
       <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
       <span class="kr">let</span> <span class="nv">selection_complement</span> :=
         list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
       (sum_weights selection_vs &lt;= threshold)%R
       ‚àß composite_state_sub_projection IM
           (elements selection_complement) s =
         composite_state_sub_projection IM
           (elements selection_complement) bs
         ‚àß finite_trace_sub_projection IM
             (elements selection_complement) tr =
           finite_trace_sub_projection IM
             (elements selection_complement) btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="kr">exists</span> <span class="nv">bs</span>, btr; <span class="nb">eauto</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_limited_byzantine_traces</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Section</span> <span class="nf">sec_msg_dep_limited_byzantine_traces</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Context</span>
  {<span class="nv">message</span> : <span class="kt">Type</span>}
  `{FinSet index Ci}
  `{!finite.Finite index}
  (IM : index -&gt; VLSM message)
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenSentCapability (IM i)}
  `{<span class="kr">forall</span> <span class="nv">i</span>, HasBeenReceivedCapability (IM i)}
  (threshold : R)
  `{ReachableThreshold validator Cv threshold}
  `{!finite.Finite validator}
  `{FinSet message Cm}
  (message_dependencies : message -&gt; Cm)
  (full_message_dependencies : message -&gt; Cm)
  `{!FullMessageDependencies message_dependencies full_message_dependencies}
  `{<span class="kr">forall</span> <span class="nv">i</span>, MessageDependencies (IM i) message_dependencies}
  (sender : message -&gt; option validator)
  (A : validator -&gt; index)
  `{!Inj (=) (=) A}
  (Limited := msg_dep_limited_equivocation_vlsm (Cv := Cv)
    IM threshold full_message_dependencies sender)
  (no_initial_messages_in_IM : no_initial_messages_in_IM_prop IM)
  (Hchannel : channel_authentication_prop IM A sender)
  (Hvalidator :
    <span class="kr">forall</span> <span class="nv">i</span> : index,
      msg_dep_limited_equivocation_message_validator_prop (Cv := Cv)
        IM threshold full_message_dependencies sender i)
  (Hfull : <span class="kr">forall</span> <span class="nv">i</span>, message_dependencies_full_node_condition_prop (IM i) message_dependencies)
  .</span></span></pre><div class="doc">
  If the set of byzantine components is weight-limited and if an <span class="inlinecode"><span class="id" title="var">input_valid_transition</span></span>
  of the non-byzantine components from a state of weight-limited equivocation does not
  introduce equivocators from the non-byzantine components, then the transition is valid
  for weight-limited equivocation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6e"><span class="kn">Lemma</span> <span class="nf">lift_preloaded_fixed_non_byzantine_valid_transition_to_limited</span>
  (<span class="nv">byzantine_vs</span> : Cv)
  (<span class="nv">byzantine</span> : Ci := fin_sets.set_map A byzantine_vs)
  (<span class="nv">non_byzantine</span> := difference (list_to_set (enum index)) byzantine)
  (<span class="nv">Hlimited</span> : (sum_weights byzantine_vs &lt;= threshold)%R)
  <span class="nv">sub_l</span> <span class="nv">sub_s</span> <span class="nv">iom</span> <span class="nv">sub_sf</span> <span class="nv">oom</span>
  (<span class="nv">Ht_sub</span> : input_valid_transition
      (preloaded_fixed_non_byzantine_vlsm IM byzantine A sender)
      sub_l (sub_s, iom) (sub_sf, oom))
  <span class="nv">ann_s</span>
  (<span class="nv">Hann_s</span> : valid_state_prop Limited ann_s)
  (<span class="nv">Hann_s_pr</span> : original_state ann_s = lift_sub_state IM (elements non_byzantine) sub_s)
  (<span class="nv">ann&#39;</span> := msg_dep_composite_transition_message_equivocators IM full_message_dependencies sender
      (lift_sub_label IM (elements non_byzantine) sub_l) (ann_s, iom))
  (<span class="nv">Heqv_byzantine</span> : ann&#39; ‚äÜ byzantine_vs)
  : input_valid_transition Limited
      (lift_sub_label IM (elements non_byzantine) sub_l) (ann_s, iom)
      (mk_annotated_state (free_composite_vlsm IM) Cv
        (lift_sub_state IM (elements non_byzantine) sub_sf) ann&#39;,
      oom).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>sub_l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) sub_l (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     sub_l) (ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Limited
  (lift_sub_label IM (elements non_byzantine) sub_l)
  (ann_s, iom)
  ({|
     original_state :=
       lift_sub_state IM (elements non_byzantine)
         sub_sf;
     state_annotation := ann&#39;
   |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk6f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk6f"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>sub_l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) sub_l (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     sub_l) (ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Limited
  (lift_sub_label IM (elements non_byzantine) sub_l)
  (ann_s, iom)
  ({|
     original_state :=
       lift_sub_state IM (elements non_byzantine)
         sub_sf;
     state_annotation := ann&#39;
   |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk70" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk70"><span class="nb">destruct</span> sub_l <span class="kr">as</span> [sub_i li]; destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Limited
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (ann_s, iom)
  ({|
     original_state :=
       lift_sub_state IM (elements non_byzantine)
         sub_sf;
     state_annotation := ann&#39;
   |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk71" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk71"><span class="kp">repeat</span> <span class="nb">split</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Limited ann_s</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk72" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk72"><hr></label><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk73" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk73"><hr></label><div class="goal-conclusion">valid li (original_state ann_s i, iom)</div></blockquote><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk74" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk74"><hr></label><div class="goal-conclusion">coeqv_limited_equivocation_constraint IM threshold
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</div></blockquote><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk75" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk75"><hr></label><div class="goal-conclusion">annotated_transition (free_composite_vlsm IM) Cv
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom) =
({|
   original_state :=
     lift_sub_state IM (elements non_byzantine) sub_sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         state_annotation ann_s
         ‚à™ coeqv_message_equivocators IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender)
             (original_state ann_s) m
     | None =&gt; state_annotation ann_s
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk76" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk76">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid_state_prop Limited ann_s</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">done</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk77" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk77">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited iom</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk78" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk78"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]; [| <span class="nb">apply</span> option_valid_message_None].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, Some im) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, Some im)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">option_valid_message_prop Limited (Some im)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> Hvalidator, preloaded_sub_composite_input_valid_projection, Ht_sub.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk79" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk79">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (original_state ann_s i, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7a"><span class="nb">unfold</span> lift_sub_state <span class="kr">in</span> Hann_s_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state_to IM
  (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n))) sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (original_state ann_s i, iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7b"><span class="nb">rewrite</span> Hann_s_pr, (lift_sub_state_to_eq _ _ _ _ _ Hi).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state_to IM
  (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n))) sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">valid li (sub_s (dexist i Hi), iom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> Ht_sub.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7c">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_limited_equivocation_constraint IM threshold
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (ann_s, iom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7d"><span class="nb">apply</span> Rle_trans <span class="kr">with</span> (sum_weights byzantine_vs)
    ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(sum_weights
   (coeqv_composite_transition_message_equivocators IM
      sender
      (msg_dep_coequivocating_senders IM
         full_message_dependencies sender)
      (lift_sub_label IM (elements non_byzantine)
         (existT (dexist i Hi) li)) (ann_s, iom)) &lt;=
 sum_weights byzantine_vs)%R</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7e"><span class="nb">apply</span> sum_weights_subseteq.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_composite_transition_message_equivocators IM
  sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (ann_s, iom)
‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">intro</span>; <span class="nb">apply</span> Heqv_byzantine.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk7f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk7f">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s</var><span class="hyp-type"><b>: </b><span>valid_state_prop Limited ann_s</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>ann'</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_composite_transition_message_equivocators
  IM full_message_dependencies sender
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (
  ann_s, iom)</span></span><span class="hyp-type"><b>: </b><span>Cv</span></span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>ann&#39; ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">annotated_transition (free_composite_vlsm IM) Cv
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (ann_s, iom) =
({|
   original_state :=
     lift_sub_state IM (elements non_byzantine) sub_sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         state_annotation ann_s
         ‚à™ coeqv_message_equivocators IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender)
             (original_state ann_s) m
     | None =&gt; state_annotation ann_s
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk80" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk80"><span class="nb">clear</span> -Ht_sub Hann_s_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>Ht_sub</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li) (
  sub_s, iom) (sub_sf, oom)</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">annotated_transition (free_composite_vlsm IM) Cv
  (coeqv_composite_transition_message_equivocators IM
     sender
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender))
  (lift_sub_label IM (elements non_byzantine)
     (existT (dexist i Hi) li)) (ann_s, iom) =
({|
   original_state :=
     lift_sub_state IM (elements non_byzantine) sub_sf;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         state_annotation ann_s
         ‚à™ coeqv_message_equivocators IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender)
             (original_state ann_s) m
     | None =&gt; state_annotation ann_s
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk81" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk81"><span class="nb">destruct</span> Ht_sub <span class="kr">as</span> [_ Ht_sub]; <span class="nb">revert</span> Ht_sub
    ; <span class="nb">unfold</span> annotated_transition; <span class="nb">cbn</span>
    ; <span class="nb">rewrite</span> Hann_s_pr; <span class="nb">unfold</span> lift_sub_state <span class="nb">at</span> <span class="mi">1</span>
    ; <span class="nb">rewrite</span> (lift_sub_state_to_eq _ _ _ _ _ Hi)
    ; <span class="nb">unfold</span> sub_IM <span class="nb">at</span> <span class="mi">2</span>; <span class="nb">cbn</span>
    ; <span class="nb">destruct</span> (transition _ _ _) <span class="kr">as</span> (si&#39;, om&#39;)
    ; <span class="nb">inversion_clear</span> <span class="mi">1</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">({|
   original_state :=
     state_update IM
       (lift_sub_state IM (elements non_byzantine)
          sub_s) i si&#39;;
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         state_annotation ann_s
         ‚à™ coeqv_message_equivocators IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender)
             (lift_sub_state IM
                (elements non_byzantine) sub_s) m
     | None =&gt; state_annotation ann_s
     <span class="kr">end</span>
 |}, oom) =
({|
   original_state :=
     lift_sub_state IM (elements non_byzantine)
       (state_update
          (sub_IM IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine)))
          sub_s (dexist i Hi) si&#39;);
   state_annotation :=
     <span class="kr">match</span> iom <span class="kr">with</span>
     | Some m =&gt;
         state_annotation ann_s
         ‚à™ coeqv_message_equivocators IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender)
             (lift_sub_state IM
                (elements non_byzantine) sub_s) m
     | None =&gt; state_annotation ann_s
     <span class="kr">end</span>
 |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk82" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk82"><span class="kp">do</span> <span class="mi">2</span> <span class="nb">f_equal</span>; extensionality j.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state IM (elements non_byzantine) sub_s) i
  si&#39; j =
lift_sub_state IM (elements non_byzantine)
  (state_update
     (sub_IM IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     sub_s (dexist i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk83" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk83"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_update IM
  (lift_sub_state_to IM (elements non_byzantine)
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n))) sub_s) i si&#39; j =
lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
  (state_update
     (sub_IM IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     sub_s (dexist i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk84" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk84"><span class="nb">destruct</span> (decide (i = j)); <span class="nb">subst</span>; state_update_simpl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist j Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM j)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
  (state_update
     (sub_IM IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     sub_s (dexist j Hi) si&#39;) j</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk85" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk85"><hr></label><div class="goal-conclusion">lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n))) sub_s j =
lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
  (state_update
     (sub_IM IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     sub_s (dexist i Hi) si&#39;) j</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk86" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk86">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) j</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist j Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM j)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">si&#39; =
lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
  (state_update
     (sub_IM IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     sub_s (dexist j Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (lift_sub_state_to_eq _ _ _ _ _ Hi), !state_update_eq.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk87" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk87">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n))) sub_s j =
lift_sub_state_to IM (elements non_byzantine)
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
  (state_update
     (sub_IM IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     sub_s (dexist i Hi) si&#39;) j</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk88" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk88"><span class="nb">unfold</span> lift_sub_state_to.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>sub_s</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>sub_sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>ann_s</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>Hann_s_pr</var><span class="hyp-type"><b>: </b><span>original_state ann_s =
lift_sub_state IM (elements non_byzantine)
  sub_s</span></span></span><br><span><var>si'</var><span class="hyp-type"><b>: </b><span>state (IM i)</span></span></span><br><span><var>om'</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>j</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>n</var><span class="hyp-type"><b>: </b><span>i ‚â† j</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span>
  decide (sub_index_prop (elements non_byzantine) j)
<span class="kr">with</span>
| <span class="nb">left</span> e =&gt; sub_s (dexist j e)
| <span class="nb">right</span> _ =&gt; `(vs0 (IM j))
<span class="kr">end</span> =
<span class="kr">match</span>
  decide (sub_index_prop (elements non_byzantine) j)
<span class="kr">with</span>
| <span class="nb">left</span> e =&gt;
    state_update
      (sub_IM IM
         (elements
            (list_to_set (enum index) ‚àñ byzantine)))
      sub_s (dexist i Hi) si&#39; (dexist j e)
| <span class="nb">right</span> _ =&gt; `(vs0 (IM j))
<span class="kr">end</span></div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> case_decide; [<span class="nb">rewrite</span> sub_IM_state_update_neq |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Considering a trace with the <span class="inlinecode"><span class="id" title="var">fixed_byzantine_trace_alt_prop</span></span>erty for a
  set <code>byzantine</code> of indices of bounded weight, its subtrace corresponding to
  the non-byzantine components is of limited equivocation and its set of equivocators
  is included in <code>byzantine</code>.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk89" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk89"><span class="kn">Lemma</span> <span class="nf">lift_fixed_byzantine_traces_to_limited</span>
  (<span class="nv">s</span> : composite_state IM)
  (<span class="nv">tr</span> : list (composite_transition_item IM))
  (<span class="nv">byzantine_vs</span> : Cv)
  (<span class="nv">byzantine</span> : Ci := fin_sets.set_map A byzantine_vs)
  (<span class="nv">non_byzantine</span> := difference (list_to_set (enum index)) byzantine)
  (<span class="nv">Hlimited</span> : (sum_weights byzantine_vs &lt;= threshold)%R)
  (<span class="nv">Hbyzantine</span> :
    fixed_byzantine_trace_alt_prop IM byzantine A sender s tr)
  (<span class="nv">s_reset_byzantine</span> :=
    lift_sub_state IM (elements non_byzantine)
      (composite_state_sub_projection IM (elements non_byzantine) s))
  (<span class="nv">bs</span> := mk_annotated_state (free_composite_vlsm IM) Cv s_reset_byzantine (` inhabitant))
  (<span class="nv">btr</span> :=
    msg_dep_annotate_trace_with_equivocators (Cv := Cv) IM full_message_dependencies sender
      s_reset_byzantine
      (pre_VLSM_embedding_finite_trace_project _ _
        (lift_sub_label IM (elements non_byzantine)) (lift_sub_state IM (elements non_byzantine))
        (finite_trace_sub_projection IM (elements non_byzantine) tr)))
  : finite_valid_trace Limited bs btr /\
    state_annotation (@finite_trace_last _ Limited bs btr) ‚äÜ byzantine_vs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  byzantine A sender s tr</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements non_byzantine)
  (composite_state_sub_projection
     IM (elements non_byzantine) s)</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM (elements non_byzantine)))
     (composite_type IM)
     (lift_sub_label IM (elements non_byzantine))
     (lift_sub_state IM (elements non_byzantine))
     (finite_trace_sub_projection IM
        (elements non_byzantine) tr))</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk8a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk8a"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>non_byzantine</var><span><span class="hyp-body"><b>:= </b><span>list_to_set (enum index) ‚àñ byzantine</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  byzantine A sender s tr</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements non_byzantine)
  (composite_state_sub_projection
     IM (elements non_byzantine) s)</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM (elements non_byzantine)))
     (composite_type IM)
     (lift_sub_label IM (elements non_byzantine))
     (lift_sub_state IM (elements non_byzantine))
     (finite_trace_sub_projection IM
        (elements non_byzantine) tr))</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk8b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk8b"><span class="nb">subst</span> non_byzantine.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  byzantine A sender s tr</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine))
  (composite_state_sub_projection
     IM
     (elements
        (list_to_set (enum index)
         ‚àñ byzantine)) s)</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine))
        tr))</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk8c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk8c"><span class="nb">induction</span> Hbyzantine <span class="nb">using</span> finite_valid_trace_rev_ind.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine)) si</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     [])</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk8d" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM byzantine
     A sender)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) l
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine)) si</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (tr0 ++ [x]))</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br><span><var>IHHbyzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">s_reset_byzantine</span> :=
  lift_sub_state IM
    (elements
       (list_to_set (enum index)
        ‚àñ byzantine)) si <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">bs</span> :=
  {|
    original_state := s_reset_byzantine;
    state_annotation := `inhabitant
  |} <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">btr</span> :=
  msg_dep_annotate_trace_with_equivocators
    IM full_message_dependencies sender
    s_reset_byzantine
    (pre_VLSM_embedding_finite_trace_project
       (composite_type
          (sub_IM IM
             (elements
                (list_to_set
                   (enum index)
                 ‚àñ byzantine))))
       (composite_type IM)
       (lift_sub_label IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine)))
       (lift_sub_state IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine))) tr0) <span class="kr">in</span>
finite_valid_trace Limited bs btr
‚àß state_annotation
    (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk8d"><hr></label><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk8e" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk8e">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine)) si</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     [])</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk8f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk8f"><span class="nb">split</span>; [| <span class="bp">by</span> <span class="nb">apply</span> empty_subseteq].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine)) si</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     [])</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk90" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk90"><span class="nb">assert</span> (Hisp : initial_state_prop Limited bs)
      <span class="bp">by</span> (<span class="nb">split</span>; <span class="nb">cbn</span>; [<span class="nb">apply</span> lift_sub_state_initial |]; <span class="bp">done</span>).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>Hsi</var><span class="hyp-type"><b>: </b><span>initial_state_prop si</span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine)) si</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     [])</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br><span><var>Hisp</var><span class="hyp-type"><b>: </b><span>initial_state_prop bs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">split</span>; [<span class="nb">constructor</span>; <span class="nb">apply</span> initial_state_is_valid |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk91" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk91">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM byzantine
     A sender)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) l
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>s_reset_byzantine</var><span><span class="hyp-body"><b>:= </b><span>lift_sub_state IM
  (elements
     (list_to_set (enum index)
      ‚àñ byzantine)) si</span></span><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span></span><br><span><var>bs</var><span><span class="hyp-body"><b>:= </b><span>{|
  original_state := s_reset_byzantine;
  state_annotation := `inhabitant
|}</span></span><span class="hyp-type"><b>: </b><span>annotated_state (free_composite_vlsm IM) Cv</span></span></span></span><br><span><var>btr</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_annotate_trace_with_equivocators IM
  full_message_dependencies sender
  s_reset_byzantine
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (tr0 ++ [x]))</span></span><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span></span><br><span><var>IHHbyzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">s_reset_byzantine</span> :=
  lift_sub_state IM
    (elements
       (list_to_set (enum index)
        ‚àñ byzantine)) si <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">bs</span> :=
  {|
    original_state := s_reset_byzantine;
    state_annotation := `inhabitant
  |} <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">btr</span> :=
  msg_dep_annotate_trace_with_equivocators
    IM full_message_dependencies sender
    s_reset_byzantine
    (pre_VLSM_embedding_finite_trace_project
       (composite_type
          (sub_IM IM
             (elements
                (list_to_set
                   (enum index)
                 ‚àñ byzantine))))
       (composite_type IM)
       (lift_sub_label IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine)))
       (lift_sub_state IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine))) tr0) <span class="kr">in</span>
finite_valid_trace Limited bs btr
‚àß state_annotation
    (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited bs btr
‚àß state_annotation (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk92" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk92"><span class="nb">subst</span> s_reset_byzantine bs btr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM byzantine
     A sender)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) l
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHbyzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">s_reset_byzantine</span> :=
  lift_sub_state IM
    (elements
       (list_to_set (enum index)
        ‚àñ byzantine)) si <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">bs</span> :=
  {|
    original_state := s_reset_byzantine;
    state_annotation := `inhabitant
  |} <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">btr</span> :=
  msg_dep_annotate_trace_with_equivocators
    IM full_message_dependencies sender
    s_reset_byzantine
    (pre_VLSM_embedding_finite_trace_project
       (composite_type
          (sub_IM IM
             (elements
                (list_to_set
                   (enum index)
                 ‚àñ byzantine))))
       (composite_type IM)
       (lift_sub_label IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine)))
       (lift_sub_state IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine))) tr0) <span class="kr">in</span>
finite_valid_trace Limited bs btr
‚àß state_annotation
    (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine)))
        (tr0 ++ [x])))
‚àß state_annotation
    (finite_trace_last
       {|
         original_state :=
           lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender
          (lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             si)
          (pre_VLSM_embedding_finite_trace_project
             (composite_type
                (sub_IM IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine))))
             (composite_type IM)
             (lift_sub_label IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)))
             (lift_sub_state IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine))) (tr0 ++ [x]))))
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk93" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk93"><span class="nb">unfold</span> pre_VLSM_embedding_finite_trace_project; <span class="nb">rewrite</span> !map_app.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM byzantine
     A sender)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) l
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHbyzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">s_reset_byzantine</span> :=
  lift_sub_state IM
    (elements
       (list_to_set (enum index)
        ‚àñ byzantine)) si <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">bs</span> :=
  {|
    original_state := s_reset_byzantine;
    state_annotation := `inhabitant
  |} <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">btr</span> :=
  msg_dep_annotate_trace_with_equivocators
    IM full_message_dependencies sender
    s_reset_byzantine
    (pre_VLSM_embedding_finite_trace_project
       (composite_type
          (sub_IM IM
             (elements
                (list_to_set
                   (enum index)
                 ‚àñ byzantine))))
       (composite_type IM)
       (lift_sub_label IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine)))
       (lift_sub_state IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine))) tr0) <span class="kr">in</span>
finite_valid_trace Limited bs btr
‚àß state_annotation
    (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0 ++
      map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        [x]))
‚àß state_annotation
    (finite_trace_last
       {|
         original_state :=
           lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             si;
         state_annotation := `inhabitant
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender
          (lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             si)
          (map
             (pre_VLSM_embedding_transition_item_project
                (composite_type
                   (sub_IM IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine))))
                (composite_type IM)
                (lift_sub_label IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)))
                (lift_sub_state IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)))) tr0 ++
           map
             (pre_VLSM_embedding_transition_item_project
                (composite_type
                   (sub_IM IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine))))
                (composite_type IM)
                (lift_sub_label IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)))
                (lift_sub_state IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)))) [x])))
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk94" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk94"><span class="nb">rewrite</span> @msg_dep_annotate_trace_with_equivocators_app; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM byzantine
     A sender)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) l
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHbyzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">s_reset_byzantine</span> :=
  lift_sub_state IM
    (elements
       (list_to_set (enum index)
        ‚àñ byzantine)) si <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">bs</span> :=
  {|
    original_state := s_reset_byzantine;
    state_annotation := `inhabitant
  |} <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">btr</span> :=
  msg_dep_annotate_trace_with_equivocators
    IM full_message_dependencies sender
    s_reset_byzantine
    (pre_VLSM_embedding_finite_trace_project
       (composite_type
          (sub_IM IM
             (elements
                (list_to_set
                   (enum index)
                 ‚àñ byzantine))))
       (composite_type IM)
       (lift_sub_label IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine)))
       (lift_sub_state IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine))) tr0) <span class="kr">in</span>
finite_valid_trace Limited bs btr
‚àß state_annotation
    (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   annotate_trace_item (free_composite_vlsm IM) Cv
     (coeqv_composite_transition_message_equivocators
        IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender))
     (pre_VLSM_embedding_transition_item_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine)))
        x)
     (<span class="kr">Œª</span> <span class="nv">_</span> : annotated_state (free_composite_vlsm IM)
              Cv, [])
     (finite_trace_last
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              si;
          state_annotation := ‚àÖ
        |}
        (msg_dep_annotate_trace_with_equivocators IM
           full_message_dependencies sender
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              si)
           (map
              (pre_VLSM_embedding_transition_item_project
                 (composite_type
                    (sub_IM IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine))))
                 (composite_type IM)
                 (lift_sub_label IM
                    (elements
                       (list_to_set (enum index)
                        ‚àñ byzantine)))
                 (lift_sub_state IM
                    (elements
                       (list_to_set (enum index)
                        ‚àñ byzantine)))) tr0))))
‚àß state_annotation
    (finite_trace_last
       {|
         original_state :=
           lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             si;
         state_annotation := ‚àÖ
       |}
       (msg_dep_annotate_trace_with_equivocators IM
          full_message_dependencies sender
          (lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             si)
          (map
             (pre_VLSM_embedding_transition_item_project
                (composite_type
                   (sub_IM IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine))))
                (composite_type IM)
                (lift_sub_label IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)))
                (lift_sub_state IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)))) tr0) ++
        annotate_trace_item (free_composite_vlsm IM)
          Cv
          (coeqv_composite_transition_message_equivocators
             IM sender
             (msg_dep_coequivocating_senders IM
                full_message_dependencies sender))
          (pre_VLSM_embedding_transition_item_project
             (composite_type
                (sub_IM IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine))))
             (composite_type IM)
             (lift_sub_label IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)))
             (lift_sub_state IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine))) x)
          (<span class="kr">Œª</span> <span class="nv">_</span> : annotated_state
                   (free_composite_vlsm IM) Cv, [])
          (finite_trace_last
             {|
               original_state :=
                 lift_sub_state IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)) si;
               state_annotation := ‚àÖ
             |}
             (msg_dep_annotate_trace_with_equivocators
                IM full_message_dependencies sender
                (lift_sub_state IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine)) si)
                (map
                   (pre_VLSM_embedding_transition_item_project
                      (composite_type
                         (sub_IM IM
                            (elements
                               (list_to_set
                                  (enum index)
                                ‚àñ byzantine))))
                      (composite_type IM)
                      (lift_sub_label IM
                         (elements
                            (list_to_set (enum index)
                             ‚àñ byzantine)))
                      (lift_sub_state IM
                         (elements
                            (list_to_set (enum index)
                             ‚àñ byzantine)))) tr0)))))
  ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk95" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk95"><span class="nb">unfold</span> annotate_trace_item; <span class="nb">cbn</span>; <span class="nb">rewrite</span> finite_trace_last_is_last; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>l</var><span class="hyp-type"><b>: </b><span>label
  (preloaded_fixed_non_byzantine_vlsm IM byzantine
     A sender)</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) l
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := l;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>IHHbyzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">let</span> <span class="nv">s_reset_byzantine</span> :=
  lift_sub_state IM
    (elements
       (list_to_set (enum index)
        ‚àñ byzantine)) si <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">bs</span> :=
  {|
    original_state := s_reset_byzantine;
    state_annotation := `inhabitant
  |} <span class="kr">in</span>
<span class="kr">let</span> <span class="nv">btr</span> :=
  msg_dep_annotate_trace_with_equivocators
    IM full_message_dependencies sender
    s_reset_byzantine
    (pre_VLSM_embedding_finite_trace_project
       (composite_type
          (sub_IM IM
             (elements
                (list_to_set
                   (enum index)
                 ‚àñ byzantine))))
       (composite_type IM)
       (lift_sub_label IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine)))
       (lift_sub_state IM
          (elements
             (list_to_set (enum index)
              ‚àñ byzantine))) tr0) <span class="kr">in</span>
finite_valid_trace Limited bs btr
‚àß state_annotation
    (finite_trace_last bs btr)
  ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine)) l;
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                       original_state :=
                         lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si;
                       state_annotation := ‚àÖ
                     |}
                     (msg_dep_annotate_trace_with_equivocators
                        IM full_message_dependencies
                        sender
                        (lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si)
                        (map
                           (pre_VLSM_embedding_transition_item_project
                              (composite_type
                                 (sub_IM IM (...)))
                              (composite_type IM)
                              (lift_sub_label IM
                                 (elements (...)))
                              (lift_sub_state IM
                                 (elements (...))))
                           tr0)))
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender)
                    (original_state
                       (finite_trace_last
                          {|
                            original_state :=
                              lift_sub_state IM
                                (elements
                                   (list_to_set ...
                                    ‚àñ byzantine)) si;
                            state_annotation := ‚àÖ
                          |}
                          (msg_dep_annotate_trace_with_equivocators
                             IM
                             full_message_dependencies
                             sender
                             (lift_sub_state IM
                                (elements
                                   (list_to_set ...
                                    ‚àñ byzantine)) si)
                             (map
                                (pre_VLSM_embedding_transition_item_project
                                   (composite_type
                                      (...))
                                   (composite_type IM)
                                   (lift_sub_label IM
                                      (...))
                                   (lift_sub_state IM
                                      (...))) tr0))))
                    m
            | None =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                       original_state :=
                         lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si;
                       state_annotation := ‚àÖ
                     |}
                     (msg_dep_annotate_trace_with_equivocators
                        IM full_message_dependencies
                        sender
                        (lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si)
                        (map
                           (pre_VLSM_embedding_transition_item_project
                              (composite_type
                                 (sub_IM IM
                                    (elements ...)))
                              (composite_type IM)
                              (lift_sub_label IM
                                 (elements
                                    (... ‚àñ byzantine)))
                              (lift_sub_state IM
                                 (elements
                                    (... ‚àñ byzantine))))
                           tr0)))
            <span class="kr">end</span>
        |};
      output := oom
    |}])
‚àß <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      state_annotation
        (finite_trace_last
           {|
             original_state :=
               lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si;
             state_annotation := ‚àÖ
           |}
           (msg_dep_annotate_trace_with_equivocators
              IM full_message_dependencies sender
              (lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si)
              (map
                 (pre_VLSM_embedding_transition_item_project
                    (composite_type
                       (sub_IM IM
                          (elements
                             (list_to_set (enum index)
                              ‚àñ byzantine))))
                    (composite_type IM)
                    (lift_sub_label IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))
                    (lift_sub_state IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))) tr0)))
      ‚à™ coeqv_message_equivocators IM sender
          (msg_dep_coequivocating_senders IM
             full_message_dependencies sender)
          (original_state
             (finite_trace_last
                {|
                  original_state :=
                    lift_sub_state IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine)) si;
                  state_annotation := ‚àÖ
                |}
                (msg_dep_annotate_trace_with_equivocators
                   IM full_message_dependencies sender
                   (lift_sub_state IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine)) si)
                   (map
                      (pre_VLSM_embedding_transition_item_project
                         (composite_type
                            (sub_IM IM
                               (elements
                                  (list_to_set
                                     (enum index)
                                   ‚àñ byzantine))))
                         (composite_type IM)
                         (lift_sub_label IM
                            (elements
                               (list_to_set
                                  (enum index)
                                ‚àñ byzantine)))
                         (lift_sub_state IM
                            (elements
                               (list_to_set
                                  (enum index)
                                ‚àñ byzantine)))) tr0))))
          m
  | None =&gt;
      state_annotation
        (finite_trace_last
           {|
             original_state :=
               lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si;
             state_annotation := ‚àÖ
           |}
           (msg_dep_annotate_trace_with_equivocators
              IM full_message_dependencies sender
              (lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si)
              (map
                 (pre_VLSM_embedding_transition_item_project
                    (composite_type
                       (sub_IM IM
                          (elements
                             (list_to_set (enum index)
                              ‚àñ byzantine))))
                    (composite_type IM)
                    (lift_sub_label IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))
                    (lift_sub_state IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))) tr0)))
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk96" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk96"><span class="nb">destruct</span> l <span class="kr">as</span> [sub_i li]; destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span> sub_i
    ; <span class="nb">destruct</span> IHHbyzantine <span class="kr">as</span> [[Htr0_ann Hsi_ann] Htr0_eqv_byzantine]
    ; <span class="nb">cbn</span> <span class="kr">in</span> Htr0_eqv_byzantine |- *.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ byzantine)) si;
       state_annotation := ‚àÖ
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ byzantine)) si)
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ byzantine)))
           tr0))) ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          (existT (dexist i Hi) li);
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                       original_state :=
                         lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si;
                       state_annotation := ‚àÖ
                     |}
                     (msg_dep_annotate_trace_with_equivocators
                        IM full_message_dependencies
                        sender
                        (lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si)
                        (map
                           (pre_VLSM_embedding_transition_item_project
                              (composite_type
                                 (sub_IM IM (...)))
                              (composite_type IM)
                              (lift_sub_label IM
                                 (elements (...)))
                              (lift_sub_state IM
                                 (elements (...))))
                           tr0)))
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender)
                    (original_state
                       (finite_trace_last
                          {|
                            original_state :=
                              lift_sub_state IM
                                (elements
                                   (list_to_set ...
                                    ‚àñ byzantine)) si;
                            state_annotation := ‚àÖ
                          |}
                          (msg_dep_annotate_trace_with_equivocators
                             IM
                             full_message_dependencies
                             sender
                             (lift_sub_state IM
                                (elements
                                   (list_to_set ...
                                    ‚àñ byzantine)) si)
                             (map
                                (pre_VLSM_embedding_transition_item_project
                                   (composite_type
                                      (...))
                                   (composite_type IM)
                                   (lift_sub_label IM
                                      (...))
                                   (lift_sub_state IM
                                      (...))) tr0))))
                    m
            | None =&gt;
                state_annotation
                  (finite_trace_last
                     {|
                       original_state :=
                         lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si;
                       state_annotation := ‚àÖ
                     |}
                     (msg_dep_annotate_trace_with_equivocators
                        IM full_message_dependencies
                        sender
                        (lift_sub_state IM
                           (elements
                              (list_to_set
                                 (enum index)
                               ‚àñ byzantine)) si)
                        (map
                           (pre_VLSM_embedding_transition_item_project
                              (composite_type
                                 (sub_IM IM
                                    (elements ...)))
                              (composite_type IM)
                              (lift_sub_label IM
                                 (elements
                                    (... ‚àñ byzantine)))
                              (lift_sub_state IM
                                 (elements
                                    (... ‚àñ byzantine))))
                           tr0)))
            <span class="kr">end</span>
        |};
      output := oom
    |}])
‚àß <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      state_annotation
        (finite_trace_last
           {|
             original_state :=
               lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si;
             state_annotation := ‚àÖ
           |}
           (msg_dep_annotate_trace_with_equivocators
              IM full_message_dependencies sender
              (lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si)
              (map
                 (pre_VLSM_embedding_transition_item_project
                    (composite_type
                       (sub_IM IM
                          (elements
                             (list_to_set (enum index)
                              ‚àñ byzantine))))
                    (composite_type IM)
                    (lift_sub_label IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))
                    (lift_sub_state IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))) tr0)))
      ‚à™ coeqv_message_equivocators IM sender
          (msg_dep_coequivocating_senders IM
             full_message_dependencies sender)
          (original_state
             (finite_trace_last
                {|
                  original_state :=
                    lift_sub_state IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine)) si;
                  state_annotation := ‚àÖ
                |}
                (msg_dep_annotate_trace_with_equivocators
                   IM full_message_dependencies sender
                   (lift_sub_state IM
                      (elements
                         (list_to_set (enum index)
                          ‚àñ byzantine)) si)
                   (map
                      (pre_VLSM_embedding_transition_item_project
                         (composite_type
                            (sub_IM IM
                               (elements
                                  (list_to_set
                                     (enum index)
                                   ‚àñ byzantine))))
                         (composite_type IM)
                         (lift_sub_label IM
                            (elements
                               (list_to_set
                                  (enum index)
                                ‚àñ byzantine)))
                         (lift_sub_state IM
                            (elements
                               (list_to_set
                                  (enum index)
                                ‚àñ byzantine)))) tr0))))
          m
  | None =&gt;
      state_annotation
        (finite_trace_last
           {|
             original_state :=
               lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si;
             state_annotation := ‚àÖ
           |}
           (msg_dep_annotate_trace_with_equivocators
              IM full_message_dependencies sender
              (lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)) si)
              (map
                 (pre_VLSM_embedding_transition_item_project
                    (composite_type
                       (sub_IM IM
                          (elements
                             (list_to_set (enum index)
                              ‚àñ byzantine))))
                    (composite_type IM)
                    (lift_sub_label IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))
                    (lift_sub_state IM
                       (elements
                          (list_to_set (enum index)
                           ‚àñ byzantine)))) tr0)))
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk97" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk97"><span class="nb">remember</span> (@finite_trace_last _ (annotated_type (free_composite_vlsm IM) _) _ _)
      <span class="kr">as</span> lst <span class="kr">in</span> Htr0_eqv_byzantine <span class="nb">at</span> <span class="mi">1</span> |- * <span class="nb">at</span> <span class="mi">1</span> <span class="mi">2</span> <span class="mi">3</span> <span class="mi">4</span> <span class="mi">5</span> <span class="mi">6</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          (existT (dexist i Hi) li);
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation lst
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender) (original_state lst) m
            | None =&gt; state_annotation lst
            <span class="kr">end</span>
        |};
      output := oom
    |}])
‚àß <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      state_annotation lst
      ‚à™ coeqv_message_equivocators IM sender
          (msg_dep_coequivocating_senders IM
             full_message_dependencies sender)
          (original_state lst) m
  | None =&gt; state_annotation lst
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk98" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk98"><span class="nb">assert</span> (Hlsti : original_state lst = lift_sub_state IM
      (elements (list_to_set (enum index) ‚àñ byzantine)) (finite_trace_last si tr0)).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">original_state lst =
lift_sub_state IM
  (elements (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk99" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk99"><hr></label><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          (existT (dexist i Hi) li);
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation lst
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                      full_message_dependencies sender)
                    (original_state lst) m
            | None =&gt; state_annotation lst
            <span class="kr">end</span>
        |};
      output := oom
    |}])
‚àß <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      state_annotation lst
      ‚à™ coeqv_message_equivocators IM sender
          (msg_dep_coequivocating_senders IM
             full_message_dependencies sender)
          (original_state lst) m
  | None =&gt; state_annotation lst
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk9a" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk9a">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">original_state lst =
lift_sub_state IM
  (elements (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk9b" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk9b"><span class="nb">subst</span> lst; <span class="nb">rewrite</span> msg_dep_annotate_trace_with_equivocators_last_original_state; <span class="nb">symmetry</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ byzantine)) si;
       state_annotation := ‚àÖ
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM
        full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ byzantine)) si)
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ byzantine)))
           tr0))) ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">lift_sub_state IM
  (elements (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0) =
finite_trace_last
  (original_state
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine))
           si;
       state_annotation := ‚àÖ
     |})
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)))
     tr0)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="nb">apply</span> (pre_VLSM_embedding_finite_trace_last _ _
              (lift_sub_label IM _)
              (lift_sub_state IM _)).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk9c" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk9c">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          (existT (dexist i Hi) li);
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation lst
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender) (original_state lst) m
            | None =&gt; state_annotation lst
            <span class="kr">end</span>
        |};
      output := oom
    |}])
‚àß <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      state_annotation lst
      ‚à™ coeqv_message_equivocators IM sender
          (msg_dep_coequivocating_senders IM
             full_message_dependencies sender)
          (original_state lst) m
  | None =&gt; state_annotation lst
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk9d" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk9d"><span class="kr">match goal with</span>
    |- _ /\ <span class="nl">?B</span> =&gt; <span class="nb">cut</span> B
    <span class="kr">end</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs
‚Üí finite_valid_trace Limited
    {|
      original_state :=
        lift_sub_state IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          si;
      state_annotation := ‚àÖ
    |}
    (msg_dep_annotate_trace_with_equivocators IM
       full_message_dependencies sender
       (lift_sub_state IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          si)
       (map
          (pre_VLSM_embedding_transition_item_project
             (composite_type
                (sub_IM IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine))))
             (composite_type IM)
             (lift_sub_label IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)))
             (lift_sub_state IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)))) tr0) ++
     [{|
        l :=
          lift_sub_label IM
            (elements
               (list_to_set (enum index) ‚àñ byzantine))
            (existT (dexist i Hi) li);
        input := iom;
        destination :=
          {|
            original_state :=
              lift_sub_state IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)) sf;
            state_annotation :=
              <span class="kr">match</span> iom <span class="kr">with</span>
              | Some m =&gt;
                  state_annotation lst
                  ‚à™ coeqv_message_equivocators IM
                      sender
                      (msg_dep_coequivocating_senders
                         IM full_message_dependencies
                         sender) (original_state lst)
                      m
              | None =&gt; state_annotation lst
              <span class="kr">end</span>
          |};
        output := oom
      |}])
  ‚àß <span class="kr">match</span> iom <span class="kr">with</span>
    | Some m =&gt;
        state_annotation lst
        ‚à™ coeqv_message_equivocators IM sender
            (msg_dep_coequivocating_senders IM
               full_message_dependencies sender)
            (original_state lst) m
    | None =&gt; state_annotation lst
    <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chk9e" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chk9e"><hr></label><div class="goal-conclusion"><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chk9f" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chk9f">{</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs
‚Üí finite_valid_trace Limited
    {|
      original_state :=
        lift_sub_state IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          si;
      state_annotation := ‚àÖ
    |}
    (msg_dep_annotate_trace_with_equivocators IM
       full_message_dependencies sender
       (lift_sub_state IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          si)
       (map
          (pre_VLSM_embedding_transition_item_project
             (composite_type
                (sub_IM IM
                   (elements
                      (list_to_set (enum index)
                       ‚àñ byzantine))))
             (composite_type IM)
             (lift_sub_label IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)))
             (lift_sub_state IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)))) tr0) ++
     [{|
        l :=
          lift_sub_label IM
            (elements
               (list_to_set (enum index) ‚àñ byzantine))
            (existT (dexist i Hi) li);
        input := iom;
        destination :=
          {|
            original_state :=
              lift_sub_state IM
                (elements
                   (list_to_set (enum index)
                    ‚àñ byzantine)) sf;
            state_annotation :=
              <span class="kr">match</span> iom <span class="kr">with</span>
              | Some m =&gt;
                  state_annotation lst
                  ‚à™ coeqv_message_equivocators IM
                      sender
                      (msg_dep_coequivocating_senders
                         IM full_message_dependencies
                         sender) (original_state lst)
                      m
              | None =&gt; state_annotation lst
              <span class="kr">end</span>
          |};
        output := oom
      |}])
  ‚àß <span class="kr">match</span> iom <span class="kr">with</span>
    | Some m =&gt;
        state_annotation lst
        ‚à™ coeqv_message_equivocators IM sender
            (msg_dep_coequivocating_senders IM
               full_message_dependencies sender)
            (original_state lst) m
    | None =&gt; state_annotation lst
    <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka0" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka0"><span class="nb">intro</span> Heqv_byzantine.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM
        sender
        (msg_dep_coequivocating_senders
           IM
           full_message_dependencies
           sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          (existT (dexist i Hi) li);
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation lst
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender) (original_state lst) m
            | None =&gt; state_annotation lst
            <span class="kr">end</span>
        |};
      output := oom
    |}])
‚àß <span class="kr">match</span> iom <span class="kr">with</span>
  | Some m =&gt;
      state_annotation lst
      ‚à™ coeqv_message_equivocators IM sender
          (msg_dep_coequivocating_senders IM
             full_message_dependencies sender)
          (original_state lst) m
  | None =&gt; state_annotation lst
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka1" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka1"><span class="kp">do</span> <span class="mi">2</span> (<span class="nb">split</span>; [| <span class="bp">done</span>]).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM
        sender
        (msg_dep_coequivocating_senders
           IM
           full_message_dependencies
           sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index) ‚àñ byzantine)) si)
     (map
        (pre_VLSM_embedding_transition_item_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))))
        tr0) ++
   [{|
      l :=
        lift_sub_label IM
          (elements
             (list_to_set (enum index) ‚àñ byzantine))
          (existT (dexist i Hi) li);
      input := iom;
      destination :=
        {|
          original_state :=
            lift_sub_state IM
              (elements
                 (list_to_set (enum index) ‚àñ byzantine))
              sf;
          state_annotation :=
            <span class="kr">match</span> iom <span class="kr">with</span>
            | Some m =&gt;
                state_annotation lst
                ‚à™ coeqv_message_equivocators IM sender
                    (msg_dep_coequivocating_senders IM
                       full_message_dependencies
                       sender) (original_state lst) m
            | None =&gt; state_annotation lst
            <span class="kr">end</span>
        |};
      output := oom
    |}])</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka2" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka2"><span class="nb">apply</span> finite_valid_trace_from_app_iff; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM
        sender
        (msg_dep_coequivocating_senders
           IM
           full_message_dependencies
           sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace_from Limited
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine))
           si;
       state_annotation := ‚àÖ
     |}
     (msg_dep_annotate_trace_with_equivocators IM
        full_message_dependencies sender
        (lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine))
           si)
        (map
           (pre_VLSM_embedding_transition_item_project
              (composite_type
                 (sub_IM IM
                    (elements
                       (list_to_set (enum index)
                        ‚àñ byzantine))))
              (composite_type IM)
              (lift_sub_label IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)))
              (lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)))) tr0)))
  [{|
     l :=
       lift_sub_label IM
         (elements
            (list_to_set (enum index) ‚àñ byzantine))
         (existT (dexist i Hi) li);
     input := iom;
     destination :=
       {|
         original_state :=
           lift_sub_state IM
             (elements
                (list_to_set (enum index) ‚àñ byzantine))
             sf;
         state_annotation :=
           <span class="kr">match</span> iom <span class="kr">with</span>
           | Some m =&gt;
               state_annotation lst
               ‚à™ coeqv_message_equivocators IM sender
                   (msg_dep_coequivocating_senders IM
                      full_message_dependencies sender)
                   (original_state lst) m
           | None =&gt; state_annotation lst
           <span class="kr">end</span>
       |};
     output := oom
   |}]</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka3" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka3"><span class="nb">subst</span> x; <span class="nb">cbn</span>; <span class="nb">apply</span> finite_valid_trace_singleton.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM
        sender
        (msg_dep_coequivocating_senders
           IM
           full_message_dependencies
           sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Limited
  (lift_sub_label IM
     (elements (list_to_set (enum index) ‚àñ byzantine))
     (existT (dexist i Hi) li))
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine))
           si;
       state_annotation := ‚àÖ
     |}
     (msg_dep_annotate_trace_with_equivocators IM
        full_message_dependencies sender
        (lift_sub_state IM
           (elements
              (list_to_set (enum index) ‚àñ byzantine))
           si)
        (map
           (pre_VLSM_embedding_transition_item_project
              (composite_type
                 (sub_IM IM
                    (elements
                       (list_to_set (enum index)
                        ‚àñ byzantine))))
              (composite_type IM)
              (lift_sub_label IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)))
              (lift_sub_state IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ byzantine)))) tr0)), iom)
  ({|
     original_state :=
       lift_sub_state IM
         (elements
            (list_to_set (enum index) ‚àñ byzantine)) sf;
     state_annotation :=
       <span class="kr">match</span> iom <span class="kr">with</span>
       | Some m =&gt;
           state_annotation lst
           ‚à™ coeqv_message_equivocators IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender)
               (original_state lst) m
       | None =&gt; state_annotation lst
       <span class="kr">end</span>
   |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka4" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka4"><span class="nb">replace</span> (finite_trace_last _ _) <span class="kr">with</span> lst.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM
        sender
        (msg_dep_coequivocating_senders
           IM
           full_message_dependencies
           sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">input_valid_transition Limited
  (lift_sub_label IM
     (elements (list_to_set (enum index) ‚àñ byzantine))
     (existT (dexist i Hi) li)) (lst, iom)
  ({|
     original_state :=
       lift_sub_state IM
         (elements
            (list_to_set (enum index) ‚àñ byzantine)) sf;
     state_annotation :=
       <span class="kr">match</span> iom <span class="kr">with</span>
       | Some m =&gt;
           state_annotation lst
           ‚à™ coeqv_message_equivocators IM sender
               (msg_dep_coequivocating_senders IM
                  full_message_dependencies sender)
               (original_state lst) m
       | None =&gt; state_annotation lst
       <span class="kr">end</span>
   |}, oom)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">eapply</span> lift_preloaded_fixed_non_byzantine_valid_transition_to_limited;
        [| | <span class="nb">subst</span> lst; <span class="nb">apply</span> finite_valid_trace_last_pstate | |].</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka5" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka5">}</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>iom, oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := iom;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, iom) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">match</span> iom <span class="kr">with</span>
| Some m =&gt;
    state_annotation lst
    ‚à™ coeqv_message_equivocators IM sender
        (msg_dep_coequivocating_senders IM
           full_message_dependencies sender)
        (original_state lst) m
| None =&gt; state_annotation lst
<span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka6" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka6"><span class="nb">destruct</span> iom <span class="kr">as</span> [im |]; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">state_annotation lst
‚à™ coeqv_message_equivocators IM sender
    (msg_dep_coequivocating_senders IM
       full_message_dependencies sender)
    (original_state lst) im ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka7" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka7"><span class="nb">apply</span> union_subseteq; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">coeqv_message_equivocators IM sender
  (msg_dep_coequivocating_senders IM
     full_message_dependencies sender)
  (original_state lst) im ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka8" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka8"><span class="nb">unfold</span> coeqv_message_equivocators
    ; case_decide <span class="kr">as</span> Hnobs; [<span class="bp">by</span> <span class="nb">apply</span> empty_subseteq |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">list_to_set
  (omap sender [im] ++
   elements
     (msg_dep_coequivocating_senders IM
        full_message_dependencies sender
        (original_state lst) im)) ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chka9" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chka9"><span class="nb">rewrite</span> (full_node_msg_dep_coequivocating_senders _ _ _ _ Hfull _ _ i li);
      [| <span class="bp">by</span> <span class="nb">cbn</span>; <span class="nb">rewrite</span> Hlsti; <span class="nb">eapply</span> @preloaded_sub_composite_input_valid_projection, Hx].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">list_to_set (omap sender [im] ++ elements ‚àÖ)
‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkaa" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkaa"><span class="nb">rewrite</span> elements_empty, app_nil_r; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">list_to_set
  <span class="kr">match</span> sender im <span class="kr">with</span>
  | Some y =&gt; [y]
  | None =&gt; []
  <span class="kr">end</span> ‚äÜ byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkab" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkab"><span class="nb">intro</span> _i_im; <span class="nb">rewrite</span> elem_of_list_to_set.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">_i_im
‚àà <span class="kr">match</span> sender im <span class="kr">with</span>
  | Some y =&gt; [y]
  | None =&gt; []
  <span class="kr">end</span> ‚Üí _i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkac" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkac"><span class="nb">destruct</span> (sender im) <span class="kr">as</span> [i_im |] <span class="nb">eqn</span>: Hsender; [| <span class="bp">by</span> <span class="nb">inversion</span> <span class="mi">1</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>_i_im, i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">_i_im ‚àà [i_im] ‚Üí _i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkad" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkad"><span class="nb">rewrite</span> elem_of_list_singleton; <span class="nb">intro</span>; <span class="nb">subst</span> _i_im.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hx</var><span class="hyp-type"><b>: </b><span>input_valid_transition
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)
  (existT (dexist i Hi) li)
  (finite_trace_last si tr0, Some im) (
  sf, oom)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkae" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkae"><span class="nb">destruct</span> Hx <span class="kr">as</span> [(_ &amp; _ &amp; _ &amp; [Hsent | [Hsigned _]] &amp; _) _].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (finite_trace_last si tr0, Some im).<span class="mi">1</span> im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chkaf" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>non_sub_index_authenticated_message
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  A sender im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chkaf"><hr></label><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb0" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb0">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (finite_trace_last si tr0, Some im).<span class="mi">1</span> im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb1" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb1"><span class="bp">contradict</span> Hnobs.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>composite_has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine)))
  (finite_trace_last si tr0, Some im).<span class="mi">1</span> im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM
  (original_state lst) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb2" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb2"><span class="nb">destruct</span> Hsent <span class="kr">as</span> [sub_i_im Hsent]; <span class="nb">cbn</span> <span class="kr">in</span> Hsent |- *
      ; destruct_dec_sig sub_i_im _i_im H_i_im Heqsub_i_im; <span class="nb">subst</span> sub_i_im.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  _i_im</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist _i_im H_i_im))
  (finite_trace_last si tr0
     (dexist _i_im H_i_im)) im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_directly_observed IM
  (original_state lst) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb3" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb3"><span class="nb">apply</span> composite_has_been_directly_observed_sent_received_iff; <span class="nb">left</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  _i_im</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist _i_im H_i_im))
  (finite_trace_last si tr0
     (dexist _i_im H_i_im)) im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_has_been_sent IM (original_state lst) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb4" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb4"><span class="kr">exists</span> <span class="nv">_i_im</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  _i_im</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist _i_im H_i_im))
  (finite_trace_last si tr0
     (dexist _i_im H_i_im)) im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM _i_im) (original_state lst _i_im) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb5" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb5"><span class="nb">rewrite</span> Hlsti; <span class="nb">cbn</span>; <span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  _i_im</span></span></span><br><span><var>Hsent</var><span class="hyp-type"><b>: </b><span>has_been_sent
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist _i_im H_i_im))
  (finite_trace_last si tr0
     (dexist _i_im H_i_im)) im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">has_been_sent (IM _i_im)
  (lift_sub_state_to IM
     (elements (list_to_set (enum index) ‚àñ byzantine))
     (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
     (finite_trace_last si tr0) _i_im) im</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (lift_sub_state_to_eq _ _ _ _ _ H_i_im).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb6" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb6">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>Hsigned</var><span class="hyp-type"><b>: </b><span>non_sub_index_authenticated_message
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  A sender im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb7" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb7"><span class="nb">destruct</span> Hsigned <span class="kr">as</span> (_i_im &amp; H_i_im &amp; Hauth).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>_i_im
‚àâ elements
    (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>channel_authenticated_message A sender _i_im
  im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb8" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb8"><span class="nb">unfold</span> channel_authenticated_message <span class="kr">in</span> Hauth
      ; <span class="nb">rewrite</span> Hsender <span class="kr">in</span> Hauth.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>_i_im</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>_i_im
‚àâ elements
    (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Hauth</var><span class="hyp-type"><b>: </b><span>option_map A (Some i_im) = Some _i_im</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkb9" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkb9"><span class="nb">apply</span> Some_inj <span class="kr">in</span> Hauth; <span class="nb">subst</span> _i_im.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>A i_im
‚àâ elements
    (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkba" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkba"><span class="nb">destruct</span> (decide (i_im ‚àà byzantine_vs)) <span class="kr">as</span> [Hi_im | Hni_im]; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>H_i_im</var><span class="hyp-type"><b>: </b><span>A i_im
‚àâ elements
    (list_to_set (enum index) ‚àñ byzantine)</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br><span><var>Hni_im</var><span class="hyp-type"><b>: </b><span>i_im ‚àâ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">i_im ‚àà byzantine_vs</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkbb" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkbb"><span class="bp">contradict</span> H_i_im.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br><span><var>Hni_im</var><span class="hyp-type"><b>: </b><span>i_im ‚àâ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A i_im
‚àà elements (list_to_set (enum index) ‚àñ byzantine)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkbc" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkbc"><span class="nb">apply</span> elem_of_elements, elem_of_difference; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br><span><var>Hni_im</var><span class="hyp-type"><b>: </b><span>i_im ‚àâ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A i_im ‚àà list_to_set (enum index) ‚àß A i_im ‚àâ byzantine</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkbd" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkbd"><span class="nb">split</span>; [<span class="bp">by</span> <span class="nb">apply</span> elem_of_list_to_set, elem_of_enum |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine_vs</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>byzantine</var><span><span class="hyp-body"><b>:= </b><span>set_map A byzantine_vs</span></span><span class="hyp-type"><b>: </b><span>Ci</span></span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine_vs &lt;= threshold)%R</span></span></span><br><span><var>si</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>tr0</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender) si tr0</span></span></span><br><span><var>sf</var><span class="hyp-type"><b>: </b><span>state
  (preloaded_fixed_non_byzantine_vlsm IM
     byzantine A sender)</span></span></span><br><span><var>im</var><span class="hyp-type"><b>: </b><span>message</span></span></span><br><span><var>oom</var><span class="hyp-type"><b>: </b><span>option message</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index) ‚àñ byzantine)) i</span></span></span><br><span><var>li</var><span class="hyp-type"><b>: </b><span>label
  (sub_IM IM
     (elements
        (list_to_set (enum index) ‚àñ byzantine))
     (dexist i Hi))</span></span></span><br><span><var>x</var><span><span class="hyp-body"><b>:= </b><span>{|
  l := existT (dexist i Hi) li;
  input := Some im;
  destination := sf;
  output := oom
|}</span></span><span class="hyp-type"><b>: </b><span>transition_item</span></span></span></span><br><span><var>i_im</var><span class="hyp-type"><b>: </b><span>validator</span></span></span><br><span><var>Htr0_ann</var><span class="hyp-type"><b>: </b><span>finite_valid_trace_from Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Hsi_ann</var><span class="hyp-type"><b>: </b><span>initial_state_prop
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := `inhabitant
  |}</span></span></span><br><span><var>lst</var><span class="hyp-type"><b>: </b><span>state
  (annotated_type (free_composite_vlsm IM) Cv)</span></span></span><br><span><var>Heqlst</var><span class="hyp-type"><b>: </b><span>lst =
finite_trace_last
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si;
    state_annotation := ‚àÖ
  |}
  (msg_dep_annotate_trace_with_equivocators
     IM full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ byzantine)) si)
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ byzantine))) tr0))</span></span></span><br><span><var>Htr0_eqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation lst
‚äÜ byzantine_vs</span></span></span><br><span><var>Hlsti</var><span class="hyp-type"><b>: </b><span>original_state lst =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ byzantine))
  (finite_trace_last si tr0)</span></span></span><br><span><var>Hnobs</var><span class="hyp-type"><b>: </b><span>¬¨ composite_has_been_directly_observed IM
    (original_state lst) im</span></span></span><br><span><var>Hsender</var><span class="hyp-type"><b>: </b><span>sender im = Some i_im</span></span></span><br><span><var>Hni_im</var><span class="hyp-type"><b>: </b><span>i_im ‚àâ byzantine_vs</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">A i_im ‚àâ byzantine</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="bp">contradict</span> Hni_im; <span class="nb">revert</span> Hni_im; <span class="nb">apply</span> elem_of_set_map_inj.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span></span></pre><div class="doc">
  Under full-message dependencies and full node assumptions, if all components are
  validators for the <span class="inlinecode"><span class="id" title="var">msg_dep_limited_equivocation_vlsm</span></span> associated to their
  composition, then the traces exposed limited Byzantine behavior coincide with
  the traces exposed to limited equivocation.

</div><pre class="alectryon-io highlight"><!-- Generator: Alectryon --><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkbe" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkbe"><span class="kn">Lemma</span> <span class="nf">msg_dep_validator_limited_non_equivocating_byzantine_traces_are_limited_non_equivocating</span> <span class="nv">s</span> <span class="nv">tr</span>
  : limited_byzantine_trace_prop (Ci := Ci) (Cv := Cv) IM threshold A sender s tr &lt;-&gt;
    <span class="kr">exists</span> <span class="nv">bs</span> <span class="nv">btr</span> <span class="nv">selection_vs</span>
      (<span class="nv">selection</span> : Ci := fin_sets.set_map A selection_vs)
      (<span class="nv">selection_complement</span> := difference (list_to_set (enum index)) selection),
      finite_valid_trace Limited bs btr /\
      state_annotation (finite_trace_last bs btr) ‚äÜ selection_vs /\
      (sum_weights selection_vs &lt;= threshold)%R /\
      composite_state_sub_projection IM (elements selection_complement) s =
        composite_state_sub_projection IM (elements selection_complement) (original_state bs) /\
      finite_trace_sub_projection IM (elements selection_complement) tr =
        finite_trace_sub_projection IM (elements selection_complement)
          (pre_VLSM_embedding_finite_trace_project
            Limited (composite_type IM) Datatypes.id original_state btr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop IM threshold A sender s
  tr
‚Üî (<span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
     (<span class="nv">selection_vs</span> : Cv),
     <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">selection_complement</span> :=
       list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
     finite_valid_trace Limited bs btr
     ‚àß state_annotation (finite_trace_last bs btr)
       ‚äÜ selection_vs
       ‚àß (sum_weights selection_vs &lt;= threshold)%R
         ‚àß composite_state_sub_projection IM
             (elements selection_complement) s =
           composite_state_sub_projection IM
             (elements selection_complement)
             (original_state bs)
           ‚àß finite_trace_sub_projection IM
               (elements selection_complement) tr =
             finite_trace_sub_projection IM
               (elements selection_complement)
               (pre_VLSM_embedding_finite_trace_project
                  Limited (composite_type IM)
                  Datatypes.id original_state btr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkbf" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkbf"><span class="kn">Proof</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop IM threshold A sender s
  tr
‚Üî (<span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
     (<span class="nv">selection_vs</span> : Cv),
     <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
     <span class="kr">let</span> <span class="nv">selection_complement</span> :=
       list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
     finite_valid_trace Limited bs btr
     ‚àß state_annotation (finite_trace_last bs btr)
       ‚äÜ selection_vs
       ‚àß (sum_weights selection_vs &lt;= threshold)%R
         ‚àß composite_state_sub_projection IM
             (elements selection_complement) s =
           composite_state_sub_projection IM
             (elements selection_complement)
             (original_state bs)
           ‚àß finite_trace_sub_projection IM
               (elements selection_complement) tr =
             finite_trace_sub_projection IM
               (elements selection_complement)
               (pre_VLSM_embedding_finite_trace_project
                  Limited (composite_type IM)
                  Datatypes.id original_state btr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc0" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc0"><span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop IM threshold A sender s
  tr
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
    (<span class="nv">selection_vs</span> : Cv),
    <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">selection_complement</span> :=
      list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
    finite_valid_trace Limited bs btr
    ‚àß state_annotation (finite_trace_last bs btr)
      ‚äÜ selection_vs
      ‚àß (sum_weights selection_vs &lt;= threshold)%R
        ‚àß composite_state_sub_projection IM
            (elements selection_complement) s =
          composite_state_sub_projection IM
            (elements selection_complement)
            (original_state bs)
          ‚àß finite_trace_sub_projection IM
              (elements selection_complement) tr =
            finite_trace_sub_projection IM
              (elements selection_complement)
              (pre_VLSM_embedding_finite_trace_project
                 Limited (composite_type IM)
                 Datatypes.id original_state btr)</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chkc1" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chkc1"><hr></label><div class="goal-conclusion">(<span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) 
   (<span class="nv">btr</span> : list transition_item) 
   (<span class="nv">selection_vs</span> : Cv),
   <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">selection_complement</span> :=
     list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
   finite_valid_trace Limited bs btr
   ‚àß state_annotation (finite_trace_last bs btr)
     ‚äÜ selection_vs
     ‚àß (sum_weights selection_vs &lt;= threshold)%R
       ‚àß composite_state_sub_projection IM
           (elements selection_complement) s =
         composite_state_sub_projection IM
           (elements selection_complement)
           (original_state bs)
         ‚àß finite_trace_sub_projection IM
             (elements selection_complement) tr =
           finite_trace_sub_projection IM
             (elements selection_complement)
             (pre_VLSM_embedding_finite_trace_project
                Limited 
                (composite_type IM) Datatypes.id
                original_state btr))
‚Üí limited_byzantine_trace_prop IM threshold A sender s
    tr</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc2" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc2">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop IM threshold A sender s
  tr
‚Üí <span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
    (<span class="nv">selection_vs</span> : Cv),
    <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
    <span class="kr">let</span> <span class="nv">selection_complement</span> :=
      list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
    finite_valid_trace Limited bs btr
    ‚àß state_annotation (finite_trace_last bs btr)
      ‚äÜ selection_vs
      ‚àß (sum_weights selection_vs &lt;= threshold)%R
        ‚àß composite_state_sub_projection IM
            (elements selection_complement) s =
          composite_state_sub_projection IM
            (elements selection_complement)
            (original_state bs)
          ‚àß finite_trace_sub_projection IM
              (elements selection_complement) tr =
            finite_trace_sub_projection IM
              (elements selection_complement)
              (pre_VLSM_embedding_finite_trace_project
                 Limited (composite_type IM)
                 Datatypes.id original_state btr)</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc3" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc3"><span class="nb">intros</span> (byzantine &amp; Hlimited &amp; Hbyzantine).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbyzantine</var><span class="hyp-type"><b>: </b><span>fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine) A sender s tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
  (<span class="nv">selection_vs</span> : Cv),
  <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">selection_complement</span> :=
    list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
  finite_valid_trace Limited bs btr
  ‚àß state_annotation (finite_trace_last bs btr)
    ‚äÜ selection_vs
    ‚àß (sum_weights selection_vs &lt;= threshold)%R
      ‚àß composite_state_sub_projection IM
          (elements selection_complement) s =
        composite_state_sub_projection IM
          (elements selection_complement)
          (original_state bs)
        ‚àß finite_trace_sub_projection IM
            (elements selection_complement) tr =
          finite_trace_sub_projection IM
            (elements selection_complement)
            (pre_VLSM_embedding_finite_trace_project
               Limited (composite_type IM)
               Datatypes.id original_state btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc4" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc4"><span class="nb">apply</span> lift_fixed_byzantine_traces_to_limited <span class="kr">in</span> Hbyzantine
       <span class="kr">as</span> [Hbtr Heqv_byzantine] ; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
  (<span class="nv">selection_vs</span> : Cv),
  <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
  <span class="kr">let</span> <span class="nv">selection_complement</span> :=
    list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
  finite_valid_trace Limited bs btr
  ‚àß state_annotation (finite_trace_last bs btr)
    ‚äÜ selection_vs
    ‚àß (sum_weights selection_vs &lt;= threshold)%R
      ‚àß composite_state_sub_projection IM
          (elements selection_complement) s =
        composite_state_sub_projection IM
          (elements selection_complement)
          (original_state bs)
        ‚àß finite_trace_sub_projection IM
            (elements selection_complement) tr =
          finite_trace_sub_projection IM
            (elements selection_complement)
            (pre_VLSM_embedding_finite_trace_project
               Limited (composite_type IM)
               Datatypes.id original_state btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc5" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc5"><span class="nb">eexists</span> _, _, byzantine; <span class="kp">do</span> <span class="mi">3</span> (<span class="nb">split</span>; [<span class="bp">done</span> |]); <span class="nb">split</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (original_state
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) s);
       state_annotation := `inhabitant
     |})</div></blockquote><div class="alectryon-extra-goals"><input class="alectryon-extra-goal-toggle" id="LimitedByzantineTraces-v-chkc6" style="display: none" type="checkbox"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><label class="goal-separator" for="LimitedByzantineTraces-v-chkc6"><hr></label><div class="goal-conclusion">finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project Limited
     (composite_type IM) Datatypes.id original_state
     (msg_dep_annotate_trace_with_equivocators IM
        full_message_dependencies sender
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ 
                     set_map A byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (finite_trace_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) tr))))</div></blockquote></div></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc7" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc7">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (original_state
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) s);
       state_annotation := `inhabitant
     |})</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc8" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc8">extensionality sub_i; destruct_dec_sig sub_i i Hi Heqsub_i; <span class="nb">subst</span>; <span class="nb">cbn</span>.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  s (dexist i Hi) =
lift_sub_state IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (composite_state_sub_projection IM
     (elements
        (list_to_set (enum index)
         ‚àñ set_map A byzantine)) s) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkc9" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkc9"><span class="nb">unfold</span> lift_sub_state.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br><span><var>i</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br><span><var>Hi</var><span class="hyp-type"><b>: </b><span>sub_index_prop
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) i</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">composite_state_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  s (dexist i Hi) =
lift_sub_state_to IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (<span class="kr">Œª</span> <span class="nv">n</span> : index, `(vs0 (IM n)))
  (composite_state_sub_projection IM
     (elements
        (list_to_set (enum index)
         ‚àñ set_map A byzantine)) s) i</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">rewrite</span> (lift_sub_state_to_eq _ _ _ _ _ Hi).</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkca" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkca">+</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project Limited
     (composite_type IM) Datatypes.id original_state
     (msg_dep_annotate_trace_with_equivocators IM
        full_message_dependencies sender
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ set_map A byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (finite_trace_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) tr))))</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkcb" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkcb"><span class="nb">subst</span> Limited.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (msg_dep_limited_equivocation_vlsm IM
     threshold full_message_dependencies sender)
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     (msg_dep_limited_equivocation_vlsm IM threshold
        full_message_dependencies sender)
     (composite_type IM) Datatypes.id original_state
     (msg_dep_annotate_trace_with_equivocators IM
        full_message_dependencies sender
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ set_map A byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (finite_trace_sub_projection IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)) tr))))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkcc" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkcc"><span class="nb">rewrite</span> msg_dep_annotate_trace_with_equivocators_project.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (msg_dep_limited_equivocation_vlsm IM
     threshold full_message_dependencies sender)
  {|
    original_state :=
      lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s);
    state_annotation := `inhabitant
  |}
  (msg_dep_annotate_trace_with_equivocators IM
     full_message_dependencies sender
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (composite_state_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) s))
     (pre_VLSM_embedding_finite_trace_project
        (composite_type
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine))))
        (composite_type IM)
        (lift_sub_label IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (lift_sub_state IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (finite_trace_sub_projection IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)) tr)))</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last
     {|
       original_state :=
         lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s);
       state_annotation :=
         `inhabitant
     |}
     (msg_dep_annotate_trace_with_equivocators
        IM full_message_dependencies
        sender
        (lift_sub_state IM
           (elements
              (list_to_set
                 (enum index)
               ‚àñ set_map A byzantine))
           (composite_state_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) s))
        (pre_VLSM_embedding_finite_trace_project
           (composite_type
              (sub_IM IM
                 (elements
                    (list_to_set
                      (enum index)
                     ‚àñ 
                     set_map A
                      byzantine))))
           (composite_type IM)
           (lift_sub_label IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (lift_sub_state IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)))
           (finite_trace_sub_projection
              IM
              (elements
                 (list_to_set
                    (enum index)
                  ‚àñ set_map A
                      byzantine)) tr))))
‚äÜ byzantine</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index) ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     (composite_type
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine))))
     (composite_type IM)
     (lift_sub_label IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)))
     (lift_sub_state IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)))
     (finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)) tr))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">      </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">symmetry</span>; <span class="nb">apply</span> composite_trace_sub_projection_lift.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">  </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkcd" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkcd">-</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">(<span class="kr">‚àÉ</span> (<span class="nv">bs</span> : state Limited) (<span class="nv">btr</span> : list transition_item) 
   (<span class="nv">selection_vs</span> : Cv),
   <span class="kr">let</span> <span class="nv">selection</span> := set_map A selection_vs <span class="kr">in</span>
   <span class="kr">let</span> <span class="nv">selection_complement</span> :=
     list_to_set (enum index) ‚àñ selection <span class="kr">in</span>
   finite_valid_trace Limited bs btr
   ‚àß state_annotation (finite_trace_last bs btr)
     ‚äÜ selection_vs
     ‚àß (sum_weights selection_vs &lt;= threshold)%R
       ‚àß composite_state_sub_projection IM
           (elements selection_complement) s =
         composite_state_sub_projection IM
           (elements selection_complement)
           (original_state bs)
         ‚àß finite_trace_sub_projection IM
             (elements selection_complement) tr =
           finite_trace_sub_projection IM
             (elements selection_complement)
             (pre_VLSM_embedding_finite_trace_project
                Limited (composite_type IM)
                Datatypes.id original_state btr))
‚Üí limited_byzantine_trace_prop IM threshold A sender s
    tr</div></blockquote></div></div></small><span class="alectryon-wsp"> </span></span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkce" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkce"><span class="nb">intros</span> (bs &amp; btr &amp; byzantine &amp; Hbtr &amp; Heqv_byzantine &amp; Hlimited &amp; His_pr &amp; Htr_pr).</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs)</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">limited_byzantine_trace_prop IM threshold A sender s
  tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkcf" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkcf"><span class="kr">exists</span> <span class="nv">byzantine</span>; <span class="nb">split</span>; [<span class="bp">done</span> |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs)</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">fixed_byzantine_trace_alt_prop IM
  (set_map A byzantine) A sender s tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd0" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd0"><span class="nb">eapply</span> VLSM_incl_finite_valid_trace
    ; [<span class="bp">by</span> <span class="nb">apply</span> fixed_non_equivocating_incl_fixed_non_byzantine |].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs)</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  {|
    vlsm_type :=
      composite_vlsm
        (sub_IM IM
           (elements
              (list_to_set (enum index)
               ‚àñ set_map A byzantine)))
        (NoEquivocation.no_equivocations_additional_constraint_with_preloaded
           (sub_IM IM
              (elements
                 (list_to_set (enum index)
                  ‚àñ set_map A byzantine)))
           (free_constraint
              (sub_IM IM
                 (elements
                    (list_to_set (enum index)
                     ‚àñ set_map A byzantine))))
           (fixed_set_signed_message IM
              (set_map A byzantine) A sender));
    vlsm_machine :=
      pre_induced_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine))
        (fixed_equivocation_constraint IM
           (set_map A byzantine))
  |}
  (composite_state_sub_projection IM
     (elements
        (list_to_set (enum index)
         ‚àñ set_map A byzantine)) s)
  (finite_trace_sub_projection IM
     (elements
        (list_to_set (enum index)
         ‚àñ set_map A byzantine)) tr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd1" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd1"><span class="nb">apply</span> fixed_non_equivocating_traces_char.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs)</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">eis</span> : state
           (fixed_equivocation_vlsm_composition IM
              (set_map A byzantine))) (<span class="nv">etr</span> : list
                                               transition_item),
  finite_valid_trace
    (fixed_equivocation_vlsm_composition IM
       (set_map A byzantine)) eis etr
  ‚àß composite_state_sub_projection IM
      (elements
         (list_to_set (enum index)
          ‚àñ set_map A byzantine)) eis =
    composite_state_sub_projection IM
      (elements
         (list_to_set (enum index)
          ‚àñ set_map A byzantine)) s
    ‚àß finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)) etr =
      finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)) tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd2" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd2"><span class="nb">symmetry in</span> His_pr, Htr_pr.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs) =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr) =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion"><span class="kr">‚àÉ</span> (<span class="nv">eis</span> : state
           (fixed_equivocation_vlsm_composition IM
              (set_map A byzantine))) (<span class="nv">etr</span> : list
                                               transition_item),
  finite_valid_trace
    (fixed_equivocation_vlsm_composition IM
       (set_map A byzantine)) eis etr
  ‚àß composite_state_sub_projection IM
      (elements
         (list_to_set (enum index)
          ‚àñ set_map A byzantine)) eis =
    composite_state_sub_projection IM
      (elements
         (list_to_set (enum index)
          ‚àñ set_map A byzantine)) s
    ‚àß finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)) etr =
      finite_trace_sub_projection IM
        (elements
           (list_to_set (enum index)
            ‚àñ set_map A byzantine)) tr</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd3" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd3"><span class="nb">eexists</span> _, _; <span class="nb">split</span>; [| <span class="bp">done</span>].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace Limited bs btr</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs) =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr) =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (fixed_equivocation_vlsm_composition IM
     (set_map A byzantine)) (original_state bs)
  (pre_VLSM_embedding_finite_trace_project Limited
     (composite_type IM) Datatypes.id original_state
     btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd4" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd4"><span class="nb">eapply</span> @msg_dep_fixed_limited_equivocation_witnessed <span class="kr">in</span> Hbtr <span class="kr">as</span> [_ Hbtr]; [| <span class="bp">done</span>..].</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs) =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr) =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr</span></span></span><br><span><var>Hbtr</var><span class="hyp-type"><b>: </b><span>finite_valid_trace
  (fixed_equivocation_vlsm_composition IM
     (set_map A
        (state_annotation
           (finite_trace_last bs btr))))
  (original_state bs)
  (pre_VLSM_embedding_finite_trace_project
     (msg_dep_limited_equivocation_vlsm IM
        threshold full_message_dependencies
        sender) (composite_type IM)
     Datatypes.id original_state btr)</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">finite_valid_trace
  (fixed_equivocation_vlsm_composition IM
     (set_map A byzantine)) (original_state bs)
  (pre_VLSM_embedding_finite_trace_project Limited
     (composite_type IM) Datatypes.id original_state
     btr)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd5" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd5"><span class="nb">revert</span> Hbtr; <span class="nb">apply</span> VLSM_incl_finite_valid_trace.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs) =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr) =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">VLSM_incl_part
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (fixed_equivocation_constraint IM
        (set_map A
           (state_annotation
              (finite_trace_last bs btr)))))
  (constrained_vlsm_machine (free_composite_vlsm IM)
     (fixed_equivocation_constraint IM
        (set_map A byzantine)))</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd6" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd6"><span class="nb">apply</span> fixed_equivocation_vlsm_composition_index_incl.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs) =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr) =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">elements
  (set_map A
     (state_annotation (finite_trace_last bs btr)))
‚äÜ elements (set_map A byzantine)</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><input class="alectryon-toggle" id="LimitedByzantineTraces-v-chkd7" style="display: none" type="checkbox"><label class="alectryon-input" for="LimitedByzantineTraces-v-chkd7"><span class="nb">intro</span>; <span class="nb">rewrite</span> !elem_of_elements.</label><small class="alectryon-output"><div><div class="alectryon-goals"><blockquote class="alectryon-goal"><div class="goal-hyps"><span><var>message, index, Ci</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H</var><span class="hyp-type"><b>: </b><span>ElemOf index Ci</span></span></span><br><span><var>H0</var><span class="hyp-type"><b>: </b><span>Empty Ci</span></span></span><br><span><var>H1</var><span class="hyp-type"><b>: </b><span>Singleton index Ci</span></span></span><br><span><var>H2</var><span class="hyp-type"><b>: </b><span>Union Ci</span></span></span><br><span><var>H3</var><span class="hyp-type"><b>: </b><span>Intersection Ci</span></span></span><br><span><var>H4</var><span class="hyp-type"><b>: </b><span>Difference Ci</span></span></span><br><span><var>H5</var><span class="hyp-type"><b>: </b><span>Elements index Ci</span></span></span><br><span><var>EqDecision0</var><span class="hyp-type"><b>: </b><span>EqDecision index</span></span></span><br><span><var>H6</var><span class="hyp-type"><b>: </b><span>FinSet index Ci</span></span></span><br><span><var>H7</var><span class="hyp-type"><b>: </b><span>finite.Finite index</span></span></span><br><span><var>IM</var><span class="hyp-type"><b>: </b><span>index ‚Üí VLSM message</span></span></span><br><span><var>H8</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenSentCapability (IM i)</span></span></span><br><span><var>H9</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index, HasBeenReceivedCapability (IM i)</span></span></span><br><span><var>threshold</var><span class="hyp-type"><b>: </b><span>R</span></span></span><br><span><var>validator, Cv</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>Hm</var><span class="hyp-type"><b>: </b><span>Measurable validator</span></span></span><br><span><var>H10</var><span class="hyp-type"><b>: </b><span>ElemOf validator Cv</span></span></span><br><span><var>H11</var><span class="hyp-type"><b>: </b><span>Empty Cv</span></span></span><br><span><var>H12</var><span class="hyp-type"><b>: </b><span>Singleton validator Cv</span></span></span><br><span><var>H13</var><span class="hyp-type"><b>: </b><span>Union Cv</span></span></span><br><span><var>H14</var><span class="hyp-type"><b>: </b><span>Intersection Cv</span></span></span><br><span><var>H15</var><span class="hyp-type"><b>: </b><span>Difference Cv</span></span></span><br><span><var>H16</var><span class="hyp-type"><b>: </b><span>Elements validator Cv</span></span></span><br><span><var>EqDecision1</var><span class="hyp-type"><b>: </b><span>EqDecision validator</span></span></span><br><span><var>H17</var><span class="hyp-type"><b>: </b><span>FinSet validator Cv</span></span></span><br><span><var>H18</var><span class="hyp-type"><b>: </b><span>ReachableThreshold validator Cv threshold</span></span></span><br><span><var>H19</var><span class="hyp-type"><b>: </b><span>finite.Finite validator</span></span></span><br><span><var>Cm</var><span class="hyp-type"><b>: </b><span><span class="kt">Type</span></span></span></span><br><span><var>H20</var><span class="hyp-type"><b>: </b><span>ElemOf message Cm</span></span></span><br><span><var>H21</var><span class="hyp-type"><b>: </b><span>Empty Cm</span></span></span><br><span><var>H22</var><span class="hyp-type"><b>: </b><span>Singleton message Cm</span></span></span><br><span><var>H23</var><span class="hyp-type"><b>: </b><span>Union Cm</span></span></span><br><span><var>H24</var><span class="hyp-type"><b>: </b><span>Intersection Cm</span></span></span><br><span><var>H25</var><span class="hyp-type"><b>: </b><span>Difference Cm</span></span></span><br><span><var>H26</var><span class="hyp-type"><b>: </b><span>Elements message Cm</span></span></span><br><span><var>EqDecision2</var><span class="hyp-type"><b>: </b><span>EqDecision message</span></span></span><br><span><var>H27</var><span class="hyp-type"><b>: </b><span>FinSet message Cm</span></span></span><br><span><var>message_dependencies, full_message_dependencies</var><span class="hyp-type"><b>: </b><span>message ‚Üí Cm</span></span></span><br><span><var>FullMessageDependencies0</var><span class="hyp-type"><b>: </b><span>FullMessageDependencies
  message_dependencies
  full_message_dependencies</span></span></span><br><span><var>H28</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  MessageDependencies (IM i)
    message_dependencies</span></span></span><br><span><var>sender</var><span class="hyp-type"><b>: </b><span>message ‚Üí option validator</span></span></span><br><span><var>A</var><span class="hyp-type"><b>: </b><span>validator ‚Üí index</span></span></span><br><span><var>Inj0</var><span class="hyp-type"><b>: </b><span>Inj eq eq A</span></span></span><br><span><var>Limited</var><span><span class="hyp-body"><b>:= </b><span>msg_dep_limited_equivocation_vlsm IM
  threshold full_message_dependencies sender</span></span><span class="hyp-type"><b>: </b><span>VLSM message</span></span></span></span><br><span><var>no_initial_messages_in_IM</var><span class="hyp-type"><b>: </b><span>no_initial_messages_in_IM_prop
  IM</span></span></span><br><span><var>Hchannel</var><span class="hyp-type"><b>: </b><span>channel_authentication_prop IM A sender</span></span></span><br><span><var>Hvalidator</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  msg_dep_limited_equivocation_message_validator_prop
    IM threshold
    full_message_dependencies sender i</span></span></span><br><span><var>Hfull</var><span class="hyp-type"><b>: </b><span><span class="kr">‚àÄ</span> <span class="nv">i</span> : index,
  message_dependencies_full_node_condition_prop
    (IM i) message_dependencies</span></span></span><br><span><var>s</var><span class="hyp-type"><b>: </b><span>composite_state IM</span></span></span><br><span><var>tr</var><span class="hyp-type"><b>: </b><span>list (composite_transition_item IM)</span></span></span><br><span><var>bs</var><span class="hyp-type"><b>: </b><span>state Limited</span></span></span><br><span><var>btr</var><span class="hyp-type"><b>: </b><span>list transition_item</span></span></span><br><span><var>byzantine</var><span class="hyp-type"><b>: </b><span>Cv</span></span></span><br><span><var>Heqv_byzantine</var><span class="hyp-type"><b>: </b><span>state_annotation
  (finite_trace_last bs btr)
‚äÜ byzantine</span></span></span><br><span><var>Hlimited</var><span class="hyp-type"><b>: </b><span>(sum_weights byzantine &lt;= threshold)%R</span></span></span><br><span><var>His_pr</var><span class="hyp-type"><b>: </b><span>composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (original_state bs) =
composite_state_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) s</span></span></span><br><span><var>Htr_pr</var><span class="hyp-type"><b>: </b><span>finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine))
  (pre_VLSM_embedding_finite_trace_project
     Limited (composite_type IM) Datatypes.id
     original_state btr) =
finite_trace_sub_projection IM
  (elements
     (list_to_set (enum index)
      ‚àñ set_map A byzantine)) tr</span></span></span><br><span><var>x</var><span class="hyp-type"><b>: </b><span>index</span></span></span><br></div><span class="goal-separator"><hr></span><div class="goal-conclusion">x
‚àà set_map A
    (state_annotation (finite_trace_last bs btr))
‚Üí x ‚àà set_map A byzantine</div></blockquote></div></div></small><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">    </span><span class="alectryon-sentence"><span class="alectryon-input"><span class="bp">by</span> <span class="nb">apply</span> set_map_mono.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">Qed</span>.</span><span class="alectryon-wsp">
</span></span><span class="alectryon-wsp">
</span><span class="alectryon-sentence"><span class="alectryon-input"><span class="kn">End</span> <span class="nf">sec_msg_dep_limited_byzantine_traces</span>.</span></span></pre></article></body></html>